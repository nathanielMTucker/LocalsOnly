{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\nmtuc\\\\Desktop\\\\Dev\\\\web\\\\localsonly\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\nmtuc\\\\Desktop\\\\Dev\\\\web\\\\localsonly\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\nmtuc\\\\Desktop\\\\Dev\\\\web\\\\localsonly\\\\client\\\\src\\\\Login.jsx\";\n\nimport React, { useCallback, useContext } from \"react\";\nimport { withRouter, Redirect } from \"react-router\";\nimport app from \"./base\";\nimport { AuthContext } from \"./Auth\";\n\nvar Login = function Login(_ref) {\n  var history = _ref.history;\n  var handleLogin = useCallback( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var _event$target$element, email, password;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              _event$target$element = event.target.elements, email = _event$target$element.email, password = _event$target$element.password;\n              _context.prev = 2;\n              _context.next = 5;\n              return app.auth().signInWithEmailAndPassword(email.value, password.value);\n\n            case 5:\n              history.push(\"/\");\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](2);\n              alert(_context.t0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 8]]);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(), [history]);\n\n  var _useContext = useContext(AuthContext),\n      currentUser = _useContext.currentUser;\n\n  if (currentUser) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 16\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleLogin,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }, \"Email\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"Email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, \"password\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, \"Login\")));\n};\n\nexport default withRouter(Login);","map":{"version":3,"sources":["C:/Users/nmtuc/Desktop/Dev/web/localsonly/client/src/Login.jsx"],"names":["React","useCallback","useContext","withRouter","Redirect","app","AuthContext","Login","history","handleLogin","event","preventDefault","target","elements","email","password","auth","signInWithEmailAndPassword","value","push","alert","currentUser"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,UAA7B,QAA+C,OAA/C;AACA,SAAQC,UAAR,EAAoBC,QAApB,QAAmC,cAAnC;AACA,OAAOC,GAAP,MAAgB,QAAhB;AACA,SAAQC,WAAR,QAA0B,QAA1B;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,OAAe;AAAA,MAAbC,OAAa,QAAbA,OAAa;AACzB,MAAMC,WAAW,GAAGR,WAAW;AAAA,yEAC3B,iBAAMS,KAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AACIA,cAAAA,KAAK,CAACC,cAAN;AADJ,sCAE8BD,KAAK,CAACE,MAAN,CAAaC,QAF3C,EAEWC,KAFX,yBAEWA,KAFX,EAEkBC,QAFlB,yBAEkBA,QAFlB;AAAA;AAAA;AAAA,qBAIcV,GAAG,CACJW,IADC,GAEDC,0BAFC,CAE0BH,KAAK,CAACI,KAFhC,EAEuCH,QAAQ,CAACG,KAFhD,CAJd;;AAAA;AAOQV,cAAAA,OAAO,CAACW,IAAR,CAAa,GAAb;AAPR;AAAA;;AAAA;AAAA;AAAA;AASQC,cAAAA,KAAK,aAAL;;AATR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAD2B;;AAAA;AAAA;AAAA;AAAA,OAa3B,CAACZ,OAAD,CAb2B,CAA/B;;AADyB,oBAiBHN,UAAU,CAACI,WAAD,CAjBP;AAAA,MAiBlBe,WAjBkB,eAiBlBA,WAjBkB;;AAmBzB,MAAGA,WAAH,EAAe;AACX,wBAAO,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH;;AAED,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,eAEI;AAAM,IAAA,QAAQ,EAAEZ,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAEI;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAoB,IAAA,IAAI,EAAC,OAAzB;AAAiC,IAAA,WAAW,EAAC,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAEI;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,IAAI,EAAC,UAA5B;AAAuC,IAAA,WAAW,EAAC,UAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CALJ,eASI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aATJ,CAFJ,CADJ;AAgBH,CAvCD;;AAyCA,eAAeN,UAAU,CAACI,KAAD,CAAzB","sourcesContent":["import React, { useCallback, useContext } from \"react\";\r\nimport {withRouter, Redirect} from \"react-router\";\r\nimport app from \"./base\";\r\nimport {AuthContext} from \"./Auth\";\r\n\r\nconst Login = ({history}) => {\r\n    const handleLogin = useCallback(\r\n        async event => {\r\n            event.preventDefault();\r\n            const {email, password} = event.target.elements;\r\n            try{\r\n                await app\r\n                    .auth()\r\n                    .signInWithEmailAndPassword(email.value, password.value)\r\n                history.push(\"/\");\r\n            }catch(err){\r\n                alert(err);\r\n            }\r\n        },\r\n        [history]\r\n    );\r\n\r\n    const {currentUser} = useContext(AuthContext);\r\n\r\n    if(currentUser){\r\n        return <Redirect to=\"/\"/>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <form onSubmit={handleLogin}>\r\n                <label>\r\n                    Email\r\n                    <input type=\"email\" name=\"email\" placeholder=\"Email\"/>\r\n                </label>\r\n                <label>\r\n                    password\r\n                    <input type=\"password\" name=\"password\" placeholder=\"Password\"/>\r\n                </label>\r\n                <button type=\"submit\">Login</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withRouter(Login);"]},"metadata":{},"sourceType":"module"}