{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\nmtuc\\\\Desktop\\\\Dev\\\\web\\\\localsonly\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\nmtuc\\\\Desktop\\\\Dev\\\\web\\\\localsonly\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\nmtuc\\\\Desktop\\\\Dev\\\\web\\\\localsonly\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\nmtuc\\\\Desktop\\\\Dev\\\\web\\\\localsonly\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\nmtuc\\\\Desktop\\\\Dev\\\\web\\\\localsonly\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\nmtuc\\\\Desktop\\\\Dev\\\\web\\\\localsonly\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\nmtuc\\\\Desktop\\\\Dev\\\\web\\\\localsonly\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\nmtuc\\\\Desktop\\\\Dev\\\\web\\\\localsonly\\\\client\\\\src\\\\Pages\\\\Local\\\\Local.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './Local.scss'; // import {TEST} from '../../globals';\n\nimport queryString from 'query-string';\n\nvar Local = /*#__PURE__*/function (_Component) {\n  _inherits(Local, _Component);\n\n  function Local(props) {\n    var _this;\n\n    _classCallCheck(this, Local);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Local).call(this, props));\n    _this.state = {\n      id: '',\n      items: [],\n      address: [],\n      loading: true,\n      page: null\n    };\n    return _this;\n  }\n\n  _createClass(Local, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        var id;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return queryString.parse(this.props.location.search).id;\n\n              case 2:\n                id = _context.sent;\n                this.setState({\n                  id: id\n                }, function () {\n                  _this2.loadItems();\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _this3 = this;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios.get(\"locals/\".concat(this.state.id)).then(function (res) {\n                  console.log(\"Postal courier has delivered your package!\");\n                  var data = res.data;\n\n                  _this3.setState({\n                    items: data,\n                    address: data.address,\n                    loading: false\n                  });\n                }).catch(function (err) {\n                  console.log(\"Postal courier has vanished!: \".concat(err));\n                });\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getData() {\n        return _getData.apply(this, arguments);\n      }\n\n      return getData;\n    }()\n  }, {\n    key: \"loadItems\",\n    value: function () {\n      var _loadItems = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var item, address;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.getData();\n\n              case 2:\n                item = this.state.items;\n                address = this.state.address;\n                this.setState({\n                  page: /*#__PURE__*/React.createElement(\"section\", {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 46,\n                      columnNumber: 29\n                    }\n                  }, /*#__PURE__*/React.createElement(\"h1\", {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 47,\n                      columnNumber: 13\n                    }\n                  }, item.name), /*#__PURE__*/React.createElement(\"h3\", {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 48,\n                      columnNumber: 13\n                    }\n                  }, item.description), /*#__PURE__*/React.createElement(\"p\", {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 49,\n                      columnNumber: 13\n                    }\n                  }, address.street), /*#__PURE__*/React.createElement(\"p\", {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 50,\n                      columnNumber: 13\n                    }\n                  }, address.city))\n                });\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function loadItems() {\n        return _loadItems.apply(this, arguments);\n      }\n\n      return loadItems;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"local\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }\n      }, this.state.page);\n    }\n  }]);\n\n  return Local;\n}(Component);\n\nexport { Local as default };","map":{"version":3,"sources":["C:/Users/nmtuc/Desktop/Dev/web/localsonly/client/src/Pages/Local/Local.jsx"],"names":["React","Component","axios","queryString","Local","props","state","id","items","address","loading","page","parse","location","search","setState","loadItems","get","then","res","console","log","data","catch","err","getData","item","name","description","street","city"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,cAAP,C,CACA;;AACA,OAAOC,WAAP,MAAwB,cAAxB;;IACqBC,K;;;AACjB,iBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACd,+EAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,EAAE,EAAC,EADM;AAETC,MAAAA,KAAK,EAAC,EAFG;AAGTC,MAAAA,OAAO,EAAC,EAHC;AAITC,MAAAA,OAAO,EAAC,IAJC;AAKTC,MAAAA,IAAI,EAAC;AALI,KAAb;AAFc;AASjB;;;;;;;;;;;;;;uBAEkBR,WAAW,CAACS,KAAZ,CAAkB,KAAKP,KAAL,CAAWQ,QAAX,CAAoBC,MAAtC,EAA8CP,E;;;AAAzDA,gBAAAA,E;AAEJ,qBAAKQ,QAAL,CAAc;AACNR,kBAAAA,EAAE,EAACA;AADG,iBAAd,EAGC,YAAI;AAAC,kBAAA,MAAI,CAACS,SAAL;AAAkB,iBAHxB;;;;;;;;;;;;;;;;;;;;;;;;;;;uBAMMd,KAAK,CAACe,GAAN,kBAAoB,KAAKX,KAAL,CAAWC,EAA/B,GACDW,IADC,CACI,UAACC,GAAD,EAAO;AACLC,kBAAAA,OAAO,CAACC,GAAR,CAAY,4CAAZ;AACA,sBAAMC,IAAI,GAAGH,GAAG,CAACG,IAAjB;;AAEA,kBAAA,MAAI,CAACP,QAAL,CAAc;AACNP,oBAAAA,KAAK,EAACc,IADA;AAENb,oBAAAA,OAAO,EAACa,IAAI,CAACb,OAFP;AAGNC,oBAAAA,OAAO,EAAE;AAHH,mBAAd;AAMH,iBAXH,EAaDa,KAbC,CAaK,UAACC,GAAD,EAAO;AAACJ,kBAAAA,OAAO,CAACC,GAAR,yCAA6CG,GAA7C;AAAqD,iBAblE,C;;;;;;;;;;;;;;;;;;;;;;;;;;uBAgBA,KAAKC,OAAL,E;;;AACFC,gBAAAA,I,GAAO,KAAKpB,KAAL,CAAWE,K;AAClBC,gBAAAA,O,GAAU,KAAKH,KAAL,CAAWG,O;AAEzB,qBAAKM,QAAL,CAAc;AAACJ,kBAAAA,IAAI,eAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAKe,IAAI,CAACC,IAAV,CADgB,eAEhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAKD,IAAI,CAACE,WAAV,CAFgB,eAGhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAInB,OAAO,CAACoB,MAAZ,CAHgB,eAIhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAIpB,OAAO,CAACqB,IAAZ,CAJgB;AAAN,iBAAd;;;;;;;;;;;;;;;;;;6BAQK;AACL,0BACI;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKxB,KAAL,CAAWK,IADhB,CADJ;AAKH;;;;EAtD8BV,S;;SAAdG,K","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport './Local.scss';\r\n// import {TEST} from '../../globals';\r\nimport queryString from 'query-string';\r\nexport default class Local extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            id:'',\r\n            items:[],\r\n            address:[],\r\n            loading:true,\r\n            page:null\r\n        }\r\n    }\r\n    async componentDidMount() {\r\n        let id = await queryString.parse(this.props.location.search).id;\r\n\r\n        this.setState({ \r\n                id:id,\r\n            }\r\n        ,()=>{this.loadItems();})\r\n    }\r\n    async getData(){\r\n        await axios.get(`locals/${this.state.id}`)\r\n            .then((res)=>{\r\n                    console.log(\"Postal courier has delivered your package!\");\r\n                    const data = res.data;\r\n\r\n                    this.setState({ \r\n                            items:data, \r\n                            address:data.address,\r\n                            loading: false \r\n                        }\r\n                    );\r\n                }\r\n            )\r\n            .catch((err)=>{console.log(`Postal courier has vanished!: ${err}`);});\r\n    }\r\n    async loadItems(){\r\n        await this.getData();\r\n        var item = this.state.items;\r\n        var address = this.state.address;\r\n        \r\n        this.setState({page:<section>\r\n            <h1>{item.name}</h1>\r\n            <h3>{item.description}</h3>\r\n            <p>{address.street}</p>\r\n            <p>{address.city}</p>\r\n        </section>\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"local\">\r\n                {this.state.page}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}