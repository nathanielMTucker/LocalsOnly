{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\nmtuc\\\\Desktop\\\\Dev\\\\web\\\\localsonly\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\nmtuc\\\\Desktop\\\\Dev\\\\web\\\\localsonly\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\nmtuc\\\\Desktop\\\\Dev\\\\web\\\\localsonly\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\nmtuc\\\\Desktop\\\\Dev\\\\web\\\\localsonly\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\nmtuc\\\\Desktop\\\\Dev\\\\web\\\\localsonly\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\nmtuc\\\\Desktop\\\\Dev\\\\web\\\\localsonly\\\\client\\\\src\\\\Pages\\\\Results\\\\Results.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios'; // import {TEST} from '../../globals';\n\nimport ResultsCard from '../../Components/ResultsCard';\nimport './results.scss';\nimport queryString from 'query-string';\nimport ClimbingBoxLoader from \"react-spinners/ClimbingBoxLoader\";\n\nvar Results = /*#__PURE__*/function (_Component) {\n  _inherits(Results, _Component);\n\n  function Results(props) {\n    var _this;\n\n    _classCallCheck(this, Results);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Results).call(this, props));\n    _this.state = {\n      what: [],\n      where: [],\n      items: [],\n      loading: true\n    };\n    return _this;\n  }\n\n  _createClass(Results, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var values = queryString.parse(this.props.location.search);\n      this.setState({\n        what: values.what,\n        where: values.where\n      }, function () {\n        _this2.getData();\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var values = queryString.parse(this.props.location.search);\n\n      if (this.state.what !== values.what || this.state.where !== values.where) {\n        this.setState({\n          what: values.what,\n          where: values.where,\n          loading: true\n        });\n        window.location.reload();\n      }\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var _this3 = this;\n\n      axios.get(\"locals/hashtags/\".concat(this.state.what, \"/address/\").concat(this.state.where)).then(function (res) {\n        console.log(\"Postal courier has delivered your package!\");\n        var data = res.data;\n\n        _this3.setState({\n          items: data,\n          loading: false\n        });\n      }).catch(function () {\n        console.log(\"Postal courier has vanished!\");\n      });\n    }\n  }, {\n    key: \"displayItems\",\n    value: function displayItems(posts) {\n      var _this4 = this;\n\n      if (!posts.length) return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 20\n        }\n      }, \"Nothing to see here\");else return posts.map(function (post, index) {\n        return /*#__PURE__*/React.createElement(ResultsCard, {\n          key: index,\n          id: post._id,\n          name: post.name,\n          description: post.description,\n          rating: post.rating,\n          reviewCount: post.reviewCount,\n          image: undefined,\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"results\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      }, this.state.loading ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"loading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 38\n        }\n      }, /*#__PURE__*/React.createElement(ClimbingBoxLoader, {\n        size: 30,\n        color: \"#000000\",\n        loading: this.state.loading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }\n      }, \"Loading up good stuff\")) : this.displayItems(this.state.items));\n    }\n  }]);\n\n  return Results;\n}(Component);\n\nexport { Results as default };","map":{"version":3,"sources":["C:/Users/nmtuc/Desktop/Dev/web/localsonly/client/src/Pages/Results/Results.jsx"],"names":["React","Component","axios","ResultsCard","queryString","ClimbingBoxLoader","Results","props","state","what","where","items","loading","values","parse","location","search","setState","getData","window","reload","get","then","res","console","log","data","catch","posts","length","map","post","index","_id","name","description","rating","reviewCount","undefined","displayItems"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n// import {TEST} from '../../globals';\r\nimport ResultsCard from '../../Components/ResultsCard';\r\nimport './results.scss';\r\nimport queryString from 'query-string';\r\nimport ClimbingBoxLoader from \"react-spinners/ClimbingBoxLoader\";\r\n\r\nexport default class Results extends Component {\r\n    constructor(props){\r\n        \r\n        super(props);\r\n        this.state = {\r\n            what: [],\r\n            where: [],\r\n            items: [],\r\n            loading: true,\r\n            \r\n        }\r\n    }\r\n    \r\n    componentDidMount(){\r\n        let values = queryString.parse(this.props.location.search);\r\n        \r\n        this.setState({ \r\n                what:values.what,\r\n                where:values.where \r\n            },\r\n        ()=>{ this.getData();})\r\n        \r\n       \r\n        \r\n    }\r\n    componentDidUpdate(){\r\n        let values = queryString.parse(this.props.location.search);\r\n        if(this.state.what !== values.what || this.state.where !== values.where){\r\n            this.setState({ \r\n                    what:values.what,\r\n                    where:values.where,\r\n                    loading:true\r\n                }\r\n            )\r\n            window.location.reload();\r\n        }\r\n    }\r\n    getData(){\r\n        axios.get(`locals/hashtags/${this.state.what}/address/${this.state.where}`)\r\n            .then((res)=>{\r\n                    console.log(\"Postal courier has delivered your package!\");\r\n                    const data = res.data;\r\n                    this.setState({ items:data, loading: false });\r\n                }\r\n            )\r\n            .catch(()=>{console.log(\"Postal courier has vanished!\");});\r\n        \r\n    }\r\n    displayItems(posts){\r\n        if(!posts.length) \r\n            return <div>Nothing to see here</div>;\r\n        else\r\n            return posts.map((post, index)=>(\r\n            <ResultsCard \r\n                key={index}\r\n                id={post._id}\r\n                name={post.name} \r\n                description={post.description}\r\n                rating={post.rating}\r\n                reviewCount={post.reviewCount}\r\n                image={undefined}\r\n                />\r\n            ));\r\n    }\r\n   \r\n    render() {\r\n        \r\n        return (\r\n            \r\n            <div className=\"results\">\r\n                {this.state.loading? <div className=\"loading\">\r\n                    <ClimbingBoxLoader\r\n                        size={30}\r\n                        color={\"#000000\"}\r\n                        loading={this.state.loading}\r\n                    />\r\n                    <p>Loading up good stuff</p>\r\n                </div>:\r\n                this.displayItems(this.state.items)}\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}