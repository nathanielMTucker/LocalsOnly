{"ast":null,"code":"'use strict';\n\nvar HttpError = require('../error/httperror.js');\n\nvar request = require('request-promise');\n/**\n* RequestAdapter\n* @param <object>   http      an optional http instance to use\n* @param <object>   options   additional options to set on the request\n*/\n\n\nvar RequestAdapter = function (request, options) {\n  this.options = options;\n};\n\nRequestAdapter.prototype.supportsHttps = function () {\n  return true;\n};\n/**\n* get\n* @param <string>   uri      Webservice url\n* @param <array>    params   array of query string parameters\n* @param <function> callback Callback method\n*/\n\n\nRequestAdapter.prototype.get = function (url, params, callback) {\n  var options = {\n    uri: url,\n    qs: params,\n    headers: {\n      'user-agent': 'Mozilla/5.0 (X11; Linux i586; rv:31.0) Gecko/20100101 Firefox/31.0'\n    },\n    resolveWithFullResponse: true,\n    json: true\n  };\n\n  if (this.options) {\n    for (var k in this.options) {\n      var v = this.options[k];\n\n      if (!v) {\n        continue;\n      }\n\n      options[k] = v;\n    }\n  }\n\n  return request(options).then(function handleResponse(response) {\n    return response.body;\n  }).catch(function (error) {\n    var _error = error.cause ? error.cause : error;\n\n    throw new HttpError(_error.message, {\n      code: _error.code\n    });\n  }).asCallback(callback);\n};\n\nmodule.exports = RequestAdapter;","map":{"version":3,"sources":["C:/Users/nmtuc/Desktop/Dev/web/localsonly/frontend/node_modules/node-geocoder/lib/httpadapter/requestadapter.js"],"names":["HttpError","require","request","RequestAdapter","options","prototype","supportsHttps","get","url","params","callback","uri","qs","headers","resolveWithFullResponse","json","k","v","then","handleResponse","response","body","catch","error","_error","cause","message","code","asCallback","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,SAAS,GAAGC,OAAO,CAAC,uBAAD,CAAvB;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,iBAAD,CAArB;AAEA;;;;;;;AAKA,IAAIE,cAAc,GAAG,UAASD,OAAT,EAAkBE,OAAlB,EAA2B;AAC9C,OAAKA,OAAL,GAAeA,OAAf;AACD,CAFD;;AAIAD,cAAc,CAACE,SAAf,CAAyBC,aAAzB,GAAyC,YAAW;AAClD,SAAO,IAAP;AACD,CAFD;AAIA;;;;;;;;AAMAH,cAAc,CAACE,SAAf,CAAyBE,GAAzB,GAA+B,UAASC,GAAT,EAAcC,MAAd,EAAsBC,QAAtB,EAAgC;AAC7D,MAAIN,OAAO,GAAG;AACZO,IAAAA,GAAG,EAAEH,GADO;AAEZI,IAAAA,EAAE,EAAEH,MAFQ;AAGZI,IAAAA,OAAO,EAAE;AACP,oBAAc;AADP,KAHG;AAMZC,IAAAA,uBAAuB,EAAE,IANb;AAOZC,IAAAA,IAAI,EAAE;AAPM,GAAd;;AAUA,MAAI,KAAKX,OAAT,EAAkB;AAChB,SAAK,IAAIY,CAAT,IAAc,KAAKZ,OAAnB,EAA4B;AAC1B,UAAIa,CAAC,GAAG,KAAKb,OAAL,CAAaY,CAAb,CAAR;;AACA,UAAI,CAACC,CAAL,EAAQ;AACN;AACD;;AACDb,MAAAA,OAAO,CAACY,CAAD,CAAP,GAAaC,CAAb;AACD;AACF;;AAED,SAAOf,OAAO,CAACE,OAAD,CAAP,CAAiBc,IAAjB,CAAsB,SAASC,cAAT,CAAwBC,QAAxB,EAAkC;AAC7D,WAAOA,QAAQ,CAACC,IAAhB;AACD,GAFM,EAGNC,KAHM,CAGA,UAASC,KAAT,EAAgB;AACrB,QAAIC,MAAM,GAAGD,KAAK,CAACE,KAAN,GAAcF,KAAK,CAACE,KAApB,GAA4BF,KAAzC;;AACA,UAAM,IAAIvB,SAAJ,CAAcwB,MAAM,CAACE,OAArB,EAA8B;AAClCC,MAAAA,IAAI,EAAEH,MAAM,CAACG;AADqB,KAA9B,CAAN;AAGD,GARM,EASNC,UATM,CASKlB,QATL,CAAP;AAUD,CA/BD;;AAiCAmB,MAAM,CAACC,OAAP,GAAiB3B,cAAjB","sourcesContent":["'use strict';\n\nvar HttpError = require('../error/httperror.js');\nvar request = require('request-promise');\n\n/**\n* RequestAdapter\n* @param <object>   http      an optional http instance to use\n* @param <object>   options   additional options to set on the request\n*/\nvar RequestAdapter = function(request, options) {\n  this.options = options;\n};\n\nRequestAdapter.prototype.supportsHttps = function() {\n  return true;\n};\n\n/**\n* get\n* @param <string>   uri      Webservice url\n* @param <array>    params   array of query string parameters\n* @param <function> callback Callback method\n*/\nRequestAdapter.prototype.get = function(url, params, callback) {\n  var options = {\n    uri: url,\n    qs: params,\n    headers: {\n      'user-agent': 'Mozilla/5.0 (X11; Linux i586; rv:31.0) Gecko/20100101 Firefox/31.0'\n    },\n    resolveWithFullResponse: true,\n    json: true\n  };\n\n  if (this.options) {\n    for (var k in this.options) {\n      var v = this.options[k];\n      if (!v) {\n        continue;\n      }\n      options[k] = v;\n    }\n  }\n\n  return request(options).then(function handleResponse(response) {\n    return response.body;\n  })\n  .catch(function(error) {\n    var _error = error.cause ? error.cause : error;\n    throw new HttpError(_error.message, {\n      code: _error.code\n    });\n  })\n  .asCallback(callback);\n};\n\nmodule.exports = RequestAdapter;\n"]},"metadata":{},"sourceType":"script"}