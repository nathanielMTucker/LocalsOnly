{"ast":null,"code":"var haversine = require('./haversine');\n/**\n * iterates over locations to find closest location to given input lat-long values\n * @param  {Number} latitude  latitude value\n * @param  {Number} longitude longitude value\n * @param  {String} countryCode Country Code. Should exist in /locations/{countryCode}.json\n * @return {Object}           city data in an object\n */\n\n\nfunction lookup(latitude, longitude, countryCode) {\n  var minDistance = Infinity;\n  var city = {}; // start with inout values\n\n  var start = {\n    latitude: latitude,\n    longitude: longitude\n  }; // iterate through all locations\n\n  try {\n    var otherCountryOrigin = require(\"../locations/\".concat(countryCode.toUpperCase(), \".json\"));\n\n    otherCountryOrigin.forEach(function (location) {\n      var distance = haversine.distance(start, location);\n\n      if (distance < minDistance) {\n        city = location;\n        minDistance = distance;\n      }\n    });\n  } catch (e) {\n    return undefined;\n  } // add distance to city object\n\n\n  city.distance = minDistance; // return city object\n\n  return city;\n}\n\nmodule.exports.lookup = lookup;","map":null,"metadata":{},"sourceType":"script"}