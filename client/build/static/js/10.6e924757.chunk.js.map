{"version":3,"sources":["Components/Picture.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","Components/Avatar.jsx","Components/UserTag.jsx","Components/UserCard.jsx","Pages/Profile.jsx"],"names":["Picture","id","publicId","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","Avatar","avatar","DefaultAvatar","viewBox","fill","xmlns","clipPath","width","height","rx","Math","floor","random","cx","cy","r","d","className","cloudName","secure","upload_preset","preset","DevTag","BetaTag","PremiumTag","CEOTag","UserTag","tag","console","log","LargeUserCard","props","name","role","handle","children","SmallUserCard","UserCard","sm","Profile","withUser","user","useEffect","document","title","useState","locals","setLocals","offset","setOffset","limit","getLocals","useCallback","a","axios","get","getID","then","data","after","currentItems","catch","err","error","message","DisplayLocals","length","map","pub","images","url","description","to","_id","lg","getName","getAvatar","getHandler","getRole","getEmail","getLocalTo","split","state","city","charAt","toUpperCase","slice","formatLocal","onClick","e","preventDefault"],"mappings":"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","file":"static/js/10.6e924757.chunk.js","sourcesContent":["import React from 'react'\nimport {Image} from 'cloudinary-react';\n\nconst Picture = ({id}) => {\n    \n    return (\n        <Image publicId={id}></Image>\n    )\n}\n\nexport default Picture;","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, {useEffect} from \"react\";\nimport Picture from \"./Picture\";\nimport { CloudinaryContext } from \"cloudinary-react\";\n\nconst Avatar = ({avatar}) =>{\n\n  // useEffect(()=>{\n  //   if(!avatar){\n  //     const da = document.getElementById(\"avatar-background\")\n  //   const rand = Math.round(Math.random(16) * 20) \n  //   let color = `hsl(${rand}, 100%, 75%)`;\n  //   da.style.fill = color;\n  //   }\n  // },[avatar])\n\n  const DefaultAvatar = ()=>(\n    <svg viewBox=\"0 0 500 500\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g id=\"default-avatar\" clipPath=\"url(#clip0)\">\n        <g id=\"background\">\n          <rect id=\"avatar-background\" width=\"500\" height=\"500\" rx=\"36\" fill={`hsl(${Math.floor(Math.random() * 18) * 20 }, 100%, 75%)`}/>\n        </g>\n        <g id=\"person\">\n          <circle id=\"avatar-head\" cx=\"250\" cy=\"167\" r=\"115\" fill=\"white\"/>\n          <path id=\"avatar-body\" d=\"M475 445C475 414.5 451.295 385.249 409.099 363.683C366.903 342.116 309.674 330 250 330C190.326 330 133.097 342.116 90.901 363.683C48.7053 385.249 25 414.5 25 445L250 445H475Z\" fill=\"white\"/>\n        </g>\n      </g>\n      <defs>\n        <clipPath id=\"clip0\">\n          <rect width=\"500\" height=\"500\" fill=\"white\"/>\n        </clipPath>\n      </defs>\n    </svg>\n  )\n\n  return (\n    <div className=\"avatar\">\n      {\n        avatar ? (\n          <CloudinaryContext cloudName={\"dpjlvg7ql\"} secure={false} upload_preset=\"avatar_images\">\n                <Picture id={avatar} preset=\"avatar_images\"/>\n            </CloudinaryContext>\n            ):\n            <DefaultAvatar/>\n      }\n    </div>\n    \n  )\n\n}\n\nexport default Avatar;","import React from 'react';\nimport {withUser} from '../User';\n\nconst DevTag = () => \n<span className=\"ml-1 tag is-info is-light\">\n      <i className=\"fas fa-tools pr-1 mr-1 my-0\"/> <p className=\"content\">Dev</p>\n  </span>\n\n\nconst BetaTag = () => \n<span className=\"tag is-link is-light\">\n      <i className=\"fas fa-flask pr-1 mr-1 my-0\"/> <p className=\"content\">Beta</p>\n</span>\n\n\nconst PremiumTag = () =>\n<span className=\"tag is-warning is-light\">\n<i className=\"fas fa-gem pr-1 mr-1 my-0\"/> <p className=\"content\">Premium</p>\n</span>\n\n\n\nconst CEOTag = () =>\n<span className=\"tag is-danger is-light \">\n<i className=\"fas fa-crown pr-1 mr-1 my-0\"/> <p className=\"content\">Founder</p>\n</span>\n\nconst UserTag = ({tag})=>{\n  const r = tag;\n  \n  console.log(r);\n  if(r === \"CEO\"){\n    return <CEOTag/>\n  }\n  if(r === \"ADMIN\"){\n    return <DevTag/>\n  }\n  if(r === \"EBETA\"){\n    return <BetaTag/>\n  }\n  if(r === \"PREM\"){\n    return <PremiumTag/>\n  }\n  return null;\n}\n\nconst UserTagAnimate = ()=>\n<span className=\"animate-tag\">\n  <UserTag/>\n</span>\n\nexport default UserTag\n\nexport {\n  DevTag,\n  BetaTag,\n  PremiumTag,\n  CEOTag,\n  UserTagAnimate\n}","import React, {useEffect} from 'react';\nimport Avatar from './Avatar';\nimport UserTag from './UserTag';\n\nconst LargeUserCard = props =>\n<article className=\"media is-clipped\">\n    <figure className=\"media-left\">\n       <p className=\"image is-128x128\">\n            <Avatar avatar={props.avatar}/>\n       </p>\n    </figure>\n    <div className=\"media-content\">\n      <div className=\"content\">\n          <span className=\"title\">{props.name} </span><UserTag tag={props.role}/><br/>@{props.handle}\n          <br/>    \n      </div>\n      {props.children}\n    </div>\n    </article>\n\n\nconst SmallUserCard = props =>\n<article className=\"media is-clipped\">\n    <figure className=\"media-left\">\n       <p className=\"image is-64x64\">\n            <Avatar avatar={props.avatar}/>\n       </p>\n    </figure>\n    <div className=\"media-content\">\n      <div className=\"content\">\n          <strong>{props.name} </strong><UserTag tag={props.role}/><br/>@{props.handle}\n          <br/>    \n      </div>\n      {props.children}\n    </div>\n    </article>\n\n\nconst UserCard = (props)=>{\n  \n  return props.sm ? <SmallUserCard {...props}>{props.children}</SmallUserCard> : \n  <LargeUserCard {...props}>{props.children}</LargeUserCard>\n}\n\nexport default UserCard;","import React, {useState, useEffect, useCallback} from 'react'\r\nimport { withUser } from '../User'\r\nimport axios from 'axios';\r\nimport Picture from '../Components/Picture';\r\nimport {Link} from 'react-router-dom';\r\nimport { CloudinaryContext} from 'cloudinary-react'\r\nimport UserCard from '../Components/UserCard';\r\n\r\nconst Profile = withUser(({user}) => {\r\n    useEffect(() =>{\r\n        document.title = document.title + \" - Dashboard\";\r\n        return function cleanup(){\r\n            document.title = \"LocalsOnly\"\r\n        }\r\n    })\r\n   \r\n    const [locals, setLocals] = useState([]);\r\n    // const [loading, setLoading] = useState(true)\r\n    const [offset, setOffset] = useState(null);\r\n    const [limit] = useState(10);\r\n\r\n    const getLocals = useCallback(async ()=>{\r\n        await axios.get(`/api/v1/users/locals?id=${user.getID()}&limit=${limit}${offset ? `&offset=${offset}` : ''}`)\r\n        .then(({data:{data, after}})=>{\r\n           console.log(data);\r\n            setLocals(currentItems=>[...currentItems, ...data] || null)\r\n            setOffset(after)\r\n        })\r\n        .catch(err=>{\r\n            console.error(err)\r\n            setLocals([{\r\n                message : \"Unable to connect\"\r\n            }])\r\n        })\r\n\r\n        // setLoading(false);\r\n    },[limit, offset, user])\r\n\r\n    useEffect(()=>{\r\n        getLocals();\r\n    },[getLocals, user])\r\n\r\n    \r\n    const DisplayLocals = () =>{\r\n        return locals ? (locals.length ? locals.map(pub=>\r\n\r\n            <li className=\"box\">\r\n                <h1 className=\"title\">{pub.name}</h1>\r\n                { \r\n                    pub.images && pub.images.data[0] &&\r\n                    <CloudinaryContext cloudName={\"dpjlvg7ql\"} secure={false} upload_preset=\"local_images\">\r\n                        <Picture id={pub.images.data[0].url} preset=\"local_images\"/>\r\n                    </CloudinaryContext> \r\n                }\r\n                <article className=\"content\">{pub.description}</article>\r\n                <Link to={`local?id=${pub._id}`}>Go to Local</Link>\r\n            </li>\r\n            \r\n            ):(\r\n                <div className=\"box is-info\">You don't have any locals!</div>\r\n            )) : <h1>Loading...</h1>\r\n    }\r\n    const onClickShowMore = e =>{\r\n        e.preventDefault();\r\n        getLocals();\r\n    }\r\n    const formatLocal = ()=>{\r\n        let [state, city] = user.getLocalTo().split(':');\r\n        return city && state ? `${city.charAt(0).toUpperCase() + city.slice(1)}, ${state.toUpperCase()}` : \"unavailable\"\r\n    }\r\n    \r\n    return (\r\n        <main id=\"profile-page\" className=\"section container\">\r\n            \r\n                <article className=\"columns\">\r\n                <section id=\"profile-details\" className=\"column\">\r\n                    <UserCard\r\n                        lg\r\n                        name={user.getName()}\r\n                        avatar={user.getAvatar()}\r\n                        handle={user.getHandler()}\r\n                        role={user.getRole()}\r\n                    >\r\n                        <p>Email: {user.getEmail()}</p>\r\n                        <p>Local: {formatLocal()}</p>\r\n                    </UserCard>\r\n                </section>\r\n                <section className=\"column level\">\r\n                    <div className=\"level-right\">\r\n                    <Link className=\"button pt-1 level-item\" to={`/dashboard/edit`}>Edit Profile</Link>\r\n                    </div>\r\n                </section>\r\n                \r\n            </article>     \r\n            <section className=\"my-4 profile-local-section\">\r\n                <h1 className=\"title\">Locals</h1>\r\n                <ul className=\"is-flex is-flex-direction-column is-flex-shrink-4\">\r\n                    <DisplayLocals/> \r\n                    {offset && <div className=\"text-has-line my-5 is-clickable\" onClick={onClickShowMore}><span>show more</span></div>}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    )\r\n})\r\n\r\nexport default Profile;\r\n"],"sourceRoot":""}