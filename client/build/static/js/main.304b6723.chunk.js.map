{"version":3,"sources":["globals.js","Components/Search/Search.jsx","Components/Dropdowns.jsx","Components/Search/Nav.jsx","Components/Footer.jsx","App.jsx","serviceWorkerRegistration.js","reportWebVitals.js","index.jsx","Components/Buttons.jsx","Authentication.js","User.js","Components/useHooks/useToggle.jsx","Constants/IDs.js","Components/useHooks/useDeviceDetect.jsx","Components/SignUp.jsx","Components/Input.jsx","Components/RememberMe.jsx","Components/SignIn.jsx","Constants/routes.js"],"names":["ABBRS","STATES","getAbbrs","state","i","length","toLowerCase","API_KEY","fromLatLng","latlng","fromAddress","address","a","street","replace","apt","city","zip","getCookie","cn","name","ca","decodeURIComponent","document","cookie","split","c","charAt","substring","indexOf","setCookie","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","Search","loc","setLocation","handleSubmit","handleInput","className","isMobile","useDeviceDetect","onSubmit","type","placeholder","value","search","onChange","onClick","getElementById","classList","toggle","MenuDropdown","buttons","SEARCH","SIGN","children","align","useToggle","active","toggleActive","id","role","DropdownItem","withRouter","setMadeSearch","urlQuery","location","useState","queryString","parse","where","setState","history","useHistory","setSearch","event","target","preventDefault","push","Footer","message","rating","feedback","setFeedback","sent","setSent","isLoading","sendFeedback","e","then","axios","post","res","setTimeout","clearTimeout","href","to","parentElement","childNodes","forEach","child","contains","src","alt","width","height","Results","lazy","Home","Local","NewLocal","Registration","Opening","Profile","Upcoming","ImageUpload","EditProfile","LocalImages","compose","withFirebase","withUser","firebase","user","madeSearch","authUser","setAuthUser","userInfo","setUserInfo","abortController","AbortController","setUser","data","set","ownerID","_id","email","localTo","softLocalTo","avatar","url","handler","handle","setAuth","auth","get","uid","catch","err","useEffect","window","includes","listener","onAuthStateChanged","abort","Nav","fallback","style","minHeight","exact","path","ROUTES","component","render","Boolean","hostname","match","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","Provider","Firebase","User","navigator","serviceWorker","ready","registration","unregister","error","console","LogoutButton","title","signOut","LogoLinkButton","LocalizeLinkButton","remove","UserProfileButton","CurrentLocation","log","geolocation","getCurrentPosition","position","coords","latitude","longitude","results","dir","types","formatted_address","address_components","b","short_name","alert","DropdownTrigger","signInWithGooglePopup","additionalUserInfo","isNewUser","profile","picture","authID","reload","aria-haspopup","aria-controls","aria-hidden","require","config","firebaseConfig","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","FirebaseContext","React","createContext","Component","props","Consumer","setProvider","provider","setPersistenceStorage","persistence","setPersistence","persistenceLocal","Auth","Persistence","LOCAL","persistenceNone","NONE","createUserWithEmailAndPassword","password","emailIsAvailable","fetchSignInMethodsForEmail","signInWithEmailAndPassword","passwordReset","sendPasswordResetEmail","updatePassword","currentUser","updateEmail","signInWithPopup","GoogleAuthProvider","emailCredentials","pass","EmailAuthProvider","credential","reauth","credentials","reauthenticateWithCredential","apps","initializeApp","this","UserContext","updateLocal","undefined","patch","local","localsOnly","isUnrestricted","initialState","useCallback","setMobile","innerWidth","setWidth","updateDimensions","userAgent","mobile","addEventListener","removeEventListener","SignUp","setStatus","passMatch","validateString","str","test","add","checkPasswordMatch","autoFocus","required","passwordOne","minLength","passwordTwo","SignUpLink","sign","button","Input","StateInitialInput","toUpperCase","maxLength","pattern","SatisfactionScale","RememberMe","rememberMe","setRememberMe","htmlFor","checked","INITIAL_STATE","SignInForm","toggleError","setToggleError","setPersistentStorage","callback","isInvalid","signInWithEmail","u","disabled","SignInPage","HOME","NEW_LOCAL","SIGNUP","PROFILE","UPLOAD_IMAGE"],"mappings":"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","file":"static/js/main.304b6723.chunk.js","sourcesContent":["const ABBRS = [\r\n    \"AL\",\"AK\",\"AZ\",\"AR\",\"CA\",\"CO\",\"CT\",\"DE\",\"FL\",\"GA\",\"HI\",\"ID\",\"IL\",\"IN\",\"IA\",\"KS\",\r\n    \"KY\",\"LA\",\"ME\",\"MD\",\"MA\",\"MI\",\"MN\",\"MS\",\"MO\",\"MT\",\"NE\",\"NV\",\"NH\",\"NJ\",\"NM\",\"NY\",\r\n    \"NC\",\"ND\",\"OH\",\"OK\",\"OR\",\"PA\",\"RI\",\"SC\",\"SD\",\"TN\",\"TX\",\"UT\",\"VT\",\"VA\",\"WA\",\"WV\",\r\n    \"WI\",\"WY\",\"DC\"\r\n]\r\n\r\nconst STATES = [\r\n    \"Alabama\",\"Alaska\",\"Arizona\",\"Arkansas\",\"California\",\"Colorado\",\"Connecticut\",\"Delaware\",\r\n    \"Florida\",\"Georgia\",\"Hawaii\",\"Idaho\",\"Illinois\",\"Indiana\",\"Iowa\",\"Kansas\",\"Kentucky\",\"Louisiana\",\r\n    \"Maine\",\"Maryland\",\"Massachusetts\",\"Michigan\",\"Minnesota\",\"Mississippi\",\"Missouri\",\"Montana\",\r\n    \"Nebraska\",\"Nevada\",\"New Hampshire\",\"New Jersey\",\"New Mexico\",\"New York\",\"North Carolina\",\"North Dakota\",\r\n    \"Ohio\",\"Oklahoma\",\"Oregon\",\"Pennsylvania\",\"Rhode Island\",\"South Carolina\",\"South Dakota\",\"Tennessee\",\r\n    \"Texas\",\"Utah\",\"Vermont\",\"Virginia\",\"Washington\",\"West Virginia\",\"Wisconsin\",\"Wyoming\",\"District of Columbia\"  \r\n]\r\n\r\nconst getAbbrs = state=>{\r\n    for(let i = 0; i < STATES.length;i++){\r\n        if(state.toLowerCase() === STATES[i].toLowerCase())\r\n            return ABBRS[i].toLowerCase();\r\n    }\r\n    return state\r\n}\r\nconst API_KEY='AIzaSyAzL6UpXmTecGIQBO0HHMvFScNhiSmlzfM'\r\nconst fromLatLng = latlng => `https://maps.googleapis.com/maps/api/geocode/json?latlng=${latlng}&key=${API_KEY}`;\r\n\r\nconst fromAddress = address => {\r\n    const a = `${address.street.replace(/ /g,\"+\")}${address.apt === '' ? '+' :`,+${address.apt}`},+${address.city},+${address.state}+${address.zip}`\r\n    return `https://maps.googleapis.com/maps/api/geocode/json?address=${a}&key=${API_KEY}`;\r\n}\r\n\r\nconst imageURL = image =>{\r\n    return `https://res.cloudinary.com/dpjlvg7ql/image/upload/v1615148804/locals/${image}`;\r\n}\r\n\r\nconst parsePath = ({location, ...paths}) =>{\r\n    console.log(location);\r\n    console.log(paths);\r\n}\r\n\r\nconst getCookie = cn =>{\r\n    const name = cn + \"=\";\r\n    const decodedCookie = decodeURIComponent(document.cookie);\r\n    const ca = decodedCookie.split(';');\r\n    for(let i = 0; i < ca.length; i++){\r\n        let c = ca[i];\r\n        while(c.charAt(0) === ' '){\r\n            c = c.substring(1);\r\n        }\r\n        if(c.indexOf(name) === 0){\r\n            // console.log(\"Cookie Result: \"+c.substring(name.length, c.length));\r\n            return c.substring(name.length, c.length);\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\n\r\nconst setCookie = (cname, cvalue, exdays)=>{\r\n    const d = new Date();\r\n    d.setTime(d.getTime() + (exdays*24*60*60*1000));\r\n    let expires = \"expires=\"+ d.toUTCString();\r\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n  }\r\nexport {STATES, API_KEY, fromLatLng, fromAddress, getAbbrs, ABBRS, parsePath, imageURL, getCookie, setCookie};","import React from 'react'\r\nimport {CurrentLocation} from \"../Buttons\";\r\nimport useDeviceDetect from \"../useHooks/useDeviceDetect\";\r\n\r\nconst Search = ({loc, setLocation, handleSubmit, handleInput, className}) => {\r\n  const { isMobile } = useDeviceDetect();\r\n\r\n  const toggle = ()=>{\r\n      if(document.getElementById('search'))\r\n        document.getElementById('search').classList.toggle('is-active')\r\n    }\r\n  \r\n\r\n  return (\r\n    \r\n    \r\n      \r\n      <form className={`field  ${!isMobile && \"has-addons\"} ${className}`} onSubmit={handleSubmit}>\r\n    \r\n    <div className=\"control\">\r\n      <input type=\"text\" className=\"input search-bar\" placeholder=\"What to do?\" name=\"what\" value={loc.search} onChange={handleInput} />\r\n    </div>\r\n    <div className=\"control has-icons-left\">\r\n      <input className=\"input\" type=\"text\" name=\"state\" value={loc.state} onChange={handleInput}/>\r\n      <CurrentLocation name=\"state\" setLocation={setLocation}/>\r\n    </div>\r\n    \r\n    <p className=\"control\">\r\n      <button type=\"submit\" className={`button is-primary search-bar ${isMobile && \"is-fullwidth\"}`} onClick={toggle}>\r\n        <i className=\"fas fa-search\"/>\r\n      </button>\r\n    </p>\r\n    \r\n  </form>\r\n    \r\n  )\r\n}\r\n\r\nexport default Search;","import React, {useEffect, useRef} from 'react'\r\nimport SignIn from './SignIn';\r\nimport {buttons} from '../Constants/IDs';\r\nimport Search from './Search/Search';\r\nimport {DropdownTrigger} from \"./Buttons\";\r\nimport useToggle from './useHooks/useToggle';\r\n\r\nconst {SEARCH, SIGN} = buttons\r\n\r\nexport const SearchDropdown = ({loc, handleInput, handleSubmit, zip})=>{\r\n    \r\n    useEffect(()=>{\r\n        const sign = document.getElementById(SEARCH);\r\n        document.addEventListener('click',e=>{\r\n            const isClickedInside = sign.contains(e.target);\r\n            if(!isClickedInside){\r\n                sign.classList.remove('is-active');\r\n            }\r\n        })\r\n    })\r\n    const toggle = ()=>{\r\n        document.getElementById('search').classList.toggle('is-active')\r\n      \r\n        if(document.getElementById('sign')) \r\n            document.getElementById('sign').classList.remove('is-active');\r\n        \r\n    }\r\n    return (\r\n        <div id={SEARCH} className=\"dropdown\">\r\n            <div className=\"dropdown-trigger\" >\r\n                <button className=\"button is-primary\" aria-haspopup=\"true\" aria-controls=\"dropdown-menu\" onClick={toggle}>\r\n                    <i className=\"fas fa-search-location\"></i>\r\n                </button>\r\n            </div>\r\n            <div className=\"dropdown-menu mobile-search\"  role=\"menu\">\r\n                <div className=\"dropdown-content \">\r\n                    <div className=\"dropdown-item \">\r\n                      <Search loc={loc} handleInput={handleInput} handleSubmit={handleSubmit} zip={zip}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n            \r\nexport const SignInDrowdown = props=>{\r\n    \r\n    \r\n    const innerRef = useRef(null);\r\n    useEffect(()=>{\r\n        const sign = document.getElementById(SIGN);\r\n        document.addEventListener('click',e=>{\r\n            const isClickedInside = sign.contains(e.target);\r\n            if(!isClickedInside){\r\n                sign.classList.remove('is-active');\r\n            }\r\n        })\r\n    })\r\n    const toggle = ()=>{\r\n        document.getElementById('sign').classList.toggle(\"is-active\")\r\n        \r\n        if(document.getElementById('search')) \r\n            document.getElementById('search').classList.remove('is-active');\r\n           \r\n        \r\n    }\r\n    \r\n    \r\n    return (\r\n        <div id={SIGN} className=\"dropdown is-right\" ref={innerRef}>\r\n            <div className=\"dropdown-trigger\" >\r\n                <button className=\"button is-primary\" aria-haspopup=\"true\" aria-controls=\"dropdown-menu\" onClick={toggle}>\r\n                    <i className=\"fas fa-door-closed\"></i>\r\n                </button>\r\n            </div>\r\n            <div className=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\r\n               \r\n                    <nav className={`panel is-primary is-full-width has-background-white ${props.width}`}>\r\n                        <p className=\"panel-heading\">\r\n                            Sign In\r\n                        </p>\r\n                        <div className='panel-block dropdown-item is-active'>\r\n                            <SignIn/> \r\n                        </div>\r\n                    </nav>\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const MenuDropdown = ({children, align}) =>{\r\n\r\n    const [active, toggleActive] = useToggle();\r\n\r\n    return <div className={`dropdown mr-1 ${align === \"right\" && \"is-right\"} ${active && \"is-active\"}`}>\r\n        <DropdownTrigger active={active} toggleActive={toggleActive}/>\r\n        <div className=\"dropdown-menu \" id=\"dropdown-menu\" role=\"menu\">\r\n            <div className=\"dropdown-content\">\r\n                {children}\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport const DropdownItem = ({children})=>{\r\n    return <div className=\"dropdown-item\">\r\n        {children}\r\n    </div>\r\n}","import React , {useState} from 'react'\r\nimport { withRouter } from \"react-router\";\r\nimport Search from './Search';\r\nimport {LogoLinkButton, LocalizeLinkButton, LogoutButton, UserProfileButton} from '../Buttons';\r\nimport {MenuDropdown, DropdownItem} from '../Dropdowns';\r\nimport {useHistory} from 'react-router';\r\nimport queryString from 'query-string'\r\nimport useDeviceDetect from \"../useHooks/useDeviceDetect\";\r\n\r\n\r\nexport default withRouter(({setMadeSearch, location:{search:urlQuery}})=>{\r\n    \r\n  const { isMobile } = useDeviceDetect();\r\n  \r\n  const [state, setState] = useState(queryString.parse(urlQuery).where || 'Tempe, Arizona');\r\n  \r\n  \r\n  const history = useHistory();\r\n  const [search, setSearch] = useState('');\r\n  \r\n  const handleInput=(event)=>{\r\n    const {name, value} = event.target;\r\n    switch(name){\r\n      case \"what\":\r\n        setSearch(value);\r\n        break;\r\n      case \"state\":\r\n        setState(value)\r\n        // setCity(getCities('US', value)[0])\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n \r\n  const handleSubmit = event=>{\r\n    event.preventDefault();\r\n    setMadeSearch(true)\r\n    history.push(`/search?${search === '' ? '' : `what=${search.replace(' ', '+')}&`}where=${state}`);\r\n  }\r\n\r\n  \r\n\r\n  return (\r\n      <nav \r\n        id=\"main-nav\"\r\n        className={`navbar level is-mobile pr-2 pl-2 pt-0 is-fixed-top ivory`} \r\n        role=\"navigation\">\r\n          <div className=\"level-left\">\r\n            <div className=\"level-item\">\r\n              <LogoLinkButton/>\r\n            </div>\r\n            {!isMobile && \r\n            <div className=\"level-item\">\r\n            <Search className=\"pl-2\" loc={{search, state}} setLocation={setState} handleInput={handleInput} handleSubmit={handleSubmit}/>\r\n            </div>\r\n            }\r\n          </div>\r\n          \r\n              {\r\n                isMobile ? (\r\n                  <MenuDropdown align=\"right\">\r\n                    <DropdownItem>\r\n                      <Search className=\"pl-2\" loc={{search, state}} setLocation={setState} handleInput={handleInput} handleSubmit={handleSubmit}/>\r\n                    </DropdownItem>\r\n                    <DropdownItem>\r\n                      <div className=\"level is-mobile container\">\r\n                        <div className=\"level-item\">\r\n                          <LocalizeLinkButton/>\r\n                        </div>\r\n                        <div className=\"level-item\">\r\n                          <UserProfileButton/>\r\n                        </div>\r\n                        <div className=\"level-item\">\r\n                          <LogoutButton/>\r\n                        </div>\r\n                      </div>\r\n                    </DropdownItem>\r\n                  </MenuDropdown>\r\n                ) : (\r\n          <div className=\"level-right\">\r\n                  <div className=\"level-item\">\r\n                  <LocalizeLinkButton/>\r\n                </div>\r\n                <div className=\"level-item\">\r\n                  <UserProfileButton/>\r\n                </div>\r\n                <div className=\"level-item\">\r\n                  <LogoutButton/>\r\n                </div>\r\n          </div>\r\n                  )\r\n              }\r\n          \r\n      </nav>\r\n  )\r\n    \r\n})\r\n\r\n","import React, {useState, useEffect} from \"react\";\nimport useToggle from \"./useHooks/useToggle\";\nimport {Link} from 'react-router-dom';\nimport { SatisfactionScale } from \"./Input\";\n\nconst Footer = ()=>{\n  const [feedback, setFeedback] = useState({\n    message:\"\",\n    rating:-1\n  });\n  const [sent, setSent] = useState(false);\n  const [isLoading, toggleIsLoading] = useToggle();\n  const onChangeFeedback = e =>{\n          e.preventDefault();\n          setFeedback({...feedback, message: e.target.value});\n  }\n  const sendFeedback = async e=>{\n          e.preventDefault();\n          const {message, rating} = feedback;         \n          if(message.length > 0 || rating !== -1){\n            await import('axios').then(axios=>{\n              axios.post(\"/api/v1/feedback\",{\n                message,\n                rating\n              }).then(res=>{\n                setSent(true);\n                \n              }).then(()=>{\n                setTimeout(function(){setSent(false);}, 3000)\n                clearTimeout();\n              })\n            })\n          }\n  }\n\n  const satisfyScale = e=>{\n    e.preventDefault();\n    // console.log(e.target);\n    const {parentElement} = e.target;\n    // console.log(parentElement);\n    parentElement.childNodes.forEach(child=>{\n      // console.log(child.classList);\n      if(child.classList.contains(\"fas\")){\n        child.classList.replace(\"fas\", \"far\")\n      }\n    })\n    e.target.classList.replace(\"far\", \"fas\")\n    setFeedback({...feedback, rating: e.target.id});\n  }\n  return (\n    <footer className=\"footer\">\n      {/* <section className=\"column\"></section> */}\n        <div className=\"columns is-centered mb-0 mt-1\">\n        <section className=\"column is-2-desktop\">\n          <h1 className=\"title has-text-white\">Get Involved</h1>\n            <article className=\"content is-medium\">\n              <ul className=\"\">\n                <li>\n                  <a href=\"https://discord.gg/dHBeyu5W6K\" className=\"icon-text\">\n                    <span className=\"icon has-text-white\">\n                        <i className=\"fab fa-large fa-discord\"/>\n                    </span>\n                    <span>discord</span>\n                  </a>\n                </li>\n                <li>\n                  <a href=\"https://www.facebook.com/LocalsOnlyxyz-109680918086095\" className=\"content icon-text\">\n                    <span className=\"icon has-text-white\">\n                      <i className=\"fab fa-large fa-facebook-square\"/>\n                    </span>\n                    <span>facebook</span>\n                  </a>\n                </li>\n                <li>\n                  <a href=\"https://www.instagram.com\" className=\"content icon-text\">\n                    <span className=\"icon has-text-white\">\n                      <i className=\"fab fa-large fa-instagram\"/>\n                    </span>\n                    <span>instagram</span>\n                  </a>\n                </li>\n                <li>\n                  <a href=\"https://twitter.com/localsonlyxyz\" className=\"content icon-text\">\n                    <span className=\"icon has-text-white\">\n                      <i className=\"fab fa-large fa-twitter\"/>\n                    </span>\n                    <span>twitter</span>\n                  </a>\n                </li>\n            </ul>\n          </article>\n        </section>\n        <section className=\"column is-2-desktop\">\n        <h1 className=\"title has-text-white\">Links</h1>\n          <article className=\"\">\n          <ul>\n            <li>\n              <Link to=\"/\">home</Link>\n            </li>\n            <li>\n              <Link to=\"/dashboard\">dashboard</Link>\n            </li>\n            <li>\n              <Link to=\"/create-local\">create new local</Link>\n            </li>\n            <li>\n              <Link to=\"/terms-services\">terms & services</Link>\n            </li>\n            <li>\n              <Link to=\"/privacy-policy\">privacy policy</Link>\n            </li>\n          </ul>\n          </article>\n          {/* <div className=\"is-hidden-mobile section pb-0 pt-0 has-text-centered\">\n\n          <a href=\"https://bulma.io\">\n              <img src=\"https://bulma.io/images/made-with-bulma.png\" alt=\"Made with Bulma\" width=\"150\" height=\"48\"/>\n            </a>\n          <span className=\"icon-text \">Made with<span className=\"icon\"><i className=\"fas fa-heart has-text-danger\"/></span> in Tempe, AZ</span>\n          </div> */}\n        </section>\n        <section className=\"column is-3-desktop\">\n                <h1 className=\"title has-text-white mb-1\">Feedback</h1>\n                <form className=\"form\" onSubmit={sendFeedback}>\n                        \n                        <div className=\"field\">\n                                <div className=\"control\">\n                                <textarea className=\"textarea\" type=\"text\" name=\"feedback\" value={feedback.message} onChange={onChangeFeedback}/>\n                                </div>\n                        </div>\n                        <div className=\"control level\">\n                        <SatisfactionScale onClick={satisfyScale}/>\n                        <button className={`button is-outlined is-white ${isLoading && \"is-loading\"}`} type=\"submit\">{sent ? \n                          <div className=\"icon is-large px-6\"><i className=\"fas fa-check has-text-success pr-1\"/> Thank you</div>\n                        :\"Submit\"}</button>\n                        </div>\n                </form>\n        </section>\n        </div>\n        {/* <section className=\"column\"></section> */}\n        <div className=\"level is-mobile is-hidden-desktop section pt-0 pb-3 container\">\n            <div className=\"level-item\">\n            <a href=\"https://bulma.io\">\n              <img src=\"https://bulma.io/images/made-with-bulma.png\" alt=\"Made with Bulma\" width=\"150\" height=\"48\"/>\n            </a>\n          <span className=\"icon-text pl-2\">Made with<span className=\"icon\"><i className=\"fas fa-heart has-text-danger\"/></span> in Tempe, AZ</span>\n            </div>\n          </div>\n    </footer>\n  )\n}\n\nexport default Footer;","import React, { useEffect, useState, Suspense, lazy } from \"react\";\r\nimport Nav from \"./Components/Search/Nav\";\r\nimport Footer from \"./Components/Footer\";\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport * as ROUTES from \"./Constants/routes\";\r\nimport { withFirebase } from \"./Authentication\";\r\n\r\nimport axios from \"axios\";\r\nimport { compose } from \"recompose\";\r\n\r\nimport { withUser } from \"./User\";\r\n\r\n\r\n\r\n\r\n// Pages\r\nconst Results = lazy(()=>import(\"./Pages/Results\"));\r\nconst Home = lazy(()=>import(\"./Pages/Home\"));\r\nconst Local = lazy(()=>import(\"./Pages/Local\"));\r\nconst NewLocal = lazy(()=>import(\"./Pages/NewLocal\"));\r\nconst Registration = lazy(()=>import(\"./Pages/Registration\"));\r\nconst Opening = lazy(()=>import(\"./Pages/Opening\"));\r\nconst Profile = lazy(()=>import(\"./Pages/Profile\"));\r\nconst Upcoming = lazy(()=>import(\"./Pages/Upcoming\"));\r\nconst ImageUpload = lazy(()=>import(\"./Pages/ImageUpload\"));\r\nconst EditProfile = lazy(()=>import(\"./Pages/EditProfile\"));\r\nconst LocalImages = lazy(()=>import(\"./Pages/LocalImages\"));\r\n\r\nexport default compose(\r\n  withFirebase,\r\n  withUser\r\n)(({firebase, user}) => {\r\n  const [madeSearch, setMadeSearch] = useState(true);\r\n  const [authUser, setAuthUser] = useState(null);\r\n  const [userInfo, setUserInfo] = useState(null);\r\n  const abortController = new AbortController();\r\n\r\n  const setUser = ({data}) => {\r\n    user.set({\r\n      ownerID: data._id,\r\n      name: data.name,\r\n      email: data.email,\r\n      localTo: data.localTo,\r\n      role: data.role,\r\n      softLocalTo: data.softLocalTo,\r\n      avatar: data.avatar.url,\r\n      handler: data.handle\r\n    });\r\n    setUserInfo(data);\r\n  };\r\n\r\n  const setAuth = (auth) => {\r\n    setAuthUser(auth);\r\n    if (auth) {\r\n      axios\r\n        .get(`/api/v1/users/auth/${auth.uid}`)\r\n        .then(setUser)\r\n        .catch((err) => {\r\n          setUserInfo(null);\r\n        });\r\n    }\r\n  };\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    const loc = window.location.href + \"\";\r\n    \r\n    if (!loc.includes(\"localhost\") && loc.includes(\"http://\"))\r\n      window.location.href = loc.replace(\"http://\", \"https://\");\r\n\r\n    const listener = firebase.auth.onAuthStateChanged(setAuth);\r\n   \r\n    return async function cleanup() {\r\n      await listener();\r\n      \r\n      abortController.abort();\r\n    };\r\n  },[]);\r\n\r\n  if (authUser && userInfo)\r\n    return (\r\n      <Router>\r\n          <Nav setMadeSearch={setMadeSearch} />\r\n        <Suspense fallback={<div className=\"section content columns box\" style={{minHeight:\"100vh\"}}>Loading...</div>}>\r\n          <Switch>\r\n            <Route exact path={ROUTES.HOME} component={Home} />\r\n            <Route path={ROUTES.NEW_LOCAL} component={NewLocal} />\r\n            <Route\r\n              path={ROUTES.SEARCH}\r\n              component={() => (\r\n                <Results setMadeSearch={setMadeSearch} madeSearch={madeSearch} />\r\n              )}\r\n            />\r\n            <Route path={ROUTES.UPLOAD_IMAGE} component={ImageUpload}/>\r\n            <Route path={ROUTES.LOCAL + \"/images\"} component={LocalImages}/>\r\n            <Route path={ROUTES.LOCAL} component={Local} />\r\n            <Route exact path={ROUTES.PROFILE} component={Profile} />\r\n            <Route path={ROUTES.PROFILE + \"/edit\"} component={EditProfile}/>\r\n            <Route path={\"/upcoming-features\"} component={Upcoming} />\r\n            <Route render={() => <Redirect to={ROUTES.HOME} />} />\r\n          </Switch>\r\n        </Suspense>\r\n        <Footer/>\r\n      </Router>\r\n    );\r\n\r\n  return (\r\n    <Router>\r\n      <Suspense  fallback={<div className=\"columns is-centered\">\r\n        <div className=\"column\">Loading...</div>\r\n        </div>}>\r\n        <Switch>\r\n          <Route exact path={ROUTES.HOME} component={()=><Opening setUser={setUser}/>} />\r\n          <Route path={ROUTES.SIGNUP} component={Registration} />\r\n        </Switch>\r\n      </Suspense>\r\n    </Router>\r\n  );\r\n});\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport Firebase, {FirebaseContext} from './Authentication';\r\nimport User, {UserContext} from './User';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\n// import {register} from \"./serviceWorker\";\r\n\r\nReactDOM.render(\r\n    <FirebaseContext.Provider value={new Firebase()}>\r\n            <UserContext.Provider value={new User()}>\r\n                <App/>\r\n            </UserContext.Provider>\r\n    </FirebaseContext.Provider>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// register();import * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.unregister();\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();","import React from 'react'\r\nimport {Link} from 'react-router-dom';\r\nimport {useHistory} from 'react-router-dom'\r\nimport * as ROUTES from '../Constants/routes';\r\nimport {withFirebase} from '../Authentication';\r\nimport axios from 'axios';\r\nimport { fromLatLng } from '../globals';\r\n\r\n\r\nexport const LogoutButton = withFirebase(({firebase}) => {\r\n    const history = useHistory();\r\n   return <button title=\"Logout\" className=\"button is-primary is-outlined\" \r\n            onClick={()=>{\r\n                firebase.signOut(); history.push(ROUTES.HOME);\r\n        }}> \r\n            <span className=\"icon\">\r\n            <i className=\"fas fa-door-open\"/>\r\n            </span>\r\n        </button>\r\n})\r\n\r\nexport const LogoLinkButton = ()=>(\r\n    <Link to={ROUTES.HOME}>\r\n        <img src=\"../LocalsOnly.png\" alt=\"localsonly\"/>\r\n    </Link>\r\n)\r\n\r\nexport const LocalizeLinkButton = ()=>{\r\n    const toggle = ()=>{\r\n        if(document.getElementById('search')) \r\n            document.getElementById('search').classList.remove('is-active');\r\n        if(document.getElementById('sign')) \r\n            document.getElementById('sign').classList.remove('is-active');\r\n    }\r\n    return (\r\n        <Link title=\"New Local\" className=\"button\" to={ROUTES.NEW_LOCAL} onClick={toggle}>\r\n            <span className=\"icon\">\r\n            <i className=\"fas fa-plus-circle\"/>\r\n            </span>\r\n        </Link> \r\n    )\r\n}\r\n\r\nexport const UserProfileButton = ()=>(\r\n    <Link title=\"Profile\" className=\"button is-main\" to={ROUTES.PROFILE}>\r\n        <span className=\"icon\">\r\n        <i className=\"fas fa-user-astronaut\"/>\r\n        </span>\r\n    </Link>\r\n)\r\n\r\n\r\n\r\nexport const CurrentLocation = ({setLocation, name})=>{\r\n    \r\n    const onClick = async e =>{\r\n        e.preventDefault();\r\n        console.log(\"User Location clicked\");\r\n        if (\"geolocation\" in navigator) {\r\n\r\n            console.log(\"Available\");\r\n            navigator.geolocation.getCurrentPosition(async function(position) {\r\n\r\n                console.log(\"Latitude is :\", position.coords.latitude);\r\n          \r\n                console.log(\"Longitude is :\", position.coords.longitude);\r\n                axios.get(fromLatLng(`${position.coords.latitude},${position.coords.longitude}`)).then(({data:{results}})=>{\r\n                    console.dir(results);\r\n                    let city = \"\";\r\n                    let state = \"\";\r\n                    if(results[1]){\r\n                        //Grab city and state from \"locality\"\r\n                        for(let i = 0; i < results.length; i++){\r\n                            if(results[i].types.includes(\"locality\")){\r\n                                const location = results[i].formatted_address.split(',')\r\n                                city = location[0];\r\n                                state = location[1];\r\n                            }\r\n                        }\r\n                        //If could not get from \"locality\", grab within address_components\r\n                        if(city === \"\" || state === \"\"){\r\n                            for(let i = 0; i < results[0].address_components.length; i++){\r\n                                for(let b = 0; b < results[0].address_components[i].types.length; b++){\r\n                                    if(results[0].address_components[i].types[b] === \"administrative_area_level_1\"){\r\n                                        state = results[0].address_components[i].short_name;\r\n                                    }\r\n                                    if(results[0].address_components[i].types[b] === \"locality\"){\r\n                                        city = results[0].address_components[i].short_name;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    else{\r\n                        alert(\"We cant find your location!\")\r\n                        return;\r\n                    }\r\n                    return {city, state}\r\n                }).then(({city, state})=>{\r\n                    console.log(`${city}, ${state}`);\r\n                    if(!city || ! state){\r\n                        setLocation(\"\");\r\n                        return;\r\n                    }\r\n                    setLocation(`${city}, ${state}`);\r\n                }).catch(err=>{\r\n                    console.log(\"Error in getting city: \" + err);\r\n                })\r\n          \r\n              });\r\n              return;\r\n          }\r\n            alert(\"Make sure geolocation is allowed\");\r\n            console.log(\"Geolocation Not Available\");\r\n    }\r\n    return <span name={name} className=\"current-location-button icon is-left\" onClick={onClick}>\r\n        <i title=\"Current Location\" className=\"fas fa-crosshairs\"/>\r\n    </span>\r\n}\r\n\r\nexport const GoogleSignIn = withFirebase(({firebase, setUser})=>{\r\n    const signInWithGoogle = e =>{\r\n        e.preventDefault();\r\n        firebase.signInWithGooglePopup()\r\n        .then(res=>{\r\n            console.log(\"Successfully signed in with google popup\")\r\n            console.log(res);\r\n            const {additionalUserInfo : {isNewUser, profile:{email, name, picture}}, user:{uid}} = res;\r\n            firebase.auth.onAuthStateChanged(res)\r\n            if(isNewUser){\r\n                console.log(`\r\n                From Firebase Signup: \r\n                    Name: ${name}\r\n                    Email : ${email}\r\n                    Picture: ${picture}\r\n                    UID: ${uid}\r\n                `);\r\n                axios.post(`/api/v1/users`,{\r\n                    authID: uid,\r\n                    email,\r\n                    name,\r\n                    avatar: picture\r\n                }).then((res)=>{\r\n                    console.log(res);\r\n                    // axios.get(`/api/v1/users/auth/${res.data.authID}`)\r\n                }).catch(err=>{\r\n                    console.log(\"Error signing user up in Fauna: \" + err);\r\n                })\r\n            }\r\n            axios\r\n        .get(`/api/v1/users/auth/${uid}`)\r\n        .then(({data})=>setUser({\r\n            ownerID: data._id,\r\n            name: data.name,\r\n            email: data.email,\r\n            localTo: data.localTo,\r\n            role: data.role,\r\n            softLocalTo: data.softLocalTo,\r\n            avatar: (data.avatar && data.avatar.url) || \"\",\r\n            handler: data.handle\r\n        }))\r\n        .then(()=>window.location.reload())\r\n        .catch((err) => {\r\n          console.log(\"Error in this spot\");\r\n          console.log(err);\r\n        });\r\n        })\r\n        .catch(err=>{\r\n            console.log(\"Error signing in with google popup: \" + err)\r\n        })\r\n    }\r\n    return <div className=\"button content is-fullwidth is-google\" onClick={signInWithGoogle}>\r\n                <span className=\"\">\r\n                    <span className=\"icon\">\r\n                        <i className=\"fab fa-google\"/>\r\n                    </span>\r\n                    <span>Google</span>\r\n                </span>\r\n            </div>\r\n})\r\n\r\nexport const DropdownTrigger = ({active, toggleActive})=>{\r\n    return <div className=\"dropdown-trigger\">\r\n    <button className=\"button\" aria-haspopup=\"true\" aria-controls=\"dropdown-menu\" onClick={()=>{toggleActive()}}>\r\n      <span className=\"icon is-small\">\r\n        {active ? <i className=\"fas fa-times\" aria-hidden=\"false\"/> : <i className=\"fas fa-bars\" aria-hidden=\"true\"/>}\r\n      </span>\r\n    </button>\r\n  </div>\r\n}","import  firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport React from 'react';\r\nrequire('dotenv').config();\r\n\r\nconst firebaseConfig = {\r\n  apiKey:process.env.REACT_APP_FIREBASE_APIKEY,\r\n  authDomain:process.env.REACT_APP_FIREBASE_AUTHDOMAIN,\r\n  databaseURL:process.env.REACT_APP_FIREBASE_DATABASEURL,\r\n  projectId:process.env.REACT_APP_FIREBASE_PROJECTID,\r\n  storageBucket:process.env.REACT_APP_FIREBASE_STORAGEBUCKET,\r\n  messagingSenderId:process.env.REACT_APP_FIREBASE_MESSEGINGSENDERID,\r\n  appId:process.env.REACT_APP_FIREBASE_APPID,\r\n  measurementId:process.env.REACT_APP_FIREBASE_MEASUREMENTID,\r\n}\r\n\r\nexport const FirebaseContext = React.createContext(null);\r\n\r\nexport const withFirebase = Component => props => (\r\n  <FirebaseContext.Consumer>\r\n    {firebase => <Component {...props} firebase={firebase} />}\r\n  </FirebaseContext.Consumer>\r\n);\r\n\r\nexport default class Firebase {\r\n  constructor() {\r\n    \r\n    if(!firebase.apps.length){\r\n      firebase.initializeApp(firebaseConfig);\r\n    }\r\n    this.Auth = firebase.auth.Auth;\r\n    this.auth = firebase.auth();\r\n    this.provider = \"\"\r\n  }\r\n\r\n  setProvider = provider =>{\r\n    this.provider = provider\r\n  }\r\n  setPersistenceStorage = persistence => this.auth.setPersistence(persistence);\r\n  persistenceLocal = ()=> firebase.auth().Auth.Persistence.LOCAL\r\n  persistenceNone = ()=> firebase.auth().Auth.Persistence.NONE\r\n\r\n  createUserWithEmailAndPassword = (email, password) =>\r\n    this.auth.createUserWithEmailAndPassword(email, password);\r\n  \r\n  emailIsAvailable = email => this.auth.fetchSignInMethodsForEmail(email);\r\n\r\n  signInWithEmailAndPassword = (email, password) =>\r\n    this.auth.signInWithEmailAndPassword(email, password);\r\n  \r\n  signOut = () => this.auth.signOut();\r\n    \r\n\r\n  passwordReset = email => this.auth.sendPasswordResetEmail(email);\r\n\r\n  updatePassword = password => this.auth.currentUser.updatePassword(password);\r\n  updateEmail = email => this.auth.currentUser.updateEmail(email);\r\n  signInWithGooglePopup = () => this.auth.signInWithPopup(new firebase.auth.GoogleAuthProvider())\r\n  emailCredentials = (email, pass)=>firebase.auth.EmailAuthProvider.credential(email,pass)\r\n  reauth = (credentials)=>this.auth.currentUser.reauthenticateWithCredential(credentials)\r\n}\r\n\r\n","import React from 'react';\r\nimport { getCookie, setCookie } from \"./globals\";\r\nimport axios from 'axios';\r\n\r\nexport const UserContext = React.createContext(null);\r\n\r\nexport const withUser = Component => props => (\r\n    <UserContext.Consumer>\r\n      {user => <Component {...props} user={user} />}\r\n    </UserContext.Consumer>\r\n  );\r\n\r\nconst updateLocal = async (_id)=>{\r\n    if(getCookie(\"local-update-on\") === undefined && getCookie(\"local-update\") !== undefined){\r\n      console.log(getCookie(\"local-update\"));\r\n      await axios.patch(`/api/v1/users/${_id}/local-to`,{\r\n        localTo:getCookie(\"local-update\")\r\n      }).then((res)=>{\r\n        setCookie(\"local-update\", \"\", -1);\r\n      })\r\n    }}\r\n\r\nexport default class User{\r\n    constructor(){\r\n        this.ownerID = \"\";\r\n        this.email = \"\";\r\n        this.name = \"\";\r\n        this.localTo = \"\";\r\n        this.softLocalTo = [];\r\n        this.role = \"\";\r\n        this.avatar = \"\";\r\n        this.handler = \"\";\r\n    }\r\n    \r\n    isSet(){\r\n      return !!this.ownerID;\r\n    }\r\n    \r\n    isLocalTo(local){\r\n      return local && (!local.localsOnly || `${local.address.state}:${local.address.city.replace(\" \",\"_\")}` === this.localTo || this.isUnrestricted())\r\n    }\r\n\r\n    isUnrestricted(){\r\n      return this.role !== \"user\"\r\n    }\r\n    \r\n    set(user){\r\n      this.ownerID = user.ownerID;\r\n      this.email = user.email;\r\n      this.name = user.name;\r\n      this.localTo = user.localTo;\r\n      this.softLocalTo = user.softLocalTo;\r\n      this.role = user.role;\r\n      this.avatar = user.avatar;\r\n      this.handler = user.handler;\r\n      updateLocal(user.ownerID);\r\n    }\r\n}","import { useCallback, useState } from 'react';\n\n// Hook\n// Parameter is the boolean, with default \"false\" value\nconst useToggle = (initialState = false) => {\n  // Initialize the state\n  const [state, setState] = useState(initialState);\n  \n  // Define and memorize toggler function in case we pass down the comopnent,\n  // This function change the boolean value to it's opposite value\n  const toggle = useCallback(() => setState(state => !state), []);\n  \n  return [state, toggle]\n}\n\nexport default useToggle;","export const buttons = {\r\n    SIGN : 'sign',\r\n    SEARCH: 'search'\r\n}","import React, {useState, useEffect} from \"react\";\n\nexport default function useDeviceDetect() {\n\n  const [isMobile, setMobile] = useState(false);\n  const [width, setWidth] = useState(window.innerWidth);\n  const updateDimensions = ()=>{setWidth(window.innerWidth)}\n  \n  \n  useEffect(() => {\n    const userAgent =\n      typeof navigator === \"undefined\" ? \"\" : navigator.userAgent;\n\n      const mobile = Boolean(\n        userAgent.match(/Android|BlackBerry|iPhone|iPod|Opera Mini|IEMobile|WPDesktop/i)\n      ) || width < 870\n      window.addEventListener('resize', updateDimensions)\n   \n      setMobile(mobile)\n      return function cleanup(){\n        window.removeEventListener('resize', updateDimensions)\n      };\n  }, [width]);\n\n  return { isMobile }\n}","import React,{useEffect} from 'react';\r\nimport { Link} from 'react-router-dom';\r\nimport * as ROUTES from '../Constants/routes';\r\nimport {buttons} from '../Constants/IDs';\r\nimport { withFirebase } from '../Authentication';\r\n\r\n \r\nconst SignUp = withFirebase(({setStatus, user, setUser})=> {\r\n  \r\n    const checkPasswordMatch = ()=>{\r\n      const pass = document.getElementById('password');\r\n      const passMatch = document.getElementById('password_match');\r\n      const validateString = str => (/^(?=.{8,})(?=.*[a-z])(?=.*[A-Z])(?=.*[!#$%^&+=]).*$/.test(str))\r\n      \r\n        \r\n          if(pass.value === passMatch.value && (pass.value.length > 7 && passMatch.value.length > 7)){\r\n            if(validateString(pass.value) && validateString(passMatch.value)){\r\n              passMatch.classList.add('is-success')\r\n              passMatch.classList.remove('is-danger')\r\n              setStatus(true)\r\n              return;\r\n            }\r\n          }\r\n          passMatch.classList.add('is-danger');\r\n          passMatch.classList.remove('is-success');\r\n          setStatus(false)\r\n    }\r\n  \r\n    const onChange = event => {\r\n      const {name, value} = event.target;\r\n      if(name === \"email\") setUser({...user, [name]:value.replace(/\\s/g, '')})\r\n      else setUser({...user, [name]:value})\r\n     \r\n      if(name === \"passwordTwo\" || name === \"passwordOne\"){\r\n        checkPasswordMatch();\r\n      }\r\n      event.preventDefault();\r\n  }\r\n\r\n    return (\r\n      <section id=\"signup\" className=\"container is-centered\">\r\n      <label className=\"label\">\r\n        Full Name\r\n        <div className=\"field\">\r\n        <div className=\"control\">\r\n          <input\r\n            name=\"name\"\r\n            value={user.name}\r\n            onChange={onChange}\r\n            type=\"text\"\r\n            className=\"input\"\r\n            autoFocus={true}\r\n          />\r\n        </div>\r\n      </div>\r\n      </label>\r\n        <label className=\"label\">\r\n          Email\r\n        <div className=\"field\">\r\n          <div className=\"control\">\r\n            <input\r\n              id=\"email\"\r\n              name=\"email\"\r\n              value={user.email}\r\n              onChange={onChange}\r\n              type=\"email\"\r\n              className=\"input\"\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n        </label>\r\n        <label className=\"label level\">\r\n          <span className=\"level-left\">\r\n            <span className=\"level-item\">Password</span> \r\n            <small className=\"help level-item is-info\"> must be at least 8 characters and contain at least 1 letter, number and special character (!#$%^&+=)</small>\r\n          </span>\r\n        </label>\r\n          <div className=\"field\">\r\n          <div className=\"control\">\r\n            <input\r\n            id=\"password\"\r\n              name=\"passwordOne\"\r\n              value={user.passwordOne}\r\n              onChange={onChange}\r\n              type=\"password\"\r\n              className=\"input\"\r\n              minLength={8}\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        <label className=\"label\">\r\n          Confirm Password\r\n          <div className=\"field\">\r\n          <div className=\"control\">\r\n            <input\r\n              id=\"password_match\"\r\n              name=\"passwordTwo\"\r\n              value={user.passwordTwo}\r\n              onChange={onChange}\r\n              type=\"password\"\r\n              className=\"input\"\r\n              minLength={8}\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n        </label>\r\n        \r\n        {user.error && <p className=\"help is-danger\">{user.error.message}</p>}\r\n      </section>\r\n    );\r\n  })\r\n\r\n \r\nexport const SignUpLink = () => {\r\n  useEffect(()=>{\r\n    if(document.getElementById(buttons.SIGN)){\r\n      const sign = document.getElementById(buttons.SIGN);\r\n    const button = document.getElementById(\"signup-button\")\r\n    document.addEventListener('click',e=>{\r\n        const isClickedInside = button.contains(e.target);\r\n        if(isClickedInside && sign.classList.contains('is-active')){\r\n            sign.classList.remove('is-active');\r\n        \r\n    }})\r\n    }\r\n})\r\n  return <small>Don't have an account? <Link id=\"signup-button\" className=\"has-text-primary\" to={ROUTES.SIGNUP} >Sign Up!</Link></small>\r\n}\r\n\r\nexport default SignUp;","import React from 'react';\nimport {ABBRS} from \"../globals\";\n\nconst Input = ({children}) => (\n  <div className=\"field\">\n      <div className=\"control\">\n          {children}\n      </div>\n  </div>\n)\n\nconst SelectInput = ({children, name, value, onChange}) => (\n  <div className=\"field select is-full\">\n      <select className=\"control\" name={name} id=\"state\" value={value} onChange={onChange}>\n          {children}\n      </select>\n  </div>\n)\n\nconst StateInitialInput = ({onChange, value, placeholder, className, id}) => {\n\n  const CheckState = e =>{\n      if(e.target.value.length < 2 || ABBRS.includes(e.target.value.toUpperCase())){\n        onChange(e);\n      }\n  }\n\n   return <Input>\n        <input \n        id={id || \"state-initial-input\"} \n        type=\"text\" \n        placeholder={placeholder || \"AZ\"} \n        className={className || \"input\"} \n        name=\"state\" \n        value={value} \n        onChange={CheckState} \n        maxLength={2} \n        minLength={2} \n        pattern=\"([A-Za-z]{2})\" \n        required\n        />\n    </Input>\n}\n\nconst SatisfactionScale = ({onClick})=>{\n  return <div className=\"level button is-static is-rounded has-background-white satisfaction-scale\">\n    <span className=\"level-item icon is-small\">\n      <i className=\"far fa-angry has-text-danger fa-2x is-clickable\" id={0} onClick={onClick}/>\n      <i className=\"far fa-frown has-text-warning fa-2x is-clickable\" id={1} onClick={onClick}/>\n      <i className=\"far fa-meh has-text-grey fa-2x is-clickable\" id={2} onClick={onClick}/>\n      <i className=\"far fa-smile-beam has-text-primary fa-2x is-clickable\" id={3} onClick={onClick}/>\n      <i className=\"far fa-grin-stars has-text-success fa-2x is-clickable\" id={4} onClick={onClick}/>\n    </span>\n  </div>\n}\n\nexport default Input;\nexport {\n  SelectInput,\n  StateInitialInput,\n  SatisfactionScale\n}","import React from \"react\";\n// import { withFirebase } from '../Authentication';\n\nconst RememberMe = ({rememberMe, setRememberMe})=>{\n  \n  // const rememberMe = useRef(false);\n\n  const onChange = ()=>{\n    setRememberMe();\n    // if(rememberMe){\n    //   console.log(\"Remember my username\");\n    //   return;\n    // }\n    // console.log(\"Dont remember my username\")\n  }\n\n  // const [isChecked] = React.useState(rememberMeRef.current.checked);\n\n  // useEffect(()=>{\n    // console.log(rememberMeRef);\n  // },[rememberMeRef])\n\n  return  <div className=\"control mt-4\">\n            <label htmlFor=\"rememberMe\" className=\"checkbox\">\n              <input type=\"checkbox\" name=\"rememberMe\" onChange={onChange} checked={rememberMe}/>\n              <span className=\"pl-1\">remember me</span>\n            </label>\n          </div>\n}\n\nexport default RememberMe;","import React, {useState} from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\nimport { withFirebase } from '../Authentication';\r\nimport { SignUpLink } from './SignUp';\r\nimport { withUser } from '../User';\r\nimport { GoogleSignIn } from './Buttons';\r\nimport useToggle from '../Components/useHooks/useToggle';\r\nimport RememberMe from './RememberMe';\r\nimport {getCookie, setCookie} from \"../globals\";\r\n\r\nconst SignInPage = () => (<SignInForm />);\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  password: '',\r\n  error: ''\r\n};\r\n\r\n\r\n\r\nconst SignInFormBase = ({firebase})=>{\r\n  \r\n    const [toggleError, setToggleError] = useToggle();\r\n    let [state, setState] = useState(INITIAL_STATE);\r\n    const [rememberMe, setRememberMe] = useToggle(Boolean(getCookie(\"remember-me\")) || false);\r\n\r\n    const setPersistentStorage = (persistence, callback)=>{\r\n      firebase.setPersistenceStorage(persistence)\r\n        .then(()=>{\r\n          callback();\r\n        })\r\n        .catch(err=>{\r\n          console.dir(\"Error in userCheckedRememberMe: \" + err);\r\n        })\r\n    }\r\n\r\n    const onSubmit = event => {\r\n      event.preventDefault();\r\n      // console.log(rememberMe);\r\n      const { email, password } = state;\r\n      const signInWithEmail = firebase\r\n        .signInWithEmailAndPassword(email, password)\r\n        .then((u) => {\r\n\r\n          setState({INITIAL_STATE });\r\n        })\r\n        .catch(error => {\r\n          setState({ ...state, error:error });\r\n        })\r\n      \r\n      if(rememberMe){\r\n        console.log(\"Remember Me\");\r\n        setCookie(\"remember-me\", true, 30);\r\n        setPersistentStorage(firebase.persistenceLocal, signInWithEmail);\r\n        return;\r\n      }\r\n      console.log(\"Dont Remember Me\");\r\n      setCookie(\"remember-me\", \"\", -1);\r\n      setPersistentStorage(firebase.persistenceNone, signInWithEmail);\r\n    }\r\n\r\n    const onChange = ({target: {name, value}}) => {\r\n      setState({...state, [name]: value });\r\n    };\r\n\r\n    const { email, password } = state;\r\n    let {error} = state;\r\n    const isInvalid = password === '' && email === '';\r\n\r\n    return (<div>\r\n      \r\n      <form onSubmit={onSubmit} className=\"container\">\r\n       {/* <div className=\"section px-0 pt-6 pb-5\">\r\n        <GoogleSignIn setUser={props.setUser}/>\r\n       </div>\r\n       <div className=\"text-has-line\"><span>or</span></div> */}\r\n        <div className=\"field pt-6\">\r\n          <div className=\"control\">\r\n            <label htmlFor=\"email\" className=\"label\">\r\n              Email\r\n            </label>\r\n            <input\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={onChange}\r\n              type=\"text\"\r\n              className=\"input\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"field\">\r\n          <div className=\"control\">\r\n            <label htmlFor=\"password\" className=\"label\">\r\n              Password\r\n            </label>\r\n            <input\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={onChange}\r\n              type=\"password\"\r\n              className=\"input\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <RememberMe rememberMe={rememberMe} setRememberMe={setRememberMe}/>\r\n        <div className=\"field\">\r\n          <div className=\"columns is-centered section mt-1\">\r\n            <button className={`column pt-2  button ${isInvalid ? 'is-danger' : 'is-primary'}`} disabled={isInvalid} type=\"submit\">\r\n            Sign In\r\n            </button>\r\n          </div>\r\n          <div className=\"section\">\r\n          <SignUpLink/>\r\n          </div>\r\n        </div>\r\n      </form>\r\n        {error && <div className={`box is-danger is-outlined ${toggleError && \"is-hidden\"}`} onClick={e=>{\r\n          e.preventDefault();\r\n          setToggleError();\r\n        }}>{error.message}</div>}\r\n    </div>\r\n    );\r\n }\r\n\r\nconst SignInForm = compose(\r\n  withUser,\r\n  withRouter,\r\n  withFirebase,\r\n)(SignInFormBase);\r\n\r\nexport default SignInPage;\r\n\r\nexport { SignInForm };","export const HOME = '/';\r\nexport const SEARCH = '/search';\r\nexport const LOCAL = '/local';\r\nexport const NEW_LOCAL = '/create-local';\r\nexport const SIGNUP = '/registration';\r\nexport const PROFILE = '/dashboard';\r\nexport const UPLOAD_IMAGE = \"/local/upload-image\""],"sourceRoot":""}