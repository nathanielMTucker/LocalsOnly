{"version":3,"sources":["Components/Picture.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","Components/Avatar.jsx","Components/ImageForm.jsx","Pages/EditProfile.jsx"],"names":["Picture","id","publicId","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","Avatar","avatar","DefaultAvatar","viewBox","fill","xmlns","clipPath","width","height","rx","Math","floor","random","cx","cy","r","d","className","cloudName","secure","upload_preset","preset","ImageProfileForm","withUser","user","setImage","image","DisplaySelectedImages","images","setImages","title","onClick","e","src","URL","createObjectURL","alt","type","name","onChange","preventDefault","files","target","console","dir","getAvatar","ImageForm","folder","multiple","callback","useState","uploading","setUploading","uploadImages","a","log","form","FormData","imageURLs","map","append","fetch","method","body","then","res","json","file","public_id","Promise","all","awaitURLs","removeImage","persist","index","Number","filter","onSubmit","currentImages","EditProfile","withFirebase","history","firebase","getLocalTo","split","state","city","handleBeingChecked","setHandleBeingChecked","handleIsAvailable","setHandleIsAvailable","useToggle","passwordVisible","togglePasswordVisible","updatingLocal","undefined","getCookie","getName","email","getEmail","handler","getHandler","charAt","toUpperCase","slice","oldPassword","newPassword","profile","setProfile","checkHandler","useCallback","includes","length","axios","get","catch","err","useEffect","updateProfile","updateEmail","_","patch","getID","handle","credentials","emailCredentials","reauth","updatePassword","toLowerCase","localTo","replace","setCookie","Date","setTime","getTime","expires","toUTCString","exp","getDate","alert","push","HandleCheckIcon","value","LocalUpdateOn","update","today","difT","abs","difD","ceil","isNaN","htmlFor","required","minLength","autoComplete","disabled","maxLength","to"],"mappings":"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","file":"static/js/8.206ad0ea.chunk.js","sourcesContent":["import React from 'react'\nimport {Image} from 'cloudinary-react';\n\nconst Picture = ({id}) => {\n    \n    return (\n        <Image publicId={id}></Image>\n    )\n}\n\nexport default Picture;","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, {useEffect} from \"react\";\nimport Picture from \"./Picture\";\nimport { CloudinaryContext } from \"cloudinary-react\";\n\nconst Avatar = ({avatar}) =>{\n\n  // useEffect(()=>{\n  //   if(!avatar){\n  //     const da = document.getElementById(\"avatar-background\")\n  //   const rand = Math.round(Math.random(16) * 20) \n  //   let color = `hsl(${rand}, 100%, 75%)`;\n  //   da.style.fill = color;\n  //   }\n  // },[avatar])\n\n  const DefaultAvatar = ()=>(\n    <svg viewBox=\"0 0 500 500\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g id=\"default-avatar\" clipPath=\"url(#clip0)\">\n        <g id=\"background\">\n          <rect id=\"avatar-background\" width=\"500\" height=\"500\" rx=\"36\" fill={`hsl(${Math.floor(Math.random() * 18) * 20 }, 100%, 75%)`}/>\n        </g>\n        <g id=\"person\">\n          <circle id=\"avatar-head\" cx=\"250\" cy=\"167\" r=\"115\" fill=\"white\"/>\n          <path id=\"avatar-body\" d=\"M475 445C475 414.5 451.295 385.249 409.099 363.683C366.903 342.116 309.674 330 250 330C190.326 330 133.097 342.116 90.901 363.683C48.7053 385.249 25 414.5 25 445L250 445H475Z\" fill=\"white\"/>\n        </g>\n      </g>\n      <defs>\n        <clipPath id=\"clip0\">\n          <rect width=\"500\" height=\"500\" fill=\"white\"/>\n        </clipPath>\n      </defs>\n    </svg>\n  )\n\n  return (\n    <div className=\"avatar\">\n      {\n        avatar ? (\n          <CloudinaryContext cloudName={\"dpjlvg7ql\"} secure={false} upload_preset=\"avatar_images\">\n                <Picture id={avatar} preset=\"avatar_images\"/>\n            </CloudinaryContext>\n            ):\n            <DefaultAvatar/>\n      }\n    </div>\n    \n  )\n\n}\n\nexport default Avatar;","import React, { useState } from \"react\";\nimport {withUser} from \"../User\";\nimport Avatar from '../Components/Avatar';\n\nconst ImageForm = ({folder, multiple, callback}) => {\n  const [uploading, setUploading] = useState(false);\n  const [images, setImages] = useState([]);\n\n  const getImagesFromUser = e => {\n    e.preventDefault();\n    const {\n      target: { files },\n    } = e;\n    if(multiple){\n      setImages(currentImages=>[...currentImages, ...files]);\n      return;\n    }\n    setImages([...files]);\n  };\n\n  const uploadImages = async e => {\n    e.preventDefault();\n    console.log(images);\n    \n    const form = new FormData();\n    \n    setUploading(true);\n\n    const imageURLs = images.map(async image=>{\n      form.append('file', image);\n      form.append('upload_preset', `${folder}_images`);\n      \n      return await fetch(`https://api.cloudinary.com/v1_1/dpjlvg7ql/image/upload`, {\n        method:\"POST\",\n        body:form\n      }).then(res=>res.json())\n      .then(file=>{\n        const id = file.public_id\n        console.log(id);\n        return id;\n      })\n    })\n    const awaitURLs = await Promise.all(imageURLs)\n    callback(awaitURLs)\n    \n    setUploading(false);\n  };\n\n  const closeForm = e => {\n    e.preventDefault();\n    setImages([]);\n  };\n\n  \n\n  const DisplaySelectedImages = ({images, setImages}) =>{\n    const removeImage = e =>{\n      e.persist();\n      const index = Number(e.target.id);\n      console.log(\"Image name: \" + index);\n      const {name} = images[index];\n      setImages(images.filter(image=>image.name !== name))\n  }\n  \n    return <div className=\"tile is-ancestor\">\n        <div className=\"tile is-parent image-row\">\n            {images && images.map((image, index)=>(\n                <div className=\"tile is-child image-item\" key={index}>\n                  <span className=\"is-small button is-inverted is-danger delete-image\" title=\"Remove\" id={index} onClick={removeImage}>\n                    <i className=\"far fa-trash-alt\"/>\n                  </span>\n                  <img src={URL.createObjectURL(image)} alt=\"Could not load\"/>\n                </div>\n            ))}\n        </div>\n    </div>\n}\n\n  return (\n    <form onSubmit={uploadImages} className=\"form-container\">\n      <div className=\"file is-centered is-boxed has-name\">\n        <label className=\"file-label\">\n          <input className=\"file-input\" multiple={multiple} type=\"file\" name=\"images\" onChange={getImagesFromUser}/>\n          <span className=\"file-cta\">\n            <span className=\"file-icon\">\n              <i className=\"fas fa-images\"/>\n            </span>\n            <span className=\"file-label\">\n              Get images\n            </span>\n          </span>\n        </label>\n      </div>\n      <div className=\"buttons is-centered section\">\n        <button type=\"submit\" className=\"button is-success\">\n          Upload\n        </button>\n        <button type=\"submit\" className=\"button is-danger\" onClick={closeForm}>\n          Remove all\n        </button>\n      </div>\n      {uploading ? <div>Loading...</div> : <DisplaySelectedImages images={images} setImages={setImages}/>}\n    </form>\n  );\n};\n\nconst ImageProfileForm = withUser(({user, setImage, image})=>{\n\n  const getImagesFromUser = e => {\n    e.preventDefault();\n    const {\n      target: { files },\n    } = e;\n    console.dir(files[0])\n    setImage(files[0]);\n  };\n\n  const DisplaySelectedImages = ({images, setImages}) =>{\n    const removeImage = e =>{\n      setImage(null)\n  }\n  \n    return  (\n    <div className=\"tile is-child image-item\">\n      <span className=\"is-small button is-inverted is-danger delete-image\" title=\"Remove\" onClick={removeImage}>\n        <i className=\"far fa-trash-alt\"/>\n      </span>\n      <img src={URL.createObjectURL(image)} alt=\"Could not load\"/>\n    </div>\n    )\n    \n}\n\n  return (\n    \n      <div>\n          <div className=\"file is-centered is-boxed has-name\">\n            <label className=\"file-label\">\n              <input className=\"file-input\" src={\"./LocalsOnly.png\"} type=\"file\" name=\"images\" onChange={getImagesFromUser}/>\n              {/* <span className=\"image is-128x128\"> */}\n              \n                <Avatar avatar={user.getAvatar()}/>\n              \n              {/* </span> */}\n            </label>\n          </div>\n          {image && <DisplaySelectedImages/>}\n      </div>\n      \n   \n  );\n})\n\nexport default ImageForm;\n\nexport {\n  ImageProfileForm\n}","import React, {useState, useEffect, useCallback} from 'react';\nimport {ImageProfileForm} from '../Components/ImageForm';\nimport axios from 'axios';\nimport { withUser } from '../User'\nimport { withFirebase } from '../Authentication';\nimport {Link} from 'react-router-dom';\nimport useToggle from \"../Components/useHooks/useToggle\"\nimport { getCookie, setCookie } from '../globals';\n\n\nconst EditProfile = withFirebase(withUser(({history, firebase, user})=>{\n  let [state, city] = user.getLocalTo().split(':');\n\n  const [handleBeingChecked, setHandleBeingChecked] = useState(false);\n  const [handleIsAvailable, setHandleIsAvailable] = useState(true);\n\n  const [passwordVisible, togglePasswordVisible] = useToggle(false);\n  const updatingLocal = getCookie(\"local-update\") !== undefined\n  const [image, setImage] = useState(null);\n\n  const [profile, setProfile] = useState({\n    name: user.getName() || \"\",\n    email: user.getEmail() || \"\",\n    handler: user.getHandler() || \"\",\n    city: city.charAt(0).toUpperCase() + city.slice(1) || \"\",\n    state: state.toUpperCase() || \"\",\n    oldPassword: \"\",\n    newPassword: \"\",\n  })\n\n  const checkHandler = useCallback(\n    async ()=>{\n      setHandleBeingChecked(true);\n      // console.log(\"handler has been checked\");\n      if(profile.handler.includes(\" \")|| profile.handler === \"\" || profile.handler.length < 4){\n        return setHandleIsAvailable(false);\n      }\n      if(profile.handler === user.getHandler()){\n        return setHandleIsAvailable(true);\n      }\n      // console.log(profile.handler);\n      await axios.get(`/api/v1/users/handles/${profile.handler}`)\n      .then(res=>{\n        console.dir(res);\n        return setHandleIsAvailable(true);\n      })\n      .catch(err=>{\n        console.log(\"In Handle Check: \" + err);\n        return setHandleIsAvailable(false);\n      })\n      \n    }\n  ,[profile.handler, user])\n\n    \n  useEffect(()=>{\n    \n    if(profile.handler !== user.getHandler()){ \n       checkHandler().then(()=>setHandleBeingChecked(false))\n    }\n    \n  }, [checkHandler, profile.handler, user])\n\n  \n\n  const updateProfile = async (e) =>{\n    e.preventDefault();\n\n    if(user.getEmail() !== profile.email){\n      await firebase.updateEmail(profile.email)\n      .then(async _ =>{\n        console.log(\"Email updated\");\n        await axios.patch(`/api/v1/users/${user.getID()}/email`,{\n          email:profile.email\n        })\n      })\n      .catch(err=>{\n        console.log(\"Error updating email from edit user page\");\n        console.dir(err)\n      })\n      \n    }\n\n    if(user.getName() !== profile.name){\n      await axios.patch(`/api/v1/users/${user.getID()}/name`,{\n        name:profile.name\n      })\n    }\n\n    if(user.getHandler() !== profile.handler){\n      await axios.patch(`/api/v1/users/${user.getID()}/handle`,{\n        handle:profile.handler\n      })\n    }\n\n    if(profile.newPassword.length >= 6 && profile.newPassword !== profile.oldPassword ){\n      console.log(\"Changing password\");\n      const credentials = firebase.emailCredentials(profile.email, profile.oldPassword);\n      await firebase.reauth(credentials)\n      .then(res=>{\n        // console.dir(res);\n        console.log(\"Re-authenticated\");\n        firebase.updatePassword(profile.newPassword)\n        .then(res=>{\n          console.log(\"New password set\");\n        })\n        .catch(err=>{\n          console.log(\"Error setting new password: \" + err);\n        })\n      })\n      .catch(console.dir)\n      \n    }\n\n    if(image){\n      const form = new FormData();\n    \n      form.append('file', image);\n      form.append('upload_preset', `avatar_images`);\n      \n      await fetch(`https://api.cloudinary.com/v1_1/dpjlvg7ql/image/upload`, {\n        method:\"POST\",\n        body:form\n      }).then(res=>res.json())\n      .then(file=>{\n        const id = file.public_id\n        console.log(id);\n        return id;\n      })\n      .then(async avatar=>{\n        await axios.patch(`/api/v1/users/${user.getID()}/avatar`,{\n          avatar\n        }).then(res=>{\n          console.dir(\"Updated Avatar: \" + res);\n        })\n      })\n\n      \n    }\n    \n    if(profile.state.toLowerCase() !== state.toLowerCase() || profile.city.toLowerCase() !== city.toLowerCase()){\n      const localTo = profile.state.toLowerCase() + \":\" + profile.city.toLowerCase().replace(\" \", \"-\")\n      setCookie(\"local-update\", localTo, 1000);\n      const d = new Date();\n      d.setTime(d.getTime() + (30*24*60*60*1000));\n      let expires = d.toUTCString();\n      \n      setCookie(\"local-update-on\", expires, 30)\n      const exp = getCookie(\"local-update-on\");\n      // console.log(exp);\n      const a = new Date(exp);\n      console.log(a.getDate());\n    }\n\n    alert(\"Your profile has been updated!\")\n    history.push(\"/dashboard\")\n\n  }\n  const HandleCheckIcon = ()=>{\n    if(handleBeingChecked === true) \n      return <span className=\"icon is-small is-right has-text-info\">\n        <i className=\"fas fa-circle-notch fa-pulse\"/>\n      </span>\n\n    if(handleIsAvailable) \n      return <span className=\"icon is-small is-right has-text-success\">\n        <i className=\"fas fa-check\"/>\n      </span>\n    \n     return <span className=\"icon is-small is-right has-text-danger\">\n        <i className=\"fas fa-times\"/>\n      </span>\n    \n  }\n  const onChange = e =>{\n    e.preventDefault();\n    let {name, value} = e.target;\n    if(name === \"password\") setProfile({...profile, [name]:value.replace(\" \", \"\")})\n    else setProfile({...profile, [name]:value})\n    // console.log(`onChange ${name}: ${value}`)\n  }\n\n  const LocalUpdateOn = ()=>{\n    const update = new Date(getCookie(\"local-update-on\"))\n    const today = new Date()\n    const difT = Math.abs(update - today);\n    let difD = Math.ceil(difT / (1000*60*60*24));\n    // if(difD === NaN)\n    if(difD <= 1 || isNaN(difD)){\n      difD = \"today\"\n    }else{\n      difD = \"in \"+difD + \" days\"\n    }\n    return <span>{difD}</span>\n  }\n\n  \n\n  return <main id=\"avatar-upload-page\" className=\"section mt-4 container\">\n    <div className=\"columns is-centered\">\n    <h1 className=\"title column has-text-centered my-3\">Edit Profile</h1>\n    </div>\n        <form onSubmit={updateProfile} className=\"\">\n    <section className=\"section container box columns\">\n    <div className=\"column\">\n        <ImageProfileForm setImage={setImage} image={image}/>\n      </div>\n      <div className=\"column\">\n\n          <div className=\"field\">\n            <label htmlFor=\"name\">Name</label>\n            <div className=\"control has-icons-left\">\n              <input type=\"text\" name=\"name\" value={profile.name} className=\"input\" onChange={onChange} required/>\n              <span className=\"icon is-small is-left\">\n                <i className=\"fas fa-user\"/>\n              </span>\n            </div>\n          </div>\n\n          <div className=\"field\">\n            <label htmlFor=\"handler\">Handler</label>\n            <div className=\"control has-icons-left has-icons-right\">\n              <input type=\"text\" name=\"handler\" value={profile.handler} className=\"input\" onChange={onChange} minLength={4} required/>\n              <span className=\"icon is-small is-left\">\n                <i className=\"fas fa-at\"/>\n              </span>\n              <HandleCheckIcon/>\n              \n            </div>\n          </div>\n\n          <div className=\"field\">\n            <label htmlFor=\"email\">Email</label>\n            <div className=\"control has-icons-left\">\n              <input type=\"text\" name=\"email\" value={profile.email} className=\"input\" onChange={onChange} required/>\n              <span className=\"icon is-small is-left\">\n                <i className=\"fas fa-envelope\"/>\n              </span>\n            </div>\n          </div>\n\n          <div className=\"field\">\n            <label htmlFor=\"email\">Old Password</label>\n            <div className=\"control has-icons-left has-icons-right\">\n              <input type={passwordVisible ? \"text\" : \"password\"} name=\"oldPassword\" value={profile.oldPassword} className=\"input\" onChange={onChange}/>\n              <span className=\"icon is-small is-left\">\n                <i className=\"fas fa-key\"/>\n              </span>\n              <span className=\"icon password-visible-icon is-small is-right\" onClick={togglePasswordVisible}>\n                {\n                  !passwordVisible ? <i className=\"fas fa-eye-slash\"/> : <i className=\"fas fa-eye\"/>\n                }\n              </span>\n            </div>\n          </div>\n\n          <div className=\"field\">\n            <label htmlFor=\"email\">New Password</label>\n            <div className=\"control has-icons-left has-icons-right\">\n              <input type={passwordVisible ? \"text\" : \"password\"} autoComplete=\"new-password\" name=\"newPassword\" value={profile.newPassword} className=\"input\" onChange={onChange}/>\n              <span className=\"icon is-small is-left\">\n                <i className=\"fas fa-key\"/>\n              </span>\n              <span className=\"icon password-visible-icon is-small is-right\" onClick={togglePasswordVisible}>\n                {\n                  !passwordVisible ? <i className=\"fas fa-eye-slash\"/> : <i className=\"fas fa-eye\"/>\n                }\n              </span>\n            </div>\n          </div>\n\n          <div className=\"field\">\n            <label htmlFor=\"local\">City/Town</label>\n            {updatingLocal && <span className=\"pl-2 has-text-danger\">Your local will update <LocalUpdateOn/></span>}\n            <div name=\"local\" className=\"control\">\n              <input type=\"text\" name=\"city\" value={profile.city} className=\"input\" onChange={onChange} required disabled={updatingLocal}/>\n            </div>\n            <label htmlFor=\"local\">State</label>\n              <div className=\"control\">\n              <input type=\"text\" name=\"state\" value={profile.state} className=\"input\" onChange={onChange} required minLength={2} maxLength={2} disabled={updatingLocal}/>\n              </div>\n          </div>\n          <div className=\"level\">\n            <div className=\"level-left buttons \"><button className=\"button is-success\" disabled={!handleIsAvailable}>Submit</button>\n            <Link className=\"button is-danger\" to=\"/dashboard\">Cancel</Link></div>\n          {/* <div className=\"level-right\"><button className=\"button is-danger is-inverted\" onClick={deleteAccount}>Delete Account</button></div> */}\n          </div>\n      </div>\n    </section>\n        </form>\n  </main>\n}))\n\nexport default EditProfile;"],"sourceRoot":""}