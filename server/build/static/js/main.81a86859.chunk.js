(this.webpackJsonplocalsonly=this.webpackJsonplocalsonly||[]).push([[3],{11:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return u}));n(63);var a=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","DC"],c=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming","District of Columbia"],s=function(e){for(var t=0;t<c.length;t++)if(e.toLowerCase()===c[t].toLowerCase())return a[t].toLowerCase();return e},i="AIzaSyAzL6UpXmTecGIQBO0HHMvFScNhiSmlzfM",r=function(e){return"https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(e,"&key=").concat(i)},o=function(e){var t="".concat(e.street.replace(/ /g,"+")).concat(""===e.apt?"+":",+".concat(e.apt),",+").concat(e.city,",+").concat(e.state,"+").concat(e.zip);return"https://maps.googleapis.com/maps/api/geocode/json?address=".concat(t,"&key=").concat(i)},l=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),a=0;a<n.length;a++){for(var c=n[a];" "===c.charAt(0);)c=c.substring(1);if(0===c.indexOf(t))return c.substring(t.length,c.length)}},u=function(e,t,n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var c="expires="+a.toUTCString();document.cookie=e+"="+t+";"+c+";path=/"}},110:function(e,t,n){},112:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(42),s=n.n(c),i=n(10),r=n.n(i),o=n(18),l=n(6),u=n(4),d=n(14),j=n(30),h=n(0),b=function(e){var t=e.loc,n=e.setLocation,a=e.handleSubmit,c=e.handleInput,s=e.className,i=Object(j.a)().isMobile;return Object(h.jsxs)("form",{className:"field  ".concat(!i&&"has-addons"," ").concat(s),onSubmit:a,children:[Object(h.jsx)("div",{className:"control",children:Object(h.jsx)("input",{type:"text",className:"input search-bar",placeholder:"What to do?",name:"what",value:t.search,onChange:c})}),Object(h.jsxs)("div",{className:"control has-icons-left",children:[Object(h.jsx)("input",{className:"input",type:"text",name:"state",value:t.state,onChange:c}),Object(h.jsx)(d.a,{name:"state",setLocation:n})]}),Object(h.jsx)("p",{className:"control",children:Object(h.jsx)("button",{type:"submit",className:"button is-primary search-bar ".concat(i&&"is-fullwidth"),onClick:function(){document.getElementById("search")&&document.getElementById("search").classList.toggle("is-active")},children:Object(h.jsx)("i",{className:"fas fa-search"})})})]})},m=(n(58),n(25)),f=n(24),O=(m.a.SEARCH,m.a.SIGN,function(e){var t=e.children,n=e.align,a=Object(f.a)(),c=Object(l.a)(a,2),s=c[0],i=c[1];return Object(h.jsxs)("div",{className:"dropdown mr-1 ".concat("right"===n&&"is-right"," ").concat(s&&"is-active"),children:[Object(h.jsx)(d.b,{active:s,toggleActive:i}),Object(h.jsx)("div",{className:"dropdown-menu ",id:"dropdown-menu",role:"menu",children:Object(h.jsx)("div",{className:"dropdown-content",children:t})})]})}),p=function(e){var t=e.children;return Object(h.jsx)("div",{className:"dropdown-item",children:t})},x=n(43),v=n.n(x),g=Object(u.h)((function(e){var t=e.setMadeSearch,n=e.location.search,c=Object(j.a)().isMobile,s=Object(a.useState)(v.a.parse(n).where||"Tempe, Arizona"),i=Object(l.a)(s,2),r=i[0],o=i[1],m=Object(u.g)(),f=Object(a.useState)(""),x=Object(l.a)(f,2),g=x[0],N=x[1],w=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"what":N(a);break;case"state":o(a)}},y=function(e){e.preventDefault(),t(!0),m.push("/search?".concat(""===g?"":"what=".concat(g.replace(" ","+"),"&"),"where=").concat(r))};return Object(h.jsxs)("nav",{id:"main-nav",className:"navbar level is-mobile pr-2 pl-2 pt-0 is-fixed-top ivory",role:"navigation",children:[Object(h.jsxs)("div",{className:"level-left",children:[Object(h.jsx)("div",{className:"level-item",children:Object(h.jsx)(d.d,{})}),!c&&Object(h.jsx)("div",{className:"level-item",children:Object(h.jsx)(b,{className:"pl-2",loc:{search:g,state:r},setLocation:o,handleInput:w,handleSubmit:y})})]}),c?Object(h.jsxs)(O,{align:"right",children:[Object(h.jsx)(p,{children:Object(h.jsx)(b,{className:"pl-2",loc:{search:g,state:r},setLocation:o,handleInput:w,handleSubmit:y})}),Object(h.jsx)(p,{children:Object(h.jsxs)("div",{className:"level is-mobile container",children:[Object(h.jsx)("div",{className:"level-item",children:Object(h.jsx)(d.c,{})}),Object(h.jsx)("div",{className:"level-item",children:Object(h.jsx)(d.f,{})}),Object(h.jsx)("div",{className:"level-item",children:Object(h.jsx)(d.e,{})})]})})]}):Object(h.jsxs)("div",{className:"level-right",children:[Object(h.jsx)("div",{className:"level-item",children:Object(h.jsx)(d.c,{})}),Object(h.jsx)("div",{className:"level-item",children:Object(h.jsx)(d.f,{})}),Object(h.jsx)("div",{className:"level-item",children:Object(h.jsx)(d.e,{})})]})]})})),N=n(7),w=n(9),y=n(57),k=function(){var e=Object(a.useState)({message:"",rating:-1}),t=Object(l.a)(e,2),c=t[0],s=t[1],i=Object(a.useState)(!1),u=Object(l.a)(i,2),d=u[0],j=u[1],b=Object(f.a)(),m=Object(l.a)(b,2),O=m[0],p=(m[1],function(){var e=Object(o.a)(r.a.mark((function e(t){var a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=c.message,s=c.rating,!(a.length>0||-1!==s)){e.next=5;break}return e.next=5,Promise.resolve().then(n.t.bind(null,21,7)).then((function(e){e.post("/api/v1/feedback",{message:a,rating:s}).then((function(e){j(!0)})).then((function(){setTimeout((function(){j(!1)}),3e3),clearTimeout()}))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(h.jsxs)("footer",{className:"footer",children:[Object(h.jsxs)("div",{className:"columns is-centered mb-0 mt-1",children:[Object(h.jsxs)("section",{className:"column is-2-desktop",children:[Object(h.jsx)("h1",{className:"title has-text-white",children:"Get Involved"}),Object(h.jsx)("article",{className:"content is-medium",children:Object(h.jsxs)("ul",{className:"",children:[Object(h.jsx)("li",{children:Object(h.jsxs)("a",{href:"https://discord.gg/dHBeyu5W6K",className:"icon-text",children:[Object(h.jsx)("span",{className:"icon has-text-white",children:Object(h.jsx)("i",{className:"fab fa-large fa-discord"})}),Object(h.jsx)("span",{children:"discord"})]})}),Object(h.jsx)("li",{children:Object(h.jsxs)("a",{href:"https://www.facebook.com/LocalsOnlyxyz-109680918086095",className:"content icon-text",children:[Object(h.jsx)("span",{className:"icon has-text-white",children:Object(h.jsx)("i",{className:"fab fa-large fa-facebook-square"})}),Object(h.jsx)("span",{children:"facebook"})]})}),Object(h.jsx)("li",{children:Object(h.jsxs)("a",{href:"https://www.instagram.com",className:"content icon-text",children:[Object(h.jsx)("span",{className:"icon has-text-white",children:Object(h.jsx)("i",{className:"fab fa-large fa-instagram"})}),Object(h.jsx)("span",{children:"instagram"})]})}),Object(h.jsx)("li",{children:Object(h.jsxs)("a",{href:"https://twitter.com/localsonlyxyz",className:"content icon-text",children:[Object(h.jsx)("span",{className:"icon has-text-white",children:Object(h.jsx)("i",{className:"fab fa-large fa-twitter"})}),Object(h.jsx)("span",{children:"twitter"})]})})]})})]}),Object(h.jsxs)("section",{className:"column is-2-desktop",children:[Object(h.jsx)("h1",{className:"title has-text-white",children:"Links"}),Object(h.jsx)("article",{className:"",children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(w.b,{to:"/",children:"home"})}),Object(h.jsx)("li",{children:Object(h.jsx)(w.b,{to:"/dashboard",children:"dashboard"})}),Object(h.jsx)("li",{children:Object(h.jsx)(w.b,{to:"/create-local",children:"create new local"})}),Object(h.jsx)("li",{children:Object(h.jsx)(w.b,{to:"/terms-services",children:"terms & services"})}),Object(h.jsx)("li",{children:Object(h.jsx)(w.b,{to:"/privacy-policy",children:"privacy policy"})})]})})]}),Object(h.jsxs)("section",{className:"column is-3-desktop",children:[Object(h.jsx)("h1",{className:"title has-text-white mb-1",children:"Feedback"}),Object(h.jsxs)("form",{className:"form",onSubmit:p,children:[Object(h.jsx)("div",{className:"field",children:Object(h.jsx)("div",{className:"control",children:Object(h.jsx)("textarea",{className:"textarea",type:"text",name:"feedback",value:c.message,onChange:function(e){e.preventDefault(),s(Object(N.a)(Object(N.a)({},c),{},{message:e.target.value}))}})})}),Object(h.jsxs)("div",{className:"control level",children:[Object(h.jsx)(y.a,{onClick:function(e){e.preventDefault(),e.target.parentElement.childNodes.forEach((function(e){e.classList.contains("fas")&&e.classList.replace("fas","far")})),e.target.classList.replace("far","fas"),s(Object(N.a)(Object(N.a)({},c),{},{rating:e.target.id}))}}),Object(h.jsx)("button",{className:"button is-outlined is-white ".concat(O&&"is-loading"),type:"submit",children:d?Object(h.jsxs)("div",{className:"icon is-large px-6",children:[Object(h.jsx)("i",{className:"fas fa-check has-text-success pr-1"})," Thank you"]}):"Submit"})]})]})]})]}),Object(h.jsx)("div",{className:"level is-mobile is-hidden-desktop section pt-0 pb-3 container",children:Object(h.jsxs)("div",{className:"level-item",children:[Object(h.jsx)("a",{href:"https://bulma.io",children:Object(h.jsx)("img",{src:"https://bulma.io/images/made-with-bulma.png",alt:"Made with Bulma",width:"150",height:"48"})}),Object(h.jsxs)("span",{className:"icon-text pl-2",children:["Made with",Object(h.jsx)("span",{className:"icon",children:Object(h.jsx)("i",{className:"fas fa-heart has-text-danger"})})," in Tempe, AZ"]})]})})]})},C=(n(110),n(8)),I=n(16),L=n(21),S=n.n(L),A=n(29),E=n(22),P=(n(111),Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(10)]).then(n.bind(null,396))}))),T=Object(a.lazy)((function(){return n.e(14).then(n.bind(null,376))})),M=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(7)]).then(n.bind(null,394))})),D=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(8)]).then(n.bind(null,395))})),W=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(6),n.e(16)]).then(n.bind(null,397))})),z=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(9),n.e(15)]).then(n.bind(null,379))})),B=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(13)]).then(n.bind(null,385))})),U=Object(a.lazy)((function(){return n.e(17).then(n.bind(null,386))})),_=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,387))})),F=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,388))})),R=Object(A.a)(I.c,E.c)((function(e){var t=e.firebase,n=e.user,c=Object(a.useState)(!0),s=Object(l.a)(c,2),i=s[0],d=s[1],j=Object(a.useState)(null),b=Object(l.a)(j,2),m=b[0],f=b[1],O=Object(a.useState)(null),p=Object(l.a)(O,2),x=p[0],v=p[1],N=new AbortController,y=function(e){var t=e.data;n.set({ownerID:t._id,name:t.name,email:t.email,localTo:t.localTo,role:t.role,softLocalTo:t.softLocalTo,avatar:t.avatar.url,handler:t.handle}),v(t)},I=function(e){f(e),e&&S.a.get("/api/v1/users/auth/".concat(e.uid)).then(y).catch((function(e){v(null)}))};return Object(a.useEffect)((function(){var e=window.location.href+"";!e.includes("localhost")&&e.includes("http://")&&(window.location.href=e.replace("http://","https://"));var n=t.auth.onAuthStateChanged(I);return function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:N.abort();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),[]),m&&x?Object(h.jsxs)(w.a,{children:[Object(h.jsx)(g,{setMadeSearch:d}),Object(h.jsx)(a.Suspense,{fallback:Object(h.jsx)("div",{className:"section content columns box",style:{minHeight:"100vh"},children:"Loading..."}),children:Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.b,{exact:!0,path:C.a,component:T}),Object(h.jsx)(u.b,{path:C.c,component:D}),Object(h.jsx)(u.b,{path:C.e,component:function(){return Object(h.jsx)(P,{setMadeSearch:d,madeSearch:i})}}),Object(h.jsx)(u.b,{path:C.g,component:_}),Object(h.jsx)(u.b,{path:C.b,component:M}),Object(h.jsx)(u.b,{exact:!0,path:C.d,component:B}),Object(h.jsx)(u.b,{path:C.d+"/edit",component:F}),Object(h.jsx)(u.b,{path:"/upcoming-features",component:U}),Object(h.jsx)(u.b,{render:function(){return Object(h.jsx)(u.a,{to:C.a})}})]})}),Object(h.jsx)(k,{})]}):Object(h.jsx)(w.a,{children:Object(h.jsx)(a.Suspense,{fallback:Object(h.jsx)("div",{className:"columns is-centered",children:Object(h.jsx)("div",{className:"column",children:"Loading..."})}),children:Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.b,{exact:!0,path:C.a,component:function(){return Object(h.jsx)(z,{setUser:y})}}),Object(h.jsx)(u.b,{path:C.f,component:W})]})})})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=function(e){e&&e instanceof Function&&n.e(18).then(n.bind(null,389)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};s.a.render(Object(h.jsx)(I.a.Provider,{value:new I.b,children:Object(h.jsx)(E.a.Provider,{value:new E.b,children:Object(h.jsx)(R,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),G()},14:function(e,t,n){"use strict";n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return O})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return x}));var a=n(10),c=n.n(a),s=n(18),i=(n(1),n(9)),r=n(4),o=n(8),l=n(16),u=n(21),d=n.n(u),j=n(11),h=n(0),b=Object(l.c)((function(e){var t=e.firebase,n=Object(r.g)();return Object(h.jsx)("button",{title:"Logout",className:"button is-primary is-outlined",onClick:function(){t.signOut(),n.push(o.a)},children:Object(h.jsx)("span",{className:"icon",children:Object(h.jsx)("i",{className:"fas fa-door-open"})})})})),m=function(){return Object(h.jsx)(i.b,{to:o.a,children:Object(h.jsx)("img",{src:"../LocalsOnly.png",alt:"localsonly"})})},f=function(){return Object(h.jsx)(i.b,{title:"New Local",className:"button",to:o.c,onClick:function(){document.getElementById("search")&&document.getElementById("search").classList.remove("is-active"),document.getElementById("sign")&&document.getElementById("sign").classList.remove("is-active")},children:Object(h.jsx)("span",{className:"icon",children:Object(h.jsx)("i",{className:"fas fa-plus-circle"})})})},O=function(){return Object(h.jsx)(i.b,{title:"Profile",className:"button is-main",to:o.d,children:Object(h.jsx)("span",{className:"icon",children:Object(h.jsx)("i",{className:"fas fa-user-astronaut"})})})},p=function(e){var t=e.setLocation,n=e.name,a=function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),console.log("User Location clicked"),!("geolocation"in navigator)){e.next=6;break}return console.log("Available"),navigator.geolocation.getCurrentPosition(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Latitude is :",n.coords.latitude),console.log("Longitude is :",n.coords.longitude),d.a.get(Object(j.e)("".concat(n.coords.latitude,",").concat(n.coords.longitude))).then((function(e){var t=e.data.results;console.dir(t);var n="",a="";if(t[1]){for(var c=0;c<t.length;c++)if(t[c].types.includes("locality")){var s=t[c].formatted_address.split(",");n=s[0],a=s[1]}if(""===n||""===a)for(var i=0;i<t[0].address_components.length;i++)for(var r=0;r<t[0].address_components[i].types.length;r++)"administrative_area_level_1"===t[0].address_components[i].types[r]&&(a=t[0].address_components[i].short_name),"locality"===t[0].address_components[i].types[r]&&(n=t[0].address_components[i].short_name);return{city:n,state:a}}alert("We cant find your location!")})).then((function(e){var n=e.city,a=e.state;console.log("".concat(n,", ").concat(a)),t(n&&a?"".concat(n,", ").concat(a):"")})).catch((function(e){console.log("Error in getting city: "+e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return");case 6:alert("Make sure geolocation is allowed"),console.log("Geolocation Not Available");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("span",{name:n,className:"current-location-button icon is-left",onClick:a,children:Object(h.jsx)("i",{title:"Current Location",className:"fas fa-crosshairs"})})},x=(Object(l.c)((function(e){var t=e.firebase,n=e.setUser;return Object(h.jsx)("div",{className:"button content is-fullwidth is-google",onClick:function(e){e.preventDefault(),t.signInWithGooglePopup().then((function(e){console.log("Successfully signed in with google popup"),console.log(e);var a=e.additionalUserInfo,c=a.isNewUser,s=a.profile,i=s.email,r=s.name,o=s.picture,l=e.user.uid;t.auth.onAuthStateChanged(e),c&&(console.log("\n                From Firebase Signup: \n                    Name: ".concat(r,"\n                    Email : ").concat(i,"\n                    Picture: ").concat(o,"\n                    UID: ").concat(l,"\n                ")),d.a.post("/api/v1/users",{authID:l,email:i,name:r,avatar:o}).then((function(e){console.log(e)})).catch((function(e){console.log("Error signing user up in Fauna: "+e)}))),d.a.get("/api/v1/users/auth/".concat(l)).then((function(e){var t=e.data;return n({ownerID:t._id,name:t.name,email:t.email,localTo:t.localTo,role:t.role,softLocalTo:t.softLocalTo,avatar:t.avatar&&t.avatar.url||"",handler:t.handle})})).then((function(){return window.location.reload()})).catch((function(e){console.log("Error in this spot"),console.log(e)}))})).catch((function(e){console.log("Error signing in with google popup: "+e)}))},children:Object(h.jsxs)("span",{className:"",children:[Object(h.jsx)("span",{className:"icon",children:Object(h.jsx)("i",{className:"fab fa-google"})}),Object(h.jsx)("span",{children:"Google"})]})})})),function(e){var t=e.active,n=e.toggleActive;return Object(h.jsx)("div",{className:"dropdown-trigger",children:Object(h.jsx)("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:function(){n()},children:Object(h.jsx)("span",{className:"icon is-small",children:t?Object(h.jsx)("i",{className:"fas fa-times","aria-hidden":"false"}):Object(h.jsx)("i",{className:"fas fa-bars","aria-hidden":"true"})})})})})},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return j}));var a=n(31),c=n(7),s=n(20),i=(n(69),n(1)),r=n.n(i),o=n(0);n(72).config();var l={apiKey:"AIzaSyDOZ6d6M5cnuKqBL4IyYXKu7TU_Rt-POFw",authDomain:"localsonly-a3c68.firebaseapp.com",databaseURL:"https://localsonly-a3c68.firebaseio.com",projectId:"localsonly-a3c68",storageBucket:"localsonly-a3c68.appspot.com",messagingSenderId:"583296937791",appId:"1:583296937791:web:59de121a0df2fa83eead8a",measurementId:"G-RVH5R21C1C"},u=r.a.createContext(null),d=function(e){return function(t){return Object(o.jsx)(u.Consumer,{children:function(n){return Object(o.jsx)(e,Object(c.a)(Object(c.a)({},t),{},{firebase:n}))}})}},j=function e(){var t=this;Object(a.a)(this,e),this.setProvider=function(e){t.provider=e},this.setPersistenceStorage=function(e){return t.auth.setPersistence(e)},this.persistenceLocal=function(){return s.a.auth().Auth.Persistence.LOCAL},this.persistenceNone=function(){return s.a.auth().Auth.Persistence.NONE},this.createUserWithEmailAndPassword=function(e,n){return t.auth.createUserWithEmailAndPassword(e,n)},this.emailIsAvailable=function(e){return t.auth.fetchSignInMethodsForEmail(e)},this.signInWithEmailAndPassword=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.signOut=function(){return t.auth.signOut()},this.passwordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.updatePassword=function(e){return t.auth.currentUser.updatePassword(e)},this.updateEmail=function(e){return t.auth.currentUser.updateEmail(e)},this.signInWithGooglePopup=function(){return t.auth.signInWithPopup(new s.a.auth.GoogleAuthProvider)},this.emailCredentials=function(e,t){return s.a.auth.EmailAuthProvider.credential(e,t)},this.reauth=function(e){return t.auth.currentUser.reauthenticateWithCredential(e)},s.a.apps.length||s.a.initializeApp(l),this.Auth=s.a.auth.Auth,this.auth=s.a.auth(),this.provider=""}},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return p}));var a=n(31),c=n(62),s=n(10),i=n.n(s),r=n(18),o=n(7),l=n(1),u=n.n(l),d=n(11),j=n(21),h=n.n(j),b=n(0),m=u.a.createContext(null),f=function(e){return function(t){return Object(b.jsx)(m.Consumer,{children:function(n){return Object(b.jsx)(e,Object(o.a)(Object(o.a)({},t),{},{user:n}))}})}},O=function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==Object(d.g)("local-update-on")||void 0===Object(d.g)("local-update")){e.next=4;break}return console.log(Object(d.g)("local-update")),e.next=4,h.a.patch("/api/v1/users/".concat(t,"/local-to"),{localTo:Object(d.g)("local-update")}).then((function(e){Object(d.h)("local-update","",-1)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){function e(){Object(a.a)(this,e),this.ownerID="",this.email="",this.name="",this.localTo="",this.softLocalTo=[],this.role="",this.avatar="",this.handler=""}return Object(c.a)(e,[{key:"isSet",value:function(){return!!this.ownerID}},{key:"isLocalTo",value:function(e){return!e.localsOnly||"".concat(e.address.state,":").concat(e.address.city.replace(" ","_"))===this.localTo||this.isUnrestricted()}},{key:"isUnrestricted",value:function(){return"user"!==this.role}},{key:"set",value:function(e){this.ownerID=e.ownerID,this.email=e.email,this.name=e.name,this.localTo=e.localTo,this.softLocalTo=e.softLocalTo,this.role=e.role,this.avatar=e.avatar,this.handler=e.handler,O(e.ownerID)}}]),e}()},24:function(e,t,n){"use strict";var a=n(6),c=n(1);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(c.useState)(e),n=Object(a.a)(t,2),s=n[0],i=n[1],r=Object(c.useCallback)((function(){return i((function(e){return!e}))}),[]);return[s,r]}},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={SIGN:"sign",SEARCH:"search"}},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(6),c=n(1);function s(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(window.innerWidth),r=Object(a.a)(i,2),o=r[0],l=r[1],u=function(){l(window.innerWidth)};return Object(c.useEffect)((function(){var e="undefined"===typeof navigator?"":navigator.userAgent,t=Boolean(e.match(/Android|BlackBerry|iPhone|iPod|Opera Mini|IEMobile|WPDesktop/i))||o<870;return window.addEventListener("resize",u),s(t),function(){window.removeEventListener("resize",u)}}),[o]),{isMobile:n}}},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(23),c=n(7),s=n(1),i=n(9),r=n(8),o=n(25),l=n(16),u=n(0),d=Object(l.c)((function(e){var t=e.setStatus,n=e.user,s=e.setUser,i=function(e){var i=e.target,r=i.name,o=i.value;s("email"===r?Object(c.a)(Object(c.a)({},n),{},Object(a.a)({},r,o.replace(/\s/g,""))):Object(c.a)(Object(c.a)({},n),{},Object(a.a)({},r,o))),"passwordTwo"!==r&&"passwordOne"!==r||function(){var e=document.getElementById("password"),n=document.getElementById("password_match"),a=function(e){return/^(?=.{8,})(?=.*[a-z])(?=.*[A-Z])(?=.*[!#$%^&+=]).*$/.test(e)};if(e.value===n.value&&e.value.length>7&&n.value.length>7&&a(e.value)&&a(n.value))return n.classList.add("is-success"),n.classList.remove("is-danger"),void t(!0);n.classList.add("is-danger"),n.classList.remove("is-success"),t(!1)}(),e.preventDefault()};return Object(u.jsxs)("section",{id:"signup",className:"container is-centered",children:[Object(u.jsxs)("label",{className:"label",children:["Full Name",Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{name:"name",value:n.name,onChange:i,type:"text",className:"input",autoFocus:!0})})})]}),Object(u.jsxs)("label",{className:"label",children:["Email",Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{id:"email",name:"email",value:n.email,onChange:i,type:"email",className:"input",required:!0})})})]}),Object(u.jsx)("label",{className:"label level",children:Object(u.jsxs)("span",{className:"level-left",children:[Object(u.jsx)("span",{className:"level-item",children:"Password"}),Object(u.jsx)("small",{className:"help level-item is-info",children:" must be at least 8 characters and contain at least 1 letter, number and special character (!#$%^&+=)"})]})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{id:"password",name:"passwordOne",value:n.passwordOne,onChange:i,type:"password",className:"input",minLength:8,required:!0})})}),Object(u.jsxs)("label",{className:"label",children:["Confirm Password",Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{id:"password_match",name:"passwordTwo",value:n.passwordTwo,onChange:i,type:"password",className:"input",minLength:8,required:!0})})})]}),n.error&&Object(u.jsx)("p",{className:"help is-danger",children:n.error.message})]})})),j=function(){return Object(s.useEffect)((function(){if(document.getElementById(o.a.SIGN)){var e=document.getElementById(o.a.SIGN),t=document.getElementById("signup-button");document.addEventListener("click",(function(n){t.contains(n.target)&&e.classList.contains("is-active")&&e.classList.remove("is-active")}))}})),Object(u.jsxs)("small",{children:["Don't have an account? ",Object(u.jsx)(i.b,{id:"signup-button",className:"has-text-primary",to:r.f,children:"Sign Up!"})]})};t.b=d},57:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));n(1);var a=n(11),c=n(0),s=function(e){var t=e.children;return Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("div",{className:"control",children:t})})},i=function(e){var t=e.onChange,n=e.value,i=e.placeholder,r=e.className,o=e.id;return Object(c.jsx)(s,{children:Object(c.jsx)("input",{id:o||"state-initial-input",type:"text",placeholder:i||"AZ",className:r||"input",name:"state",value:n,onChange:function(e){(e.target.value.length<2||a.a.includes(e.target.value.toUpperCase()))&&t(e)},maxLength:2,minLength:2,pattern:"([A-Za-z]{2})",required:!0})})},r=function(e){var t=e.onClick;return Object(c.jsx)("div",{className:"level button is-static is-rounded has-background-white satisfaction-scale",children:Object(c.jsxs)("span",{className:"level-item icon is-small",children:[Object(c.jsx)("i",{className:"far fa-angry has-text-danger fa-2x is-clickable",id:0,onClick:t}),Object(c.jsx)("i",{className:"far fa-frown has-text-warning fa-2x is-clickable",id:1,onClick:t}),Object(c.jsx)("i",{className:"far fa-meh has-text-grey fa-2x is-clickable",id:2,onClick:t}),Object(c.jsx)("i",{className:"far fa-smile-beam has-text-primary fa-2x is-clickable",id:3,onClick:t}),Object(c.jsx)("i",{className:"far fa-grin-stars has-text-success fa-2x is-clickable",id:4,onClick:t})]})})};t.c=s},58:function(e,t,n){"use strict";var a=n(23),c=n(7),s=n(6),i=n(1),r=n(4),o=n(29),l=n(16),u=n(55),d=n(22),j=(n(14),n(24)),h=n(0),b=function(e){var t=e.rememberMe,n=e.setRememberMe;return Object(h.jsx)("div",{className:"control mt-4",children:Object(h.jsxs)("label",{htmlFor:"rememberMe",className:"checkbox",children:[Object(h.jsx)("input",{type:"checkbox",name:"rememberMe",onChange:function(){n()},checked:t}),Object(h.jsx)("span",{className:"pl-1",children:"remember me"})]})})},m=n(11),f={email:"",password:"",error:""},O=Object(o.a)(d.c,r.h,l.c)((function(e){var t=e.firebase,n=Object(j.a)(),r=Object(s.a)(n,2),o=r[0],l=r[1],d=Object(i.useState)(f),O=Object(s.a)(d,2),p=O[0],x=O[1],v=Object(j.a)(Boolean(Object(m.g)("remember-me"))||!1),g=Object(s.a)(v,2),N=g[0],w=g[1],y=function(e,n){t.setPersistenceStorage(e).then((function(){n()})).catch((function(e){console.dir("Error in userCheckedRememberMe: "+e)}))},k=function(e){var t=e.target,n=t.name,s=t.value;x(Object(c.a)(Object(c.a)({},p),{},Object(a.a)({},n,s)))},C=p.email,I=p.password,L=p.error,S=""===I&&""===C;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=p.email,a=p.password,s=t.signInWithEmailAndPassword(n,a).then((function(e){x({INITIAL_STATE:f})})).catch((function(e){x(Object(c.a)(Object(c.a)({},p),{},{error:e}))}));if(N)return console.log("Remember Me"),Object(m.h)("remember-me",!0,30),void y(t.persistenceLocal,s);console.log("Dont Remember Me"),Object(m.h)("remember-me","",-1),y(t.persistenceNone,s)},className:"container",children:[Object(h.jsx)("div",{className:"field pt-6",children:Object(h.jsxs)("div",{className:"control",children:[Object(h.jsx)("label",{htmlFor:"email",className:"label",children:"Email"}),Object(h.jsx)("input",{name:"email",value:C,onChange:k,type:"text",className:"input"})]})}),Object(h.jsx)("div",{className:"field",children:Object(h.jsxs)("div",{className:"control",children:[Object(h.jsx)("label",{htmlFor:"password",className:"label",children:"Password"}),Object(h.jsx)("input",{name:"password",value:I,onChange:k,type:"password",className:"input"})]})}),Object(h.jsx)(b,{rememberMe:N,setRememberMe:w}),Object(h.jsxs)("div",{className:"field",children:[Object(h.jsx)("div",{className:"columns is-centered section mt-1",children:Object(h.jsx)("button",{className:"column pt-2  button ".concat(S?"is-danger":"is-primary"),disabled:S,type:"submit",children:"Sign In"})}),Object(h.jsx)("div",{className:"section",children:Object(h.jsx)(u.a,{})})]})]}),L&&Object(h.jsx)("div",{className:"box is-danger is-outlined ".concat(o&&"is-hidden"),onClick:function(e){e.preventDefault(),l()},children:L.message})]})}));t.a=function(){return Object(h.jsx)(O,{})}},8:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return l}));var a="/",c="/search",s="/local",i="/create-local",r="/registration",o="/dashboard",l="/local/upload-image"}},[[112,4,5]]]);
//# sourceMappingURL=main.81a86859.chunk.js.map