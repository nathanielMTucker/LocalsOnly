(this.webpackJsonplocalsonly=this.webpackJsonplocalsonly||[]).push([[3],{120:function(e,t,a){},122:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(51),s=a.n(c),i=a(12),r=a.n(i),o=a(20),l=a(7),u=a(5),d=a(10),j=a(9),h=a(17),b=a(24),m=a.n(b),f=a(19),O=a(0),p=Object(h.c)((function(e){var t=e.firebase,a=Object(u.g)();return Object(O.jsx)("button",{title:"Logout",className:"button is-primary is-outlined",onClick:function(){t.signOut(),a.push(j.a)},children:Object(O.jsx)("span",{className:"icon",children:Object(O.jsx)("i",{className:"fas fa-door-open"})})})})),x=function(){return Object(O.jsx)(d.b,{to:j.a,children:Object(O.jsx)("img",{src:"../LocalsOnly.png",alt:"localsonly"})})},v=function(){return Object(O.jsx)(d.b,{title:"New Local",className:"button",to:j.c,onClick:function(){document.getElementById("search")&&document.getElementById("search").classList.remove("is-active"),document.getElementById("sign")&&document.getElementById("sign").classList.remove("is-active")},children:Object(O.jsx)("span",{className:"icon",children:Object(O.jsx)("i",{className:"fas fa-plus-circle"})})})},g=function(){return Object(O.jsx)(d.b,{title:"Profile",className:"button is-main",to:j.d,children:Object(O.jsx)("span",{className:"icon",children:Object(O.jsx)("i",{className:"fas fa-user-astronaut"})})})},N=function(e){var t=e.setLocation,a=e.name,n=function(){var e=Object(o.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),console.log("User Location clicked"),!("geolocation"in navigator)){e.next=6;break}return console.log("Available"),navigator.geolocation.getCurrentPosition(function(){var e=Object(o.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Latitude is :",a.coords.latitude),console.log("Longitude is :",a.coords.longitude),m.a.get(Object(f.e)("".concat(a.coords.latitude,",").concat(a.coords.longitude))).then((function(e){var t=e.data.results;console.dir(t);var a="",n="";if(t[1]){for(var c=0;c<t.length;c++)if(t[c].types.includes("locality")){var s=t[c].formatted_address.split(",");a=s[0],n=s[1]}if(""===a||""===n)for(var i=0;i<t[0].address_components.length;i++)for(var r=0;r<t[0].address_components[i].types.length;r++)"administrative_area_level_1"===t[0].address_components[i].types[r]&&(n=t[0].address_components[i].short_name),"locality"===t[0].address_components[i].types[r]&&(a=t[0].address_components[i].short_name);return{city:a,state:n}}alert("We cant find your location!")})).then((function(e){var a=e.city,n=e.state;console.log("".concat(a,", ").concat(n)),t(a&&n?"".concat(a,", ").concat(n):"")})).catch((function(e){console.log("Error in getting city: "+e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return");case 6:alert("Make sure geolocation is allowed"),console.log("Geolocation Not Available");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("span",{name:a,className:"current-location-button icon is-left",onClick:n,children:Object(O.jsx)("i",{title:"Current Location",className:"fas fa-crosshairs"})})},w=(Object(h.c)((function(e){var t=e.firebase,a=e.setUser;return Object(O.jsxs)("div",{className:"button content is-fullwidth is-google",onClick:function(e){e.preventDefault(),t.signInWithGooglePopup().then((function(e){console.log("Successfully signed in with google popup"),console.log(e);var n=e.additionalUserInfo,c=n.isNewUser,s=n.profile,i=s.email,r=s.name,o=s.picture,l=e.user.uid;t.auth.onAuthStateChanged(e),c&&(console.log("\n                From Firebase Signup: \n                    Name: ".concat(r,"\n                    Email : ").concat(i,"\n                    Picture: ").concat(o,"\n                    UID: ").concat(l,"\n                ")),m.a.post("/api/v1/users",{authID:l,email:i,name:r,avatar:o}).then((function(e){console.log(e)})).catch((function(e){console.log("Error signing user up in Fauna: "+e)}))),m.a.get("/api/v1/users/auth/".concat(l)).then((function(e){var t=e.data;return a({ownerID:t._id,name:t.name,email:t.email,localTo:t.localTo,role:t.role,softLocalTo:t.softLocalTo,avatar:t.avatar&&t.avatar.data||"",handler:t.handle})})).then((function(){return window.location.reload()})).catch((function(e){console.log("Error in this spot"),console.log(e)}))})).catch((function(e){console.log("Error signing in with google popup: "+e)}))},children:[Object(O.jsx)("span",{className:"icon",children:Object(O.jsx)("i",{className:"fab fa-google"})}),Object(O.jsx)("span",{children:"Google"})]})})),function(e){var t=e.active,a=e.toggleActive;return Object(O.jsx)("div",{className:"dropdown-trigger",children:Object(O.jsx)("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:function(){a()},children:Object(O.jsx)("span",{className:"icon is-small",children:t?Object(O.jsx)("i",{className:"fas fa-times","aria-hidden":"false"}):Object(O.jsx)("i",{className:"fas fa-bars","aria-hidden":"true"})})})})}),y=a(35),k=function(e){var t=e.loc,a=e.setLocation,n=e.handleSubmit,c=e.handleInput,s=e.className,i=Object(y.a)().isMobile;return Object(O.jsxs)("form",{className:"field  ".concat(!i&&"has-addons"," ").concat(s),onSubmit:n,children:[Object(O.jsx)("div",{className:"control",children:Object(O.jsx)("input",{type:"text",className:"input search-bar",placeholder:"What to do?",name:"what",value:t.search,onChange:c})}),Object(O.jsxs)("div",{className:"control has-icons-left",children:[Object(O.jsx)("input",{className:"input",type:"text",name:"state",value:t.state,onChange:c}),Object(O.jsx)(N,{name:"state",setLocation:a})]}),Object(O.jsx)("p",{className:"control",children:Object(O.jsx)("button",{type:"submit",className:"button is-primary search-bar ".concat(i&&"is-fullwidth"),onClick:function(){document.getElementById("search")&&document.getElementById("search").classList.toggle("is-active")},children:Object(O.jsx)("i",{className:"fas fa-search"})})})]})},C=a(27),I=a(8),L=a(40),S=a(67),A=a(30),P={email:"",password:"",error:""},E=Object(u.h)(Object(h.c)((function(e){var t=e.firebase,a=Object(L.a)(e,["firebase"]),c=Object(n.useState)(!1),s=Object(l.a)(c,2),i=s[0],r=s[1],o=Object(n.useState)(P),u=Object(l.a)(o,2),d=u[0],j=u[1],h=function(e){var t=e.target,a=t.name,n=t.value;j(Object(I.a)(Object(I.a)({},d),{},Object(C.a)({},a,n)))},b=d.email,m=d.password,f=d.error,p=""===m&&""===b;return Object(O.jsxs)("div",{className:a.className,children:[Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=d.email,n=d.password;!function(e,a,n){t.setPersistenceStorage(e).then((function(){t.signInWithEmailAndPassword(a,n).then((function(e){t.setProvider(e.additionalUserInfo.providerID)})).catch((function(e){r(!0),j(Object(I.a)(Object(I.a)({},d),{},{error:e}))}))})).catch((function(e){console.dir("Error in userCheckedRememberMe: "+e)}))}(t.persistenceLocal(),a,n)},className:"form",children:[Object(O.jsx)("div",{className:"field",children:Object(O.jsxs)("p",{className:"control has-icons-left",children:[Object(O.jsx)("input",{name:"email",value:b,onChange:h,type:"text",className:"input",placeholder:"Email"}),Object(O.jsx)("span",{className:"icon is-small is-left",children:Object(O.jsx)("i",{className:"fas fa-envelope has-text-link"})})]})}),Object(O.jsx)("div",{className:"field",children:Object(O.jsxs)("p",{className:"control has-icons-left",children:[Object(O.jsx)("input",{name:"password",value:m,onChange:h,type:"password",className:"input",placeholder:"Password"}),Object(O.jsx)("span",{className:"icon is-small is-left",children:Object(O.jsx)("i",{className:"fas fa-lock has-text-link"})})]})}),Object(O.jsx)("div",{className:"pt-3",children:Object(O.jsx)("button",{className:"pt-2  is-fullwidth is-outlined button ".concat(p?"is-danger":"is-info"),disabled:p,type:"submit",children:"Sign In"})}),Object(O.jsx)("div",{className:"section",children:Object(O.jsx)(S.a,{})})]}),i&&Object(O.jsx)("span",{className:"notification is-danger is-outlined",onClick:function(e){r(!1)},children:f.message})]})}))),T=a(28),D=(T.a.SEARCH,T.a.SIGN,function(e){var t=e.children,a=e.align,n=Object(A.a)(),c=Object(l.a)(n,2),s=c[0],i=c[1];return Object(O.jsxs)("div",{className:"dropdown mr-1 ".concat("right"===a&&"is-right"," ").concat(s&&"is-active"),children:[Object(O.jsx)(w,{active:s,toggleActive:i}),Object(O.jsx)("div",{className:"dropdown-menu ",id:"dropdown-menu",role:"menu",children:Object(O.jsx)("div",{className:"dropdown-content",children:t})})]})}),M=function(e){var t=e.children;return Object(O.jsx)("div",{className:"dropdown-item",children:t})},U=a(53),z=a.n(U),W=Object(u.h)((function(e){var t=e.setMadeSearch,a=e.location.search,c=Object(y.a)().isMobile,s=Object(n.useState)(z.a.parse(a).where||"Tempe, Arizona"),i=Object(l.a)(s,2),r=i[0],o=i[1],d=Object(u.g)(),j=Object(n.useState)(""),h=Object(l.a)(j,2),b=h[0],m=h[1],f=function(e){var t=e.target,a=t.name,n=t.value;switch(a){case"what":m(n);break;case"state":o(n)}},N=function(e){e.preventDefault(),t(!0),d.push("/search?".concat(""===b?"":"what=".concat(b.replace(" ","+"),"&"),"where=").concat(r))};return Object(O.jsxs)("nav",{id:"main-nav",className:"navbar level is-mobile pr-2 pl-2 pt-0 is-fixed-top ivory",role:"navigation",children:[Object(O.jsxs)("div",{className:"level-left",children:[Object(O.jsx)("div",{className:"level-item",children:Object(O.jsx)(x,{})}),!c&&Object(O.jsx)("div",{className:"level-item",children:Object(O.jsx)(k,{className:"pl-2",loc:{search:b,state:r},setLocation:o,handleInput:f,handleSubmit:N})})]}),c?Object(O.jsxs)(D,{align:"right",children:[Object(O.jsx)(M,{children:Object(O.jsx)(k,{className:"pl-2",loc:{search:b,state:r},setLocation:o,handleInput:f,handleSubmit:N})}),Object(O.jsx)(M,{children:Object(O.jsxs)("div",{className:"level is-mobile container",children:[Object(O.jsx)("div",{className:"level-item",children:Object(O.jsx)(v,{})}),Object(O.jsx)("div",{className:"level-item",children:Object(O.jsx)(g,{})}),Object(O.jsx)("div",{className:"level-item",children:Object(O.jsx)(p,{})})]})})]}):Object(O.jsxs)("div",{className:"level-right",children:[Object(O.jsx)("div",{className:"level-item",children:Object(O.jsx)(v,{})}),Object(O.jsx)("div",{className:"level-item",children:Object(O.jsx)(g,{})}),Object(O.jsx)("div",{className:"level-item",children:Object(O.jsx)(p,{})})]})]})})),B=a(69),R=function(){var e=Object(n.useState)({message:"",rating:-1}),t=Object(l.a)(e,2),c=t[0],s=t[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),j=u[0],h=u[1],b=Object(A.a)(),m=Object(l.a)(b,2),f=m[0],p=m[1],x=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(),t.preventDefault(),n=c.message,i=c.rating,!(n.length>0||-1!==i)){e.next=6;break}return e.next=6,Promise.resolve().then(a.t.bind(null,24,7)).then((function(e){e.post("/api/v1/feedback",{message:n,rating:i}).then((function(e){s({message:"",rating:-1}),h(!0)})).then((function(){setTimeout((function(){h(!1)}),3e3),clearTimeout()}))}));case 6:p();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("footer",{className:"footer",children:[Object(O.jsxs)("div",{className:"columns is-centered mb-0 mt-1",children:[Object(O.jsxs)("section",{className:"column is-2-desktop",children:[Object(O.jsx)("h1",{className:"title has-text-white",children:"Get Involved"}),Object(O.jsx)("article",{className:"content is-medium",children:Object(O.jsxs)("ul",{className:"",children:[Object(O.jsx)("li",{children:Object(O.jsxs)("a",{href:"https://discord.gg/dHBeyu5W6K",className:"icon-text",children:[Object(O.jsx)("span",{className:"icon has-text-white",children:Object(O.jsx)("i",{className:"fab fa-large fa-discord"})}),Object(O.jsx)("span",{children:"discord"})]})}),Object(O.jsx)("li",{children:Object(O.jsxs)("a",{href:"https://www.facebook.com/LocalsOnlyxyz-109680918086095",className:"content icon-text",children:[Object(O.jsx)("span",{className:"icon has-text-white",children:Object(O.jsx)("i",{className:"fab fa-large fa-facebook-square"})}),Object(O.jsx)("span",{children:"facebook"})]})}),Object(O.jsx)("li",{children:Object(O.jsxs)("a",{href:"https://www.instagram.com",className:"content icon-text",children:[Object(O.jsx)("span",{className:"icon has-text-white",children:Object(O.jsx)("i",{className:"fab fa-large fa-instagram"})}),Object(O.jsx)("span",{children:"instagram"})]})}),Object(O.jsx)("li",{children:Object(O.jsxs)("a",{href:"https://twitter.com/localsonlyxyz",className:"content icon-text",children:[Object(O.jsx)("span",{className:"icon has-text-white",children:Object(O.jsx)("i",{className:"fab fa-large fa-twitter"})}),Object(O.jsx)("span",{children:"twitter"})]})})]})})]}),Object(O.jsxs)("section",{className:"column is-2-desktop",children:[Object(O.jsx)("h1",{className:"title has-text-white",children:"Links"}),Object(O.jsx)("article",{className:"",children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(d.b,{to:"/",children:"home"})}),Object(O.jsx)("li",{children:Object(O.jsx)(d.b,{to:"/dashboard",children:"dashboard"})}),Object(O.jsx)("li",{children:Object(O.jsx)(d.b,{to:"/create-local",children:"create new local"})}),Object(O.jsx)("li",{children:Object(O.jsx)(d.b,{to:"/terms-services",children:"terms & services"})}),Object(O.jsx)("li",{children:Object(O.jsx)(d.b,{to:"/privacy-policy",children:"privacy policy"})})]})})]}),Object(O.jsxs)("section",{className:"column is-3-desktop",children:[Object(O.jsx)("h1",{className:"title has-text-white mb-1",children:"Feedback"}),Object(O.jsxs)("form",{className:"form",onSubmit:x,children:[Object(O.jsx)("div",{className:"field",children:Object(O.jsx)("div",{className:"control",children:Object(O.jsx)("textarea",{className:"textarea",type:"text",name:"feedback",value:c.message,onChange:function(e){e.preventDefault(),s(Object(I.a)(Object(I.a)({},c),{},{message:e.target.value}))}})})}),Object(O.jsxs)("div",{className:"control level",children:[Object(O.jsx)(B.a,{onClick:function(e){e.preventDefault(),e.target.parentElement.childNodes.forEach((function(e){e.classList.contains("fas")&&e.classList.replace("fas","far")})),e.target.classList.replace("far","fas"),s(Object(I.a)(Object(I.a)({},c),{},{rating:e.target.id}))}}),Object(O.jsx)("button",{className:"button is-outlined is-white ".concat(f&&"is-loading"),type:"submit",children:j?Object(O.jsxs)("div",{className:"icon is-large px-6",children:[Object(O.jsx)("i",{className:"fas fa-check has-text-success pr-1"})," Thank you"]}):"Submit"})]})]})]})]}),Object(O.jsx)("div",{className:"level is-mobile is-hidden-desktop section pt-0 pb-3 container",children:Object(O.jsxs)("div",{className:"level-item",children:[Object(O.jsx)("a",{href:"https://bulma.io",children:Object(O.jsx)("img",{src:"https://bulma.io/images/made-with-bulma.png",alt:"Made with Bulma",width:"150",height:"48"})}),Object(O.jsxs)("span",{className:"icon-text pl-2",children:["Made with",Object(O.jsx)("span",{className:"icon",children:Object(O.jsx)("i",{className:"fas fa-heart has-text-danger"})})," in Tempe, AZ"]})]})})]})},_=(a(120),a(55)),F=a(29),G=a(137);function H(e){return Object(O.jsxs)("span",{className:"icon-text ".concat(e.className),children:[Object(O.jsx)("span",{children:"Copyright"}),Object(O.jsx)("span",{className:"icon",children:Object(O.jsx)("i",{className:"far fa-copyright"})}),Object(O.jsxs)("span",{children:["LocalsOnly ",(new Date).getFullYear()]})]})}var K=Object(G.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/weekly?nature)",backgroundRepeat:"repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"50px"}}})),V=function(e){var t=e.setUser,a=K();return Object(O.jsxs)("main",{id:"opening",children:[Object(O.jsx)("section",{className:"".concat(a.image," columns is-hidden-mobile is-centered p-0 my-0 mx-0"),style:{height:"100vh",width:"100vw"},children:Object(O.jsx)("div",{className:"column my-4 is-half box is-frosted container",children:Object(O.jsxs)("section",{className:"section container",children:[Object(O.jsx)("div",{className:"has-text-centered",children:Object(O.jsx)("img",{src:"LocalsOnly.png",style:{width:"10vw"},alt:""})}),Object(O.jsx)("div",{className:"".concat(a.paper," has-text-white"),children:Object(O.jsx)(E,{setUser:t})}),Object(O.jsx)("div",{className:"has-text-centered",children:Object(O.jsx)(H,{className:"content has-text-white-light"})})]})})}),Object(O.jsxs)("section",{className:"is-hidden-tablet",children:[Object(O.jsxs)("div",{style:{position:"relative",left:0,top:0},className:" mb-1",children:[Object(O.jsx)("img",{src:"https://source.unsplash.com/weekly?travel,nature",alt:"",style:{width:"200%",position:"relative",top:0,left:0}}),Object(O.jsx)("img",{src:"LocalsOnly.png",style:{height:"75%",position:"absolute",top:"50%",left:"25%"},alt:""})]}),Object(O.jsx)("div",{className:a.paper+" mt-6",children:Object(O.jsx)(E,{setUser:t,text:"black"})}),Object(O.jsx)(H,{})]})]})},q=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(8)]).then(a.bind(null,386))})),Y=Object(n.lazy)((function(){return a.e(14).then(a.bind(null,375))})),Z=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(7)]).then(a.bind(null,384))})),J=Object(n.lazy)((function(){return Promise.all([a.e(2),a.e(12)]).then(a.bind(null,385))})),$=Object(n.lazy)((function(){return Promise.all([a.e(6),a.e(15)]).then(a.bind(null,387))})),X=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(11)]).then(a.bind(null,388))})),Q=Object(n.lazy)((function(){return a.e(16).then(a.bind(null,376))})),ee=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(10)]).then(a.bind(null,377))})),te=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(9)]).then(a.bind(null,378))})),ae=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(13)]).then(a.bind(null,379))})),ne=Object(_.a)(h.c,F.c)((function(e){var t=e.firebase,a=e.user,c=Object(n.useState)(!0),s=Object(l.a)(c,2),i=s[0],h=s[1],b=Object(n.useState)(null),f=Object(l.a)(b,2),p=f[0],x=f[1],v=Object(n.useState)(null),g=Object(l.a)(v,2),N=g[0],w=g[1],y=new AbortController,k=function(e){var t=e.data;a.set({ownerID:t._id,name:t.name,email:t.email,localTo:t.localTo,role:t.role,softLocalTo:t.softLocalTo,avatar:t.avatar.data,handler:t.handle}),w(t),console.log(a)},C=function(e){x(e),e&&m.a.get("/api/v1/users/auth/".concat(e.uid)).then(k).catch((function(e){w(null)}))};return Object(n.useEffect)((function(){var e=window.location.href+"";!e.includes("localhost")&&e.includes("http://")&&(window.location.href=e.replace("http://","https://"));var a=t.auth.onAuthStateChanged(C);return function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.dir(p),console.dir(N),e.next=4,a();case 4:y.abort();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),[]),p&&N?Object(O.jsxs)(d.a,{children:[Object(O.jsx)(W,{setMadeSearch:h}),Object(O.jsx)(n.Suspense,{fallback:Object(O.jsx)("div",{className:"section content columns box",style:{minHeight:"100vh"},children:"Loading..."}),children:Object(O.jsxs)(u.d,{children:[Object(O.jsx)(u.b,{exact:!0,path:j.a,component:Y}),Object(O.jsx)(u.b,{path:j.c,component:J}),Object(O.jsx)(u.b,{path:j.e,component:function(){return Object(O.jsx)(q,{setMadeSearch:h,madeSearch:i})}}),Object(O.jsx)(u.b,{path:j.g,component:ee}),Object(O.jsx)(u.b,{path:j.b+"/images",component:ae}),Object(O.jsx)(u.b,{path:j.b,component:Z}),Object(O.jsx)(u.b,{exact:!0,path:j.d,component:X}),Object(O.jsx)(u.b,{path:j.d+"/edit",component:te}),Object(O.jsx)(u.b,{path:"/upcoming-features",component:Q}),Object(O.jsx)(u.b,{render:function(){return Object(O.jsx)(u.a,{to:j.a})}})]})}),Object(O.jsx)(R,{})]}):Object(O.jsx)(d.a,{children:Object(O.jsxs)(u.d,{children:[Object(O.jsx)(u.b,{exact:!0,path:j.a,component:function(){return Object(O.jsx)(V,{setUser:k})}}),Object(O.jsx)(n.Suspense,{fallback:Object(O.jsx)("div",{className:"columns is-centered",children:Object(O.jsx)("div",{className:"column",children:"Loading..."})}),children:Object(O.jsx)(u.b,{path:j.f,component:$})})]})})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ce=function(e){e&&e instanceof Function&&a.e(17).then(a.bind(null,380)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};s.a.render(Object(O.jsx)(h.a.Provider,{value:new h.b,children:Object(O.jsx)(F.a.Provider,{value:new F.b,children:Object(O.jsx)(ne,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),ce()},17:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return j}));var n=a(37),c=a(8),s=a(22),i=(a(80),a(1)),r=a.n(i),o=a(0);a(83).config();var l={apiKey:"AIzaSyDOZ6d6M5cnuKqBL4IyYXKu7TU_Rt-POFw",authDomain:"localsonly-a3c68.firebaseapp.com",databaseURL:"https://localsonly-a3c68.firebaseio.com",projectId:"localsonly-a3c68",storageBucket:"localsonly-a3c68.appspot.com",messagingSenderId:"583296937791",appId:"1:583296937791:web:59de121a0df2fa83eead8a",measurementId:"G-RVH5R21C1C"},u=r.a.createContext(null),d=function(e){return function(t){return Object(o.jsx)(u.Consumer,{children:function(a){return Object(o.jsx)(e,Object(c.a)(Object(c.a)({},t),{},{firebase:a}))}})}},j=function e(){var t=this;Object(n.a)(this,e),this.setProvider=function(e){t.provider=e},this.setPersistenceStorage=function(e){return t.auth.setPersistence(e)},this.persistenceLocal=function(){return s.a.auth.Auth.Persistence.LOCAL},this.persistenceNone=function(){return s.a.auth.Auth.Persistence.NONE},this.createUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.emailIsAvailable=function(e){return t.auth.fetchSignInMethodsForEmail(e)},this.signInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.signOut=function(){return t.auth.signOut()},this.passwordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.updatePassword=function(e){return t.auth.currentUser.updatePassword(e)},this.updateEmail=function(e){return t.auth.currentUser.updateEmail(e)},this.signInWithGooglePopup=function(){return t.auth.signInWithPopup(new s.a.auth.GoogleAuthProvider)},this.emailCredentials=function(e,t){return s.a.auth.EmailAuthProvider.credential(e,t)},this.reauth=function(e){return t.auth.currentUser.reauthenticateWithCredential(e)},s.a.apps.length||s.a.initializeApp(l),this.Auth=s.a.auth.Auth,this.auth=s.a.auth(),this.provider=""}},19:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"f",(function(){return s})),a.d(t,"a",(function(){return n})),a.d(t,"g",(function(){return l})),a.d(t,"h",(function(){return u}));a(40);var n=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","DC"],c=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming","District of Columbia"],s=function(e){for(var t=0;t<c.length;t++)if(e.toLowerCase()===c[t].toLowerCase())return n[t].toLowerCase();return e},i="AIzaSyAzL6UpXmTecGIQBO0HHMvFScNhiSmlzfM",r=function(e){return"https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(e,"&key=").concat(i)},o=function(e){var t="".concat(e.street.replace(/ /g,"+")).concat(""===e.apt?"+":",+".concat(e.apt),",+").concat(e.city,",+").concat(e.state,"+").concat(e.zip);return"https://maps.googleapis.com/maps/api/geocode/json?address=".concat(t,"&key=").concat(i)},l=function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var c=a[n];" "===c.charAt(0);)c=c.substring(1);if(0===c.indexOf(t))return c.substring(t.length,c.length)}},u=function(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var c="expires="+n.toUTCString();document.cookie=e+"="+t+";"+c+";path=/"}},28:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={SIGN:"sign",SEARCH:"search"}},29:function(e,t,a){"use strict";a.d(t,"a",(function(){return O})),a.d(t,"c",(function(){return p})),a.d(t,"b",(function(){return I}));var n=a(37),c=a(74),s=a(6),i=a(25),r=a(12),o=a.n(r),l=a(20),u=a(8),d=a(1),j=a.n(d),h=a(19),b=a(24),m=a.n(b),f=a(0),O=j.a.createContext(null),p=function(e){return function(t){return Object(f.jsx)(O.Consumer,{children:function(a){return Object(f.jsx)(e,Object(u.a)(Object(u.a)({},t),{},{user:a}))}})}},x=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==Object(h.g)("local-update-on")||void 0===Object(h.g)("local-update")){e.next=4;break}return console.log(Object(h.g)("local-update")),e.next=4,m.a.patch("/api/v1/users/".concat(t,"/local-to"),{localTo:Object(h.g)("local-update")}).then((function(e){Object(h.h)("local-update","",-1)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=Object(i.a)("ownerID"),g=Object(i.a)("email"),N=Object(i.a)("name"),w=Object(i.a)("localTo"),y=Object(i.a)("role"),k=Object(i.a)("avatar"),C=Object(i.a)("handler"),I=function(){function e(){var t=this;Object(n.a)(this,e),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,N,{writable:!0,value:void 0}),Object.defineProperty(this,w,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),Object.defineProperty(this,k,{writable:!0,value:void 0}),Object.defineProperty(this,C,{writable:!0,value:void 0}),this.getID=function(){return Object(s.a)(t,v)[v]},this.getEmail=function(){return Object(s.a)(t,g)[g]},this.getName=function(){return Object(s.a)(t,N)[N]},this.getLocalTo=function(){return Object(s.a)(t,w)[w]},this.getRole=function(){return Object(s.a)(t,y)[y]},this.getAllAvatars=function(){return Object(s.a)(t,k)[k]},this.getAvatar=function(){return Object(s.a)(t,k)[k][0].url||void 0},this.getHandler=function(){return Object(s.a)(t,C)[C]},this.isSet=function(){return!!t.getUserID()},Object(s.a)(this,v)[v]="",Object(s.a)(this,g)[g]="",Object(s.a)(this,N)[N]="",Object(s.a)(this,w)[w]="",Object(s.a)(this,y)[y]="",Object(s.a)(this,k)[k]=[],Object(s.a)(this,C)[C]=""}return Object(c.a)(e,[{key:"isLocalTo",value:function(e){return e&&(!e.localsOnly||this.isLocalToCity(e.address.state,e.address.city.replace(" ","_")))}},{key:"isLocalToCity",value:function(e,t){if(2!==e.length)throw new Error("State must be 2 digit code");return"".concat(e.toLowerCase(),":").concat(t.replace(" ","_"))===Object(s.a)(this,w)[w]||!this.isRestricted()}},{key:"isRestricted",value:function(){return"user"!==this.getRole()}},{key:"set",value:function(e){Object(s.a)(this,v)[v]=e.ownerID,Object(s.a)(this,g)[g]=e.email,Object(s.a)(this,N)[N]=e.name,Object(s.a)(this,w)[w]=e.localTo,Object(s.a)(this,y)[y]=e.role,Object(s.a)(this,k)[k]=e.avatar,Object(s.a)(this,C)[C]=e.handler,console.log(this.getAvatar()),x(e.ownerID)}}]),e}()},30:function(e,t,a){"use strict";var n=a(7),c=a(1);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(c.useState)(e),a=Object(n.a)(t,2),s=a[0],i=a[1],r=Object(c.useCallback)((function(){return i((function(e){return!e}))}),[]);return[s,r]}},35:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(7),c=a(1);function s(){var e=Object(c.useState)(!1),t=Object(n.a)(e,2),a=t[0],s=t[1],i=Object(c.useState)(window.innerWidth),r=Object(n.a)(i,2),o=r[0],l=r[1],u=function(){l(window.innerWidth)};return Object(c.useEffect)((function(){var e="undefined"===typeof navigator?"":navigator.userAgent,t=Boolean(e.match(/Android|BlackBerry|iPhone|iPod|Opera Mini|IEMobile|WPDesktop/i))||o<870;return window.addEventListener("resize",u),s(t),function(){window.removeEventListener("resize",u)}}),[o]),{isMobile:a}}},67:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(27),c=a(8),s=a(1),i=a(10),r=a(9),o=a(28),l=a(17),u=a(0),d=Object(l.c)((function(e){var t=e.setStatus,a=e.user,s=e.setUser,i=function(e){var i=e.target,r=i.name,o=i.value;s("email"===r?Object(c.a)(Object(c.a)({},a),{},Object(n.a)({},r,o.replace(/\s/g,""))):Object(c.a)(Object(c.a)({},a),{},Object(n.a)({},r,o))),"passwordTwo"!==r&&"passwordOne"!==r||function(){var e=document.getElementById("password"),a=document.getElementById("password_match"),n=function(e){return/^(?=.{8,})(?=.*[a-z])(?=.*[A-Z])(?=.*[!#$%^&+=]).*$/.test(e)};if(e.value===a.value&&e.value.length>7&&a.value.length>7&&n(e.value)&&n(a.value))return a.classList.add("is-success"),a.classList.remove("is-danger"),void t(!0);a.classList.add("is-danger"),a.classList.remove("is-success"),t(!1)}(),e.preventDefault()};return Object(u.jsxs)("section",{id:"signup",className:"container is-centered",children:[Object(u.jsxs)("label",{className:"label",children:["Full Name",Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{name:"name",value:a.name,onChange:i,type:"text",className:"input",autoFocus:!0})})})]}),Object(u.jsxs)("label",{className:"label",children:["Email",Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{id:"email",name:"email",value:a.email,onChange:i,type:"email",className:"input",required:!0})})})]}),Object(u.jsx)("label",{className:"label level",children:Object(u.jsxs)("span",{className:"level-left",children:[Object(u.jsx)("span",{className:"level-item",children:"Password"}),Object(u.jsx)("small",{className:"help level-item is-info",children:" must be at least 8 characters and contain at least 1 letter, number and special character (!#$%^&+=)"})]})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{id:"password",name:"passwordOne",value:a.passwordOne,onChange:i,type:"password",className:"input",minLength:8,required:!0})})}),Object(u.jsxs)("label",{className:"label",children:["Confirm Password",Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{id:"password_match",name:"passwordTwo",value:a.passwordTwo,onChange:i,type:"password",className:"input",minLength:8,required:!0})})})]}),a.error&&Object(u.jsx)("p",{className:"help is-danger",children:a.error.message})]})})),j=function(){return Object(s.useEffect)((function(){if(document.getElementById(o.a.SIGN)){var e=document.getElementById(o.a.SIGN),t=document.getElementById("signup-button");document.addEventListener("click",(function(a){t.contains(a.target)&&e.classList.contains("is-active")&&e.classList.remove("is-active")}))}})),Object(u.jsxs)("small",{children:["Don't have an account? ",Object(u.jsx)(i.b,{id:"signup-button",className:"has-text-info",to:r.f,children:"Sign Up!"})]})};t.b=d},69:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r}));a(1);var n=a(19),c=a(0),s=function(e){var t=e.children;return Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("div",{className:"control",children:t})})},i=function(e){var t=e.onChange,a=e.value,i=e.placeholder,r=e.className,o=e.id;return Object(c.jsx)(s,{children:Object(c.jsx)("input",{id:o||"state-initial-input",type:"text",placeholder:i||"AZ",className:r||"input",name:"state",value:a,onChange:function(e){(e.target.value.length<2||n.a.includes(e.target.value.toUpperCase()))&&t(e)},maxLength:2,minLength:2,pattern:"([A-Za-z]{2})",required:!0})})},r=function(e){var t=e.onClick;return Object(c.jsx)("div",{className:"level button is-static is-rounded has-background-white satisfaction-scale",children:Object(c.jsxs)("span",{className:"level-item icon is-small",children:[Object(c.jsx)("i",{className:"far fa-angry has-text-danger fa-2x is-clickable",id:0,onClick:t}),Object(c.jsx)("i",{className:"far fa-frown has-text-warning fa-2x is-clickable",id:1,onClick:t}),Object(c.jsx)("i",{className:"far fa-meh has-text-grey fa-2x is-clickable",id:2,onClick:t}),Object(c.jsx)("i",{className:"far fa-smile-beam has-text-primary fa-2x is-clickable",id:3,onClick:t}),Object(c.jsx)("i",{className:"far fa-grin-stars has-text-success fa-2x is-clickable",id:4,onClick:t})]})})};t.c=s},9:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"e",(function(){return c})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return i})),a.d(t,"f",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"g",(function(){return l}));var n="/",c="/search",s="/local",i="/create-local",r="/registration",o="/dashboard",l="/local/upload-image"}},[[122,4,5]]]);
//# sourceMappingURL=main.2453de8f.chunk.js.map