{"version":3,"sources":["Components/Buttons.jsx","Components/Search/Search.jsx","Components/SignIn.jsx","Components/Dropdowns.jsx","Components/Search/Nav.jsx","Components/Footer.jsx","Pages/Opening.jsx","App.jsx","serviceWorkerRegistration.js","reportWebVitals.js","index.jsx","Authentication.js","globals.js","Constants/IDs.js","User.js","Components/useHooks/useToggle.jsx","Components/useHooks/useDeviceDetect.jsx","Components/SignUp.jsx","Components/Input.jsx","Constants/routes.js"],"names":["LogoutButton","withFirebase","firebase","history","useHistory","title","className","onClick","signOut","push","ROUTES","LogoLinkButton","to","src","alt","LocalizeLinkButton","document","getElementById","classList","remove","UserProfileButton","CurrentLocation","setLocation","name","e","a","preventDefault","console","log","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","axios","get","fromLatLng","then","results","data","dir","city","state","i","length","types","includes","location","formatted_address","split","address_components","b","short_name","alert","catch","err","DropdownTrigger","setUser","signInWithGooglePopup","res","additionalUserInfo","isNewUser","profile","email","picture","uid","user","auth","onAuthStateChanged","post","authID","avatar","ownerID","_id","localTo","role","softLocalTo","handler","handle","window","reload","active","toggleActive","aria-haspopup","aria-controls","aria-hidden","Search","loc","handleSubmit","handleInput","isMobile","useDeviceDetect","onSubmit","type","placeholder","value","search","onChange","toggle","INITIAL_STATE","password","error","SignIn","withRouter","props","useState","hasError","setHasError","setState","target","isInvalid","event","persistence","setPersistenceStorage","signInWithEmailAndPassword","u","setProvider","providerID","setPersistentStorage","persistenceLocal","disabled","SignUp","message","MenuDropdown","buttons","SEARCH","SIGN","children","align","useToggle","id","DropdownItem","setMadeSearch","urlQuery","queryString","parse","where","setSearch","replace","Footer","rating","feedback","setFeedback","sent","setSent","isLoading","toggleIsLoading","sendFeedback","setTimeout","clearTimeout","href","parentElement","childNodes","forEach","child","contains","width","height","Copyright","Date","getFullYear","useStyles","makeStyles","theme","root","image","backgroundImage","backgroundRepeat","backgroundColor","palette","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","borderRadius","Opening","classes","style","left","top","text","Results","lazy","Home","Local","NewLocal","Registration","Profile","Upcoming","ImageUpload","EditProfile","LocalImages","compose","withUser","madeSearch","authUser","setAuthUser","userInfo","setUserInfo","abortController","AbortController","set","setAuth","useEffect","listener","abort","Nav","fallback","minHeight","exact","path","component","render","Boolean","hostname","match","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","Provider","Firebase","User","serviceWorker","ready","registration","unregister","require","config","firebaseConfig","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","FirebaseContext","React","createContext","Component","Consumer","provider","setPersistence","Auth","Persistence","LOCAL","persistenceNone","NONE","createUserWithEmailAndPassword","emailIsAvailable","fetchSignInMethodsForEmail","passwordReset","sendPasswordResetEmail","updatePassword","currentUser","updateEmail","signInWithPopup","GoogleAuthProvider","emailCredentials","pass","EmailAuthProvider","credential","reauth","credentials","reauthenticateWithCredential","apps","initializeApp","this","ABBRS","STATES","getAbbrs","toLowerCase","API_KEY","latlng","fromAddress","address","street","apt","zip","getCookie","cn","ca","decodeURIComponent","cookie","c","charAt","substring","indexOf","setCookie","cname","cvalue","exdays","d","setTime","getTime","expires","toUTCString","UserContext","updateLocal","undefined","patch","getID","getEmail","getName","getLocalTo","getRole","getAllAvatars","getAvatar","url","getHandler","isSet","getUserID","local","localsOnly","isLocalToCity","Error","isRestricted","initialState","useCallback","setMobile","innerWidth","setWidth","updateDimensions","userAgent","mobile","addEventListener","removeEventListener","setStatus","passMatch","validateString","str","test","add","checkPasswordMatch","autoFocus","required","passwordOne","minLength","passwordTwo","SignUpLink","sign","button","Input","StateInitialInput","toUpperCase","maxLength","pattern","SatisfactionScale","HOME","NEW_LOCAL","SIGNUP","PROFILE","UPLOAD_IMAGE"],"mappings":"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","file":"static/js/main.2453de8f.chunk.js","sourcesContent":["import React from 'react'\r\nimport {Link} from 'react-router-dom';\r\nimport {useHistory} from 'react-router-dom'\r\nimport * as ROUTES from '../Constants/routes';\r\nimport {withFirebase} from '../Authentication';\r\nimport axios from 'axios';\r\nimport { fromLatLng } from '../globals';\r\n\r\n\r\nexport const LogoutButton = withFirebase(({firebase}) => {\r\n    const history = useHistory();\r\n   return <button title=\"Logout\" className=\"button is-primary is-outlined\" \r\n            onClick={()=>{\r\n                firebase.signOut(); history.push(ROUTES.HOME);\r\n        }}> \r\n            <span className=\"icon\">\r\n            <i className=\"fas fa-door-open\"/>\r\n            </span>\r\n        </button>\r\n})\r\n\r\nexport const LogoLinkButton = ()=>(\r\n    <Link to={ROUTES.HOME}>\r\n        <img src=\"../LocalsOnly.png\" alt=\"localsonly\"/>\r\n    </Link>\r\n)\r\n\r\nexport const LocalizeLinkButton = ()=>{\r\n    const toggle = ()=>{\r\n        if(document.getElementById('search')) \r\n            document.getElementById('search').classList.remove('is-active');\r\n        if(document.getElementById('sign')) \r\n            document.getElementById('sign').classList.remove('is-active');\r\n    }\r\n    return (\r\n        <Link title=\"New Local\" className=\"button\" to={ROUTES.NEW_LOCAL} onClick={toggle}>\r\n            <span className=\"icon\">\r\n            <i className=\"fas fa-plus-circle\"/>\r\n            </span>\r\n        </Link> \r\n    )\r\n}\r\n\r\nexport const UserProfileButton = ()=>(\r\n    <Link title=\"Profile\" className=\"button is-main\" to={ROUTES.PROFILE}>\r\n        <span className=\"icon\">\r\n        <i className=\"fas fa-user-astronaut\"/>\r\n        </span>\r\n    </Link>\r\n)\r\n\r\n\r\n\r\nexport const CurrentLocation = ({setLocation, name})=>{\r\n    \r\n    const onClick = async e =>{\r\n        e.preventDefault();\r\n        console.log(\"User Location clicked\");\r\n        if (\"geolocation\" in navigator) {\r\n\r\n            console.log(\"Available\");\r\n            navigator.geolocation.getCurrentPosition(async function(position) {\r\n\r\n                console.log(\"Latitude is :\", position.coords.latitude);\r\n          \r\n                console.log(\"Longitude is :\", position.coords.longitude);\r\n                axios.get(fromLatLng(`${position.coords.latitude},${position.coords.longitude}`)).then(({data:{results}})=>{\r\n                    console.dir(results);\r\n                    let city = \"\";\r\n                    let state = \"\";\r\n                    if(results[1]){\r\n                        //Grab city and state from \"locality\"\r\n                        for(let i = 0; i < results.length; i++){\r\n                            if(results[i].types.includes(\"locality\")){\r\n                                const location = results[i].formatted_address.split(',')\r\n                                city = location[0];\r\n                                state = location[1];\r\n                            }\r\n                        }\r\n                        //If could not get from \"locality\", grab within address_components\r\n                        if(city === \"\" || state === \"\"){\r\n                            for(let i = 0; i < results[0].address_components.length; i++){\r\n                                for(let b = 0; b < results[0].address_components[i].types.length; b++){\r\n                                    if(results[0].address_components[i].types[b] === \"administrative_area_level_1\"){\r\n                                        state = results[0].address_components[i].short_name;\r\n                                    }\r\n                                    if(results[0].address_components[i].types[b] === \"locality\"){\r\n                                        city = results[0].address_components[i].short_name;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    else{\r\n                        alert(\"We cant find your location!\")\r\n                        return;\r\n                    }\r\n                    return {city, state}\r\n                }).then(({city, state})=>{\r\n                    console.log(`${city}, ${state}`);\r\n                    if(!city || ! state){\r\n                        setLocation(\"\");\r\n                        return;\r\n                    }\r\n                    setLocation(`${city}, ${state}`);\r\n                }).catch(err=>{\r\n                    console.log(\"Error in getting city: \" + err);\r\n                })\r\n          \r\n              });\r\n              return;\r\n          }\r\n            alert(\"Make sure geolocation is allowed\");\r\n            console.log(\"Geolocation Not Available\");\r\n    }\r\n    return <span name={name} className=\"current-location-button icon is-left\" onClick={onClick}>\r\n        <i title=\"Current Location\" className=\"fas fa-crosshairs\"/>\r\n    </span>\r\n}\r\n\r\nexport const GoogleSignIn = withFirebase(({firebase, setUser})=>{\r\n    const signInWithGoogle = e =>{\r\n        e.preventDefault();\r\n        firebase.signInWithGooglePopup()\r\n        .then(res=>{\r\n            console.log(\"Successfully signed in with google popup\")\r\n            console.log(res);\r\n            const {additionalUserInfo : {isNewUser, profile:{email, name, picture}}, user:{uid}} = res;\r\n            firebase.auth.onAuthStateChanged(res)\r\n            if(isNewUser){\r\n                console.log(`\r\n                From Firebase Signup: \r\n                    Name: ${name}\r\n                    Email : ${email}\r\n                    Picture: ${picture}\r\n                    UID: ${uid}\r\n                `);\r\n                axios.post(`/api/v1/users`,{\r\n                    authID: uid,\r\n                    email,\r\n                    name,\r\n                    avatar: picture\r\n                }).then((res)=>{\r\n                    console.log(res);\r\n                    // axios.get(`/api/v1/users/auth/${res.data.authID}`)\r\n                }).catch(err=>{\r\n                    console.log(\"Error signing user up in Fauna: \" + err);\r\n                })\r\n            }\r\n            axios\r\n        .get(`/api/v1/users/auth/${uid}`)\r\n        .then(({data})=>setUser({\r\n            ownerID: data._id,\r\n            name: data.name,\r\n            email: data.email,\r\n            localTo: data.localTo,\r\n            role: data.role,\r\n            softLocalTo: data.softLocalTo,\r\n            avatar: (data.avatar && data.avatar.data) || \"\",\r\n            handler: data.handle\r\n        }))\r\n        .then(()=>window.location.reload())\r\n        .catch((err) => {\r\n          console.log(\"Error in this spot\");\r\n          console.log(err);\r\n        });\r\n        })\r\n        .catch(err=>{\r\n            console.log(\"Error signing in with google popup: \" + err)\r\n        })\r\n    }\r\n    return <div className=\"button content is-fullwidth is-google\" onClick={signInWithGoogle}>\r\n               \r\n                    <span className=\"icon\">\r\n                        <i className=\"fab fa-google\"/>\r\n                    </span>\r\n                    <span>Google</span>\r\n                \r\n            </div>\r\n})\r\n\r\nexport const DropdownTrigger = ({active, toggleActive})=>{\r\n    return <div className=\"dropdown-trigger\">\r\n    <button className=\"button\" aria-haspopup=\"true\" aria-controls=\"dropdown-menu\" onClick={()=>{toggleActive()}}>\r\n      <span className=\"icon is-small\">\r\n        {active ? <i className=\"fas fa-times\" aria-hidden=\"false\"/> : <i className=\"fas fa-bars\" aria-hidden=\"true\"/>}\r\n      </span>\r\n    </button>\r\n  </div>\r\n}","import React from 'react'\r\nimport {CurrentLocation} from \"../Buttons\";\r\nimport useDeviceDetect from \"../useHooks/useDeviceDetect\";\r\n\r\nconst Search = ({loc, setLocation, handleSubmit, handleInput, className}) => {\r\n  const { isMobile } = useDeviceDetect();\r\n\r\n  const toggle = ()=>{\r\n      if(document.getElementById('search'))\r\n        document.getElementById('search').classList.toggle('is-active')\r\n    }\r\n  \r\n\r\n  return (\r\n    \r\n    \r\n      \r\n      <form className={`field  ${!isMobile && \"has-addons\"} ${className}`} onSubmit={handleSubmit}>\r\n    \r\n    <div className=\"control\">\r\n      <input type=\"text\" className=\"input search-bar\" placeholder=\"What to do?\" name=\"what\" value={loc.search} onChange={handleInput} />\r\n    </div>\r\n    <div className=\"control has-icons-left\">\r\n      <input className=\"input\" type=\"text\" name=\"state\" value={loc.state} onChange={handleInput}/>\r\n      <CurrentLocation name=\"state\" setLocation={setLocation}/>\r\n    </div>\r\n    \r\n    <p className=\"control\">\r\n      <button type=\"submit\" className={`button is-primary search-bar ${isMobile && \"is-fullwidth\"}`} onClick={toggle}>\r\n        <i className=\"fas fa-search\"/>\r\n      </button>\r\n    </p>\r\n    \r\n  </form>\r\n    \r\n  )\r\n}\r\n\r\nexport default Search;","import React, {useState} from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport { withFirebase } from '../Authentication';\r\nimport { SignUpLink } from './SignUp';\r\nimport { GoogleSignIn } from './Buttons';\r\nimport useToggle from '../Components/useHooks/useToggle';\r\n// import RememberMe from './RememberMe';\r\nimport {getCookie, setCookie} from \"../globals\";\r\n\r\n\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  password: '',\r\n  error: ''\r\n};\r\n\r\n\r\n\r\nconst SignIn = withRouter(withFirebase(({firebase, ...props})=>{\r\n  \r\n    const [hasError, setHasError] = useState(false);\r\n    let [state, setState] = useState(INITIAL_STATE);\r\n\r\n    const setPersistentStorage = (persistence, email, password)=>{\r\n      firebase.setPersistenceStorage(persistence)\r\n        .then(()=>{\r\n          firebase\r\n        .signInWithEmailAndPassword(email, password)\r\n        .then((u) => {\r\n          firebase.setProvider(u.additionalUserInfo.providerID)\r\n          \r\n        })\r\n        .catch(error => {\r\n          setHasError(true)\r\n          setState({ ...state, error:error });\r\n        })\r\n        })\r\n        .catch(err=>{\r\n          console.dir(\"Error in userCheckedRememberMe: \" + err);\r\n        })\r\n    }\r\n\r\n    const onSubmit = event => {\r\n      event.preventDefault();\r\n      // console.log(rememberMe);\r\n      const { email, password } = state;\r\n      \r\n      setPersistentStorage(firebase.persistenceLocal(), email, password);\r\n        \r\n    }\r\n\r\n    const onChange = ({target: {name, value}}) => {\r\n      setState({...state, [name]: value });\r\n    };\r\n\r\n    const { email, password } = state;\r\n    let {error} = state;\r\n    const isInvalid = password === '' && email === '';\r\n\r\n    return (<div className={props.className}>\r\n      \r\n      <form onSubmit={onSubmit} className=\"form\">\r\n       {/* <div className=\"section px-0 pt-6 pb-5\">\r\n        <GoogleSignIn setUser={props.setUser}/>\r\n       </div>\r\n       <div className=\"text-has-line\"><span>or</span></div> */}\r\n        <div className=\"field\">\r\n          <p className=\"control has-icons-left\">\r\n            <input\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={onChange}\r\n              type=\"text\"\r\n              className=\"input\"\r\n              placeholder=\"Email\"\r\n            />\r\n            <span className=\"icon is-small is-left\">\r\n              <i className=\"fas fa-envelope has-text-link\"/>\r\n            </span>\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"field\">\r\n          <p className=\"control has-icons-left\">\r\n            \r\n            <input\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={onChange}\r\n              type=\"password\"\r\n              className=\"input\"\r\n              placeholder=\"Password\"\r\n            />\r\n            <span className=\"icon is-small is-left\">\r\n              <i className=\"fas fa-lock has-text-link\"/>\r\n            </span>\r\n          </p>\r\n        </div>\r\n        {/* <RememberMe rememberMe={rememberMe} setRememberMe={setRememberMe}/> */}\r\n        \r\n          <div className=\"pt-3\">\r\n            <button className={`pt-2  is-fullwidth is-outlined button ${isInvalid ? 'is-danger' : 'is-info'}`} disabled={isInvalid} type=\"submit\">\r\n            Sign In\r\n            </button>\r\n          </div>\r\n        \r\n          <div className=\"section\">\r\n          <SignUpLink/>\r\n          </div>\r\n      </form>\r\n        {hasError && (<span className={`notification is-danger is-outlined`} onClick={e=>{\r\n          // e.preventDefault();\r\n          setHasError(false);\r\n        }}>{error.message}</span>)}\r\n    </div>\r\n    );\r\n }))\r\n\r\n\r\n\r\nexport default SignIn;","import React, {useEffect, useRef} from 'react'\r\nimport SignIn from './SignIn';\r\nimport {buttons} from '../Constants/IDs';\r\nimport Search from './Search/Search';\r\nimport {DropdownTrigger} from \"./Buttons\";\r\nimport useToggle from './useHooks/useToggle';\r\n\r\nconst {SEARCH, SIGN} = buttons\r\n\r\nexport const SearchDropdown = ({loc, handleInput, handleSubmit, zip})=>{\r\n    \r\n    useEffect(()=>{\r\n        const sign = document.getElementById(SEARCH);\r\n        document.addEventListener('click',e=>{\r\n            const isClickedInside = sign.contains(e.target);\r\n            if(!isClickedInside){\r\n                sign.classList.remove('is-active');\r\n            }\r\n        })\r\n    })\r\n    const toggle = ()=>{\r\n        document.getElementById('search').classList.toggle('is-active')\r\n      \r\n        if(document.getElementById('sign')) \r\n            document.getElementById('sign').classList.remove('is-active');\r\n        \r\n    }\r\n    return (\r\n        <div id={SEARCH} className=\"dropdown\">\r\n            <div className=\"dropdown-trigger\" >\r\n                <button className=\"button is-primary\" aria-haspopup=\"true\" aria-controls=\"dropdown-menu\" onClick={toggle}>\r\n                    <i className=\"fas fa-search-location\"></i>\r\n                </button>\r\n            </div>\r\n            <div className=\"dropdown-menu mobile-search\"  role=\"menu\">\r\n                <div className=\"dropdown-content \">\r\n                    <div className=\"dropdown-item \">\r\n                      <Search loc={loc} handleInput={handleInput} handleSubmit={handleSubmit} zip={zip}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n            \r\nexport const SignInDrowdown = props=>{\r\n    \r\n    \r\n    const innerRef = useRef(null);\r\n    useEffect(()=>{\r\n        const sign = document.getElementById(SIGN);\r\n        document.addEventListener('click',e=>{\r\n            const isClickedInside = sign.contains(e.target);\r\n            if(!isClickedInside){\r\n                sign.classList.remove('is-active');\r\n            }\r\n        })\r\n    })\r\n    const toggle = ()=>{\r\n        document.getElementById('sign').classList.toggle(\"is-active\")\r\n        \r\n        if(document.getElementById('search')) \r\n            document.getElementById('search').classList.remove('is-active');\r\n           \r\n        \r\n    }\r\n    \r\n    \r\n    return (\r\n        <div id={SIGN} className=\"dropdown is-right\" ref={innerRef}>\r\n            <div className=\"dropdown-trigger\" >\r\n                <button className=\"button is-primary\" aria-haspopup=\"true\" aria-controls=\"dropdown-menu\" onClick={toggle}>\r\n                    <i className=\"fas fa-door-closed\"></i>\r\n                </button>\r\n            </div>\r\n            <div className=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\r\n               \r\n                    <nav className={`panel is-primary is-full-width has-background-white ${props.width}`}>\r\n                        <p className=\"panel-heading\">\r\n                            Sign In\r\n                        </p>\r\n                        <div className='panel-block dropdown-item is-active'>\r\n                            <SignIn/> \r\n                        </div>\r\n                    </nav>\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const MenuDropdown = ({children, align}) =>{\r\n\r\n    const [active, toggleActive] = useToggle();\r\n\r\n    return <div className={`dropdown mr-1 ${align === \"right\" && \"is-right\"} ${active && \"is-active\"}`}>\r\n        <DropdownTrigger active={active} toggleActive={toggleActive}/>\r\n        <div className=\"dropdown-menu \" id=\"dropdown-menu\" role=\"menu\">\r\n            <div className=\"dropdown-content\">\r\n                {children}\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport const DropdownItem = ({children})=>{\r\n    return <div className=\"dropdown-item\">\r\n        {children}\r\n    </div>\r\n}","import React , {useState} from 'react'\r\nimport { withRouter } from \"react-router\";\r\nimport Search from './Search';\r\nimport {LogoLinkButton, LocalizeLinkButton, LogoutButton, UserProfileButton} from '../Buttons';\r\nimport {MenuDropdown, DropdownItem} from '../Dropdowns';\r\nimport {useHistory} from 'react-router';\r\nimport queryString from 'query-string'\r\nimport useDeviceDetect from \"../useHooks/useDeviceDetect\";\r\n\r\n\r\nexport default withRouter(({setMadeSearch, location:{search:urlQuery}})=>{\r\n    \r\n  const { isMobile } = useDeviceDetect();\r\n  \r\n  const [state, setState] = useState(queryString.parse(urlQuery).where || 'Tempe, Arizona');\r\n  \r\n  \r\n  const history = useHistory();\r\n  const [search, setSearch] = useState('');\r\n  \r\n  const handleInput=(event)=>{\r\n    const {name, value} = event.target;\r\n    switch(name){\r\n      case \"what\":\r\n        setSearch(value);\r\n        break;\r\n      case \"state\":\r\n        setState(value)\r\n        // setCity(getCities('US', value)[0])\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n \r\n  const handleSubmit = event=>{\r\n    event.preventDefault();\r\n    setMadeSearch(true)\r\n    history.push(`/search?${search === '' ? '' : `what=${search.replace(' ', '+')}&`}where=${state}`);\r\n  }\r\n\r\n  \r\n\r\n  return (\r\n      <nav \r\n        id=\"main-nav\"\r\n        className={`navbar level is-mobile pr-2 pl-2 pt-0 is-fixed-top ivory`} \r\n        role=\"navigation\">\r\n          <div className=\"level-left\">\r\n            <div className=\"level-item\">\r\n              <LogoLinkButton/>\r\n            </div>\r\n            {!isMobile && \r\n            <div className=\"level-item\">\r\n            <Search className=\"pl-2\" loc={{search, state}} setLocation={setState} handleInput={handleInput} handleSubmit={handleSubmit}/>\r\n            </div>\r\n            }\r\n          </div>\r\n          \r\n              {\r\n                isMobile ? (\r\n                  <MenuDropdown align=\"right\">\r\n                    <DropdownItem>\r\n                      <Search className=\"pl-2\" loc={{search, state}} setLocation={setState} handleInput={handleInput} handleSubmit={handleSubmit}/>\r\n                    </DropdownItem>\r\n                    <DropdownItem>\r\n                      <div className=\"level is-mobile container\">\r\n                        <div className=\"level-item\">\r\n                          <LocalizeLinkButton/>\r\n                        </div>\r\n                        <div className=\"level-item\">\r\n                          <UserProfileButton/>\r\n                        </div>\r\n                        <div className=\"level-item\">\r\n                          <LogoutButton/>\r\n                        </div>\r\n                      </div>\r\n                    </DropdownItem>\r\n                  </MenuDropdown>\r\n                ) : (\r\n          <div className=\"level-right\">\r\n                  <div className=\"level-item\">\r\n                  <LocalizeLinkButton/>\r\n                </div>\r\n                <div className=\"level-item\">\r\n                  <UserProfileButton/>\r\n                </div>\r\n                <div className=\"level-item\">\r\n                  <LogoutButton/>\r\n                </div>\r\n          </div>\r\n                  )\r\n              }\r\n          \r\n      </nav>\r\n  )\r\n    \r\n})\r\n\r\n","import React, {useState} from \"react\";\nimport useToggle from \"./useHooks/useToggle\";\nimport {Link} from 'react-router-dom';\nimport { SatisfactionScale } from \"./Input\";\n\nconst Footer = ()=>{\n  const [feedback, setFeedback] = useState({\n    message:\"\",\n    rating:-1\n  });\n  const [sent, setSent] = useState(false);\n  const [isLoading, toggleIsLoading] = useToggle();\n  const onChangeFeedback = e =>{\n          e.preventDefault();\n          setFeedback({...feedback, message: e.target.value});\n  }\n  const sendFeedback = async e=>{\n    toggleIsLoading()\n          e.preventDefault();\n          const {message, rating} = feedback;         \n          if(message.length > 0 || rating !== -1){\n            await import('axios').then(axios=>{\n              axios.post(\"/api/v1/feedback\",{\n                message,\n                rating\n              }).then(res=>{\n                setFeedback({\n                  message:\"\",\n                  rating:-1\n                })\n                setSent(true);\n                \n              }).then(()=>{\n\n                setTimeout(function(){setSent(false);}, 3000)\n                clearTimeout();\n              })\n            })\n          }\n          toggleIsLoading();\n  }\n\n  const satisfyScale = e=>{\n    e.preventDefault();\n    // console.log(e.target);\n    const {parentElement} = e.target;\n    // console.log(parentElement);\n    parentElement.childNodes.forEach(child=>{\n      // console.log(child.classList);\n      if(child.classList.contains(\"fas\")){\n        child.classList.replace(\"fas\", \"far\")\n      }\n    })\n    e.target.classList.replace(\"far\", \"fas\")\n    setFeedback({...feedback, rating: e.target.id});\n  }\n  return (\n    <footer className=\"footer\">\n        <div className=\"columns is-centered mb-0 mt-1\">\n        <section className=\"column is-2-desktop\">\n          <h1 className=\"title has-text-white\">Get Involved</h1>\n            <article className=\"content is-medium\">\n              <ul className=\"\">\n                <li>\n                  <a href=\"https://discord.gg/dHBeyu5W6K\" className=\"icon-text\">\n                    <span className=\"icon has-text-white\">\n                        <i className=\"fab fa-large fa-discord\"/>\n                    </span>\n                    <span>discord</span>\n                  </a>\n                </li>\n                <li>\n                  <a href=\"https://www.facebook.com/LocalsOnlyxyz-109680918086095\" className=\"content icon-text\">\n                    <span className=\"icon has-text-white\">\n                      <i className=\"fab fa-large fa-facebook-square\"/>\n                    </span>\n                    <span>facebook</span>\n                  </a>\n                </li>\n                <li>\n                  <a href=\"https://www.instagram.com\" className=\"content icon-text\">\n                    <span className=\"icon has-text-white\">\n                      <i className=\"fab fa-large fa-instagram\"/>\n                    </span>\n                    <span>instagram</span>\n                  </a>\n                </li>\n                <li>\n                  <a href=\"https://twitter.com/localsonlyxyz\" className=\"content icon-text\">\n                    <span className=\"icon has-text-white\">\n                      <i className=\"fab fa-large fa-twitter\"/>\n                    </span>\n                    <span>twitter</span>\n                  </a>\n                </li>\n            </ul>\n          </article>\n        </section>\n        <section className=\"column is-2-desktop\">\n        <h1 className=\"title has-text-white\">Links</h1>\n          <article className=\"\">\n          <ul>\n            <li>\n              <Link to=\"/\">home</Link>\n            </li>\n            <li>\n              <Link to=\"/dashboard\">dashboard</Link>\n            </li>\n            <li>\n              <Link to=\"/create-local\">create new local</Link>\n            </li>\n            <li>\n              <Link to=\"/terms-services\">terms & services</Link>\n            </li>\n            <li>\n              <Link to=\"/privacy-policy\">privacy policy</Link>\n            </li>\n          </ul>\n          </article>\n          {/* <div className=\"is-hidden-mobile section pb-0 pt-0 has-text-centered\">\n\n          <a href=\"https://bulma.io\">\n              <img src=\"https://bulma.io/images/made-with-bulma.png\" alt=\"Made with Bulma\" width=\"150\" height=\"48\"/>\n            </a>\n          <span className=\"icon-text \">Made with<span className=\"icon\"><i className=\"fas fa-heart has-text-danger\"/></span> in Tempe, AZ</span>\n          </div> */}\n        </section>\n        <section className=\"column is-3-desktop\">\n                <h1 className=\"title has-text-white mb-1\">Feedback</h1>\n                <form className=\"form\" onSubmit={sendFeedback}>\n                        \n                        <div className=\"field\">\n                                <div className=\"control\">\n                                <textarea className=\"textarea\" type=\"text\" name=\"feedback\" value={feedback.message} onChange={onChangeFeedback}/>\n                                </div>\n                        </div>\n                        <div className=\"control level\">\n                        <SatisfactionScale onClick={satisfyScale}/>\n                        <button className={`button is-outlined is-white ${isLoading && \"is-loading\"}`} type=\"submit\">{sent ? \n                          <div className=\"icon is-large px-6\"><i className=\"fas fa-check has-text-success pr-1\"/> Thank you</div>\n                        :\"Submit\"}</button>\n                        </div>\n                </form>\n        </section>\n        </div>\n        <div className=\"level is-mobile is-hidden-desktop section pt-0 pb-3 container\">\n            <div className=\"level-item\">\n            <a href=\"https://bulma.io\">\n              <img src=\"https://bulma.io/images/made-with-bulma.png\" alt=\"Made with Bulma\" width=\"150\" height=\"48\"/>\n            </a>\n          <span className=\"icon-text pl-2\">Made with<span className=\"icon\"><i className=\"fas fa-heart has-text-danger\"/></span> in Tempe, AZ</span>\n            </div>\n          </div>\n    </footer>\n  )\n}\n\nexport default Footer;","import React from 'react';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport SignIn from '../Components/SignIn';\r\n\r\nfunction Copyright(props) {\r\n  return (\r\n    <span className={`icon-text ${props.className}`}>\r\n      <span>Copyright</span> \r\n      <span className=\"icon\">\r\n        <i className=\"far fa-copyright\"/>\r\n      </span>\r\n      <span>LocalsOnly {new Date().getFullYear()}</span>\r\n    </span>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: '100vh',\r\n  },\r\n  image: {\r\n    backgroundImage: 'url(https://source.unsplash.com/weekly?nature)',\r\n    backgroundRepeat: 'repeat',\r\n    backgroundColor:\r\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center',\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    borderRadius: '50px'\r\n  }\r\n}));\r\n\r\nconst Opening = ({setUser})=>{\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <main id=\"opening\">\r\n      <section  className={`${classes.image} columns is-hidden-mobile is-centered p-0 my-0 mx-0`} style={{height:\"100vh\",width:\"100vw\"}}>\r\n        <div className=\"column my-4 is-half box is-frosted container\">\r\n        <section className=\"section container\">\r\n        <div className=\"has-text-centered\"><img src=\"LocalsOnly.png\"  style={{width:'10vw'}} alt=\"\"/></div>\r\n        <div className={`${classes.paper} has-text-white`}>\r\n        <SignIn setUser={setUser}/>\r\n        </div>\r\n        <div className=\"has-text-centered\">\r\n        <Copyright className=\"content has-text-white-light\"/>\r\n        </div>\r\n        </section>\r\n        </div>\r\n      </section>\r\n    <section className=\"is-hidden-tablet\">\r\n      <div style={{position:'relative',left:0,top:0}} className=\" mb-1\" >\r\n          <img src='https://source.unsplash.com/weekly?travel,nature' alt=\"\" style={{ width:\"200%\", position:\"relative\", top:0, left:0}}/>\r\n          <img src=\"LocalsOnly.png\" style={{height:'75%', position:\"absolute\", top:\"50%\", left:\"25%\"}} alt=\"\"/>\r\n      </div>\r\n      <div className={classes.paper + \" mt-6\"}>\r\n        <SignIn setUser={setUser} text=\"black\"/>\r\n        </div>\r\n        <Copyright/>\r\n    </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Opening;\r\n\r\n\r\n\r\n\r\n\r\n{/* <Grid container component=\"main\" className={classes.root}>\r\n<CssBaseline />\r\n<Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n<Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n  <div className={`${classes.paper} home-logo`}>\r\n    <img src=\"LocalsOnly.png\" className=\"is-hidden-mobile\" style={{height:'50%',width: '13vw'}} alt=\"\"/>\r\n    <img src=\"LocalsOnly.png\" className=\"is-hidden-tablet mb-1\" style={{height:'100%',width: '45vw'}} alt=\"\"/>\r\n    <SignIn setUser={setUser}/>\r\n  </div>\r\n  <Copyright/>\r\n</Grid>\r\n</Grid> */}\r\n\r\n","import React, { useEffect, useState, Suspense, lazy } from \"react\";\r\nimport Nav from \"./Components/Search/Nav\";\r\nimport Footer from \"./Components/Footer\";\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport * as ROUTES from \"./Constants/routes\";\r\nimport { withFirebase } from \"./Authentication\";\r\n\r\nimport axios from \"axios\";\r\nimport { compose } from \"recompose\";\r\n\r\nimport { withUser } from \"./User\";\r\n\r\n\r\nimport Opening from \"./Pages/Opening\";\r\n\r\n\r\n// Pages\r\nconst Results = lazy(()=>import(\"./Pages/Results\"));\r\nconst Home = lazy(()=>import(\"./Pages/Home\"));\r\nconst Local = lazy(()=>import(\"./Pages/Local\"));\r\nconst NewLocal = lazy(()=>import(\"./Pages/NewLocal\"));\r\nconst Registration = lazy(()=>import(\"./Pages/Registration\"));\r\nconst Profile = lazy(()=>import(\"./Pages/Profile\"));\r\nconst Upcoming = lazy(()=>import(\"./Pages/Upcoming\"));\r\nconst ImageUpload = lazy(()=>import(\"./Pages/ImageUpload\"));\r\nconst EditProfile = lazy(()=>import(\"./Pages/EditProfile\"));\r\nconst LocalImages = lazy(()=>import(\"./Pages/LocalImages\"));\r\n\r\nexport default compose(\r\n  withFirebase,\r\n  withUser\r\n)(({firebase, user}) => {\r\n  const [madeSearch, setMadeSearch] = useState(true);\r\n  const [authUser, setAuthUser] = useState(null);\r\n  const [userInfo, setUserInfo] = useState(null);\r\n  const abortController = new AbortController();\r\n\r\n  const setUser = ({data}) => {\r\n    user.set({\r\n      ownerID: data._id,\r\n      name: data.name,\r\n      email: data.email,\r\n      localTo: data.localTo,\r\n      role: data.role,\r\n      softLocalTo: data.softLocalTo,\r\n      avatar: data.avatar.data,\r\n      handler: data.handle\r\n    });\r\n    setUserInfo(data);\r\n    console.log(user);\r\n  };\r\n\r\n  const setAuth = (auth) => {\r\n    setAuthUser(auth);\r\n    if (auth) {\r\n      axios\r\n        .get(`/api/v1/users/auth/${auth.uid}`)\r\n        .then(setUser)\r\n        .catch((err) => {\r\n          setUserInfo(null);\r\n        });\r\n    }\r\n  };\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    const loc = window.location.href + \"\";\r\n    \r\n    if (!loc.includes(\"localhost\") && loc.includes(\"http://\"))\r\n      window.location.href = loc.replace(\"http://\", \"https://\");\r\n\r\n    const listener = firebase.auth.onAuthStateChanged(setAuth);\r\n    \r\n    return async function cleanup() {\r\n      console.dir(authUser);\r\n      console.dir(userInfo)\r\n      await listener();\r\n      \r\n      abortController.abort();\r\n    };\r\n  },[]);\r\n\r\n  if (authUser && userInfo)\r\n    return (\r\n      <Router>\r\n          <Nav setMadeSearch={setMadeSearch} />\r\n        <Suspense fallback={<div className=\"section content columns box\" style={{minHeight:\"100vh\"}}>Loading...</div>}>\r\n          <Switch>\r\n            <Route exact path={ROUTES.HOME} component={Home} />\r\n            <Route path={ROUTES.NEW_LOCAL} component={NewLocal} />\r\n            <Route\r\n              path={ROUTES.SEARCH}\r\n              component={() => (\r\n                <Results setMadeSearch={setMadeSearch} madeSearch={madeSearch} />\r\n              )}\r\n            />\r\n            <Route path={ROUTES.UPLOAD_IMAGE} component={ImageUpload}/>\r\n            <Route path={ROUTES.LOCAL + \"/images\"} component={LocalImages}/>\r\n            <Route path={ROUTES.LOCAL} component={Local} />\r\n            <Route exact path={ROUTES.PROFILE} component={Profile} />\r\n            <Route path={ROUTES.PROFILE + \"/edit\"} component={EditProfile}/>\r\n            <Route path={\"/upcoming-features\"} component={Upcoming} />\r\n            <Route render={() => <Redirect to={ROUTES.HOME} />} />\r\n          </Switch>\r\n        </Suspense>\r\n        <Footer/>\r\n      </Router>\r\n    );\r\n\r\n  return (\r\n    <Router>\r\n        <Switch>\r\n          <Route exact path={ROUTES.HOME} component={()=><Opening setUser={setUser}/>} />\r\n      <Suspense  fallback={<div className=\"columns is-centered\">\r\n        <div className=\"column\">Loading...</div>\r\n        </div>}>\r\n          <Route path={ROUTES.SIGNUP} component={Registration} />\r\n      </Suspense>\r\n        </Switch>\r\n    </Router>\r\n  );\r\n});\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport Firebase, {FirebaseContext} from './Authentication';\r\nimport User, {UserContext} from './User';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\n// import {register} from \"./serviceWorker\";\r\n\r\nReactDOM.render(\r\n    <FirebaseContext.Provider value={new Firebase()}>\r\n            <UserContext.Provider value={new User()}>\r\n                <App/>\r\n            </UserContext.Provider>\r\n    </FirebaseContext.Provider>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// register();import * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.unregister();\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();","import  firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport React from 'react';\r\nrequire('dotenv').config();\r\n\r\nconst firebaseConfig = {\r\n  apiKey:process.env.REACT_APP_FIREBASE_APIKEY,\r\n  authDomain:process.env.REACT_APP_FIREBASE_AUTHDOMAIN,\r\n  databaseURL:process.env.REACT_APP_FIREBASE_DATABASEURL,\r\n  projectId:process.env.REACT_APP_FIREBASE_PROJECTID,\r\n  storageBucket:process.env.REACT_APP_FIREBASE_STORAGEBUCKET,\r\n  messagingSenderId:process.env.REACT_APP_FIREBASE_MESSEGINGSENDERID,\r\n  appId:process.env.REACT_APP_FIREBASE_APPID,\r\n  measurementId:process.env.REACT_APP_FIREBASE_MEASUREMENTID,\r\n}\r\n\r\nexport const FirebaseContext = React.createContext(null);\r\n\r\nexport const withFirebase = Component => props => (\r\n  <FirebaseContext.Consumer>\r\n    {firebase => <Component {...props} firebase={firebase} />}\r\n  </FirebaseContext.Consumer>\r\n);\r\n\r\nexport default class Firebase {\r\n  constructor() {\r\n    \r\n    if(!firebase.apps.length){\r\n      firebase.initializeApp(firebaseConfig);\r\n    }\r\n    this.Auth = firebase.auth.Auth;\r\n    this.auth = firebase.auth();\r\n    this.provider = \"\"\r\n  }\r\n\r\n  setProvider = provider =>{\r\n    this.provider = provider\r\n  }\r\n  setPersistenceStorage = persistence => this.auth.setPersistence(persistence);\r\n  persistenceLocal = ()=> firebase.auth.Auth.Persistence.LOCAL\r\n  persistenceNone = ()=> firebase.auth.Auth.Persistence.NONE\r\n\r\n  createUserWithEmailAndPassword = (email, password) =>\r\n    this.auth.createUserWithEmailAndPassword(email, password);\r\n  \r\n  emailIsAvailable = email => this.auth.fetchSignInMethodsForEmail(email);\r\n\r\n  signInWithEmailAndPassword = (email, password) =>\r\n    this.auth.signInWithEmailAndPassword(email, password);\r\n  \r\n  signOut = () => this.auth.signOut();\r\n    \r\n\r\n  passwordReset = email => this.auth.sendPasswordResetEmail(email);\r\n\r\n  updatePassword = password => this.auth.currentUser.updatePassword(password);\r\n  updateEmail = email => this.auth.currentUser.updateEmail(email);\r\n  signInWithGooglePopup = () => this.auth.signInWithPopup(new firebase.auth.GoogleAuthProvider())\r\n  emailCredentials = (email, pass)=>firebase.auth.EmailAuthProvider.credential(email,pass)\r\n  reauth = (credentials)=>this.auth.currentUser.reauthenticateWithCredential(credentials)\r\n}\r\n\r\n","const ABBRS = [\r\n    \"AL\",\"AK\",\"AZ\",\"AR\",\"CA\",\"CO\",\"CT\",\"DE\",\"FL\",\"GA\",\"HI\",\"ID\",\"IL\",\"IN\",\"IA\",\"KS\",\r\n    \"KY\",\"LA\",\"ME\",\"MD\",\"MA\",\"MI\",\"MN\",\"MS\",\"MO\",\"MT\",\"NE\",\"NV\",\"NH\",\"NJ\",\"NM\",\"NY\",\r\n    \"NC\",\"ND\",\"OH\",\"OK\",\"OR\",\"PA\",\"RI\",\"SC\",\"SD\",\"TN\",\"TX\",\"UT\",\"VT\",\"VA\",\"WA\",\"WV\",\r\n    \"WI\",\"WY\",\"DC\"\r\n]\r\n\r\nconst STATES = [\r\n    \"Alabama\",\"Alaska\",\"Arizona\",\"Arkansas\",\"California\",\"Colorado\",\"Connecticut\",\"Delaware\",\r\n    \"Florida\",\"Georgia\",\"Hawaii\",\"Idaho\",\"Illinois\",\"Indiana\",\"Iowa\",\"Kansas\",\"Kentucky\",\"Louisiana\",\r\n    \"Maine\",\"Maryland\",\"Massachusetts\",\"Michigan\",\"Minnesota\",\"Mississippi\",\"Missouri\",\"Montana\",\r\n    \"Nebraska\",\"Nevada\",\"New Hampshire\",\"New Jersey\",\"New Mexico\",\"New York\",\"North Carolina\",\"North Dakota\",\r\n    \"Ohio\",\"Oklahoma\",\"Oregon\",\"Pennsylvania\",\"Rhode Island\",\"South Carolina\",\"South Dakota\",\"Tennessee\",\r\n    \"Texas\",\"Utah\",\"Vermont\",\"Virginia\",\"Washington\",\"West Virginia\",\"Wisconsin\",\"Wyoming\",\"District of Columbia\"  \r\n]\r\n\r\nconst getAbbrs = state=>{\r\n    for(let i = 0; i < STATES.length;i++){\r\n        if(state.toLowerCase() === STATES[i].toLowerCase())\r\n            return ABBRS[i].toLowerCase();\r\n    }\r\n    return state\r\n}\r\nconst API_KEY='AIzaSyAzL6UpXmTecGIQBO0HHMvFScNhiSmlzfM'\r\nconst fromLatLng = latlng => `https://maps.googleapis.com/maps/api/geocode/json?latlng=${latlng}&key=${API_KEY}`;\r\n\r\nconst fromAddress = address => {\r\n    const a = `${address.street.replace(/ /g,\"+\")}${address.apt === '' ? '+' :`,+${address.apt}`},+${address.city},+${address.state}+${address.zip}`\r\n    return `https://maps.googleapis.com/maps/api/geocode/json?address=${a}&key=${API_KEY}`;\r\n}\r\n\r\nconst imageURL = image =>{\r\n    return `https://res.cloudinary.com/dpjlvg7ql/image/upload/v1615148804/locals/${image}`;\r\n}\r\n\r\nconst parsePath = ({location, ...paths}) =>{\r\n    console.log(location);\r\n    console.log(paths);\r\n}\r\n\r\nconst getCookie = cn =>{\r\n    const name = cn + \"=\";\r\n    const decodedCookie = decodeURIComponent(document.cookie);\r\n    const ca = decodedCookie.split(';');\r\n    for(let i = 0; i < ca.length; i++){\r\n        let c = ca[i];\r\n        while(c.charAt(0) === ' '){\r\n            c = c.substring(1);\r\n        }\r\n        if(c.indexOf(name) === 0){\r\n            // console.log(\"Cookie Result: \"+c.substring(name.length, c.length));\r\n            return c.substring(name.length, c.length);\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\n\r\nconst setCookie = (cname, cvalue, exdays)=>{\r\n    const d = new Date();\r\n    d.setTime(d.getTime() + (exdays*24*60*60*1000));\r\n    let expires = \"expires=\"+ d.toUTCString();\r\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n  }\r\nexport {STATES, API_KEY, fromLatLng, fromAddress, getAbbrs, ABBRS, parsePath, imageURL, getCookie, setCookie};","export const buttons = {\r\n    SIGN : 'sign',\r\n    SEARCH: 'search'\r\n}","import React from 'react';\r\nimport { getCookie, setCookie } from \"./globals\";\r\nimport axios from 'axios';\r\n\r\nexport const UserContext = React.createContext(null);\r\n\r\nexport const withUser = Component => props => (\r\n    <UserContext.Consumer>\r\n      {user => <Component {...props} user={user} />}\r\n    </UserContext.Consumer>\r\n  );\r\n\r\nconst updateLocal = async (_id)=>{\r\n    if(getCookie(\"local-update-on\") === undefined && getCookie(\"local-update\") !== undefined){\r\n      console.log(getCookie(\"local-update\"));\r\n      await axios.patch(`/api/v1/users/${_id}/local-to`,{\r\n        localTo:getCookie(\"local-update\")\r\n      }).then((res)=>{\r\n        setCookie(\"local-update\", \"\", -1);\r\n      })\r\n    }}\r\n\r\nexport default class User{\r\n    #ownerID;\r\n    #email;\r\n    #name;\r\n    #localTo;\r\n    // #softLocalTo;\r\n    #role;\r\n    #avatar;\r\n    #handler;\r\n\r\n    constructor(){\r\n        this.#ownerID = \"\";\r\n        this.#email = \"\";\r\n        this.#name = \"\";\r\n        this.#localTo = \"\";\r\n        this.#role = \"\";\r\n        this.#avatar = [];\r\n        this.#handler = \"\";\r\n    }\r\n    \r\n    getID=()=>this.#ownerID;\r\n    getEmail=()=>this.#email;\r\n    getName=()=>this.#name;\r\n    getLocalTo=()=>this.#localTo;\r\n    getRole=()=>this.#role;\r\n    getAllAvatars=()=>this.#avatar;\r\n    getAvatar=()=> this.#avatar[0].url || undefined;\r\n    getHandler=()=>this.#handler;\r\n    \r\n    isSet=()=>!!this.getUserID();\r\n    \r\n    isLocalTo(local){\r\n      return local && (!local.localsOnly || this.isLocalToCity(local.address.state, local.address.city.replace(\" \",\"_\")))\r\n    }\r\n\r\n    isLocalToCity(state, city){\r\n      if(state.length !== 2){\r\n        throw new Error(\"State must be 2 digit code\")\r\n      }\r\n      return `${state.toLowerCase()}:${city.replace(\" \",\"_\")}` === this.#localTo || !this.isRestricted()\r\n    }\r\n\r\n    isRestricted(){\r\n      return this.getRole() !== \"user\"\r\n    }\r\n    \r\n    set(user){\r\n      this.#ownerID = user.ownerID;\r\n      this.#email = user.email;\r\n      this.#name = user.name;\r\n      this.#localTo = user.localTo;\r\n      this.#role = user.role;\r\n      this.#avatar = user.avatar;\r\n      this.#handler = user.handler;\r\n      console.log(this.getAvatar());\r\n      updateLocal(user.ownerID);\r\n    }\r\n}","import { useCallback, useState } from 'react';\n\n// Hook\n// Parameter is the boolean, with default \"false\" value\nconst useToggle = (initialState = false) => {\n  // Initialize the state\n  const [state, setState] = useState(initialState);\n  \n  // Define and memorize toggler function in case we pass down the comopnent,\n  // This function change the boolean value to it's opposite value\n  const toggle = useCallback(() => setState(state => !state), []);\n  \n  return [state, toggle]\n}\n\nexport default useToggle;","import {useState, useEffect} from \"react\";\n\nexport default function useDeviceDetect() {\n\n  const [isMobile, setMobile] = useState(false);\n  const [width, setWidth] = useState(window.innerWidth);\n  const updateDimensions = ()=>{setWidth(window.innerWidth)}\n  \n  \n  useEffect(() => {\n    const userAgent =\n      typeof navigator === \"undefined\" ? \"\" : navigator.userAgent;\n\n      const mobile = Boolean(\n        userAgent.match(/Android|BlackBerry|iPhone|iPod|Opera Mini|IEMobile|WPDesktop/i)\n      ) || width < 870\n      window.addEventListener('resize', updateDimensions)\n   \n      setMobile(mobile)\n      return function cleanup(){\n        window.removeEventListener('resize', updateDimensions)\n      };\n  }, [width]);\n\n  return { isMobile }\n}","import React,{useEffect} from 'react';\r\nimport { Link} from 'react-router-dom';\r\nimport * as ROUTES from '../Constants/routes';\r\nimport {buttons} from '../Constants/IDs';\r\nimport { withFirebase } from '../Authentication';\r\n\r\n \r\nconst SignUp = withFirebase(({setStatus, user, setUser})=> {\r\n  \r\n    const checkPasswordMatch = ()=>{\r\n      const pass = document.getElementById('password');\r\n      const passMatch = document.getElementById('password_match');\r\n      const validateString = str => (/^(?=.{8,})(?=.*[a-z])(?=.*[A-Z])(?=.*[!#$%^&+=]).*$/.test(str))\r\n      \r\n        \r\n          if(pass.value === passMatch.value && (pass.value.length > 7 && passMatch.value.length > 7)){\r\n            if(validateString(pass.value) && validateString(passMatch.value)){\r\n              passMatch.classList.add('is-success')\r\n              passMatch.classList.remove('is-danger')\r\n              setStatus(true)\r\n              return;\r\n            }\r\n          }\r\n          passMatch.classList.add('is-danger');\r\n          passMatch.classList.remove('is-success');\r\n          setStatus(false)\r\n    }\r\n  \r\n    const onChange = event => {\r\n      const {name, value} = event.target;\r\n      if(name === \"email\") setUser({...user, [name]:value.replace(/\\s/g, '')})\r\n      else setUser({...user, [name]:value})\r\n     \r\n      if(name === \"passwordTwo\" || name === \"passwordOne\"){\r\n        checkPasswordMatch();\r\n      }\r\n      event.preventDefault();\r\n  }\r\n\r\n    return (\r\n      <section id=\"signup\" className=\"container is-centered\">\r\n      <label className=\"label\">\r\n        Full Name\r\n        <div className=\"field\">\r\n        <div className=\"control\">\r\n          <input\r\n            name=\"name\"\r\n            value={user.name}\r\n            onChange={onChange}\r\n            type=\"text\"\r\n            className=\"input\"\r\n            autoFocus={true}\r\n          />\r\n        </div>\r\n      </div>\r\n      </label>\r\n        <label className=\"label\">\r\n          Email\r\n        <div className=\"field\">\r\n          <div className=\"control\">\r\n            <input\r\n              id=\"email\"\r\n              name=\"email\"\r\n              value={user.email}\r\n              onChange={onChange}\r\n              type=\"email\"\r\n              className=\"input\"\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n        </label>\r\n        <label className=\"label level\">\r\n          <span className=\"level-left\">\r\n            <span className=\"level-item\">Password</span> \r\n            <small className=\"help level-item is-info\"> must be at least 8 characters and contain at least 1 letter, number and special character (!#$%^&+=)</small>\r\n          </span>\r\n        </label>\r\n          <div className=\"field\">\r\n          <div className=\"control\">\r\n            <input\r\n            id=\"password\"\r\n              name=\"passwordOne\"\r\n              value={user.passwordOne}\r\n              onChange={onChange}\r\n              type=\"password\"\r\n              className=\"input\"\r\n              minLength={8}\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        <label className=\"label\">\r\n          Confirm Password\r\n          <div className=\"field\">\r\n          <div className=\"control\">\r\n            <input\r\n              id=\"password_match\"\r\n              name=\"passwordTwo\"\r\n              value={user.passwordTwo}\r\n              onChange={onChange}\r\n              type=\"password\"\r\n              className=\"input\"\r\n              minLength={8}\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n        </label>\r\n        \r\n        {user.error && <p className=\"help is-danger\">{user.error.message}</p>}\r\n      </section>\r\n    );\r\n  })\r\n\r\n \r\nexport const SignUpLink = () => {\r\n  useEffect(()=>{\r\n    if(document.getElementById(buttons.SIGN)){\r\n      const sign = document.getElementById(buttons.SIGN);\r\n    const button = document.getElementById(\"signup-button\")\r\n    document.addEventListener('click',e=>{\r\n        const isClickedInside = button.contains(e.target);\r\n        if(isClickedInside && sign.classList.contains('is-active')){\r\n            sign.classList.remove('is-active');\r\n        \r\n    }})\r\n    }\r\n})\r\n  return <small>Don't have an account? <Link id=\"signup-button\" className=\"has-text-info\" to={ROUTES.SIGNUP} >Sign Up!</Link></small>\r\n}\r\n\r\nexport default SignUp;","import React from 'react';\nimport {ABBRS} from \"../globals\";\n\nconst Input = ({children}) => (\n  <div className=\"field\">\n      <div className=\"control\">\n          {children}\n      </div>\n  </div>\n)\n\nconst SelectInput = ({children, name, value, onChange}) => (\n  <div className=\"field select is-full\">\n      <select className=\"control\" name={name} id=\"state\" value={value} onChange={onChange}>\n          {children}\n      </select>\n  </div>\n)\n\nconst StateInitialInput = ({onChange, value, placeholder, className, id}) => {\n\n  const CheckState = e =>{\n      if(e.target.value.length < 2 || ABBRS.includes(e.target.value.toUpperCase())){\n        onChange(e);\n      }\n  }\n\n   return <Input>\n        <input \n        id={id || \"state-initial-input\"} \n        type=\"text\" \n        placeholder={placeholder || \"AZ\"} \n        className={className || \"input\"} \n        name=\"state\" \n        value={value} \n        onChange={CheckState} \n        maxLength={2} \n        minLength={2} \n        pattern=\"([A-Za-z]{2})\" \n        required\n        />\n    </Input>\n}\n\nconst SatisfactionScale = ({onClick})=>{\n  return <div className=\"level button is-static is-rounded has-background-white satisfaction-scale\">\n    <span className=\"level-item icon is-small\">\n      <i className=\"far fa-angry has-text-danger fa-2x is-clickable\" id={0} onClick={onClick}/>\n      <i className=\"far fa-frown has-text-warning fa-2x is-clickable\" id={1} onClick={onClick}/>\n      <i className=\"far fa-meh has-text-grey fa-2x is-clickable\" id={2} onClick={onClick}/>\n      <i className=\"far fa-smile-beam has-text-primary fa-2x is-clickable\" id={3} onClick={onClick}/>\n      <i className=\"far fa-grin-stars has-text-success fa-2x is-clickable\" id={4} onClick={onClick}/>\n    </span>\n  </div>\n}\n\nexport default Input;\nexport {\n  SelectInput,\n  StateInitialInput,\n  SatisfactionScale\n}","export const HOME = '/';\r\nexport const SEARCH = '/search';\r\nexport const LOCAL = '/local';\r\nexport const NEW_LOCAL = '/create-local';\r\nexport const SIGNUP = '/registration';\r\nexport const PROFILE = '/dashboard';\r\nexport const UPLOAD_IMAGE = \"/local/upload-image\""],"sourceRoot":""}