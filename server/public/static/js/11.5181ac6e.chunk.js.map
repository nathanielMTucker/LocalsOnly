{"version":3,"sources":["Components/Picture.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","Components/UserTag.jsx","Components/Avatar.jsx","Pages/Profile.jsx"],"names":["Picture","id","publicId","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","DevTag","className","BetaTag","PremiumTag","CEOTag","UserTag","withUser","user","r","role","getRole","console","log","Avatar","avatar","useEffect","da","document","getElementById","rand","Math","round","random","color","style","fill","DefaultAvatar","viewBox","xmlns","clip-path","width","height","rx","cx","cy","d","cloudName","secure","upload_preset","preset","Profile","useState","locals","setLocals","offset","setOffset","limit","getLocals","a","axios","get","getID","then","data","after","currentItems","catch","err","error","message","DisplayLocals","map","pub","name","images","url","description","to","_id","getAvatar","getName","getHandler","getEmail","getLocalTo","split","state","city","charAt","toUpperCase","slice","formatLocal","onClick","e","preventDefault"],"mappings":"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","file":"static/js/11.5181ac6e.chunk.js","sourcesContent":["import React from 'react'\nimport {Image} from 'cloudinary-react';\n\nconst Picture = ({id}) => {\n    \n    return (\n        <Image publicId={id}></Image>\n    )\n}\n\nexport default Picture;","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from 'react';\nimport {withUser} from '../User';\n\nconst DevTag = () => \n<span className=\"ml-1 tag is-info is-light\">\n      <i className=\"fas fa-tools pr-1 mr-1 my-0\"/> <p>Dev</p>\n  </span>\n\n\nconst BetaTag = () => \n<span className=\"tag is-link is-light\">\n      <i className=\"fas fa-flask pr-1 mr-1 my-0\"/> Beta\n</span>\n\n\nconst PremiumTag = () =>\n<span className=\"tag is-warning is-light\">\n<i className=\"fas fa-gem pr-1 mr-1 my-0\"/> Premium\n</span>\n\n\n\nconst CEOTag = () =>\n<span className=\"tag is-danger is-light \">\n<i className=\"fas fa-crown pr-1 mr-1 my-0\"/> <p className=\"content\">Founder</p>\n</span>\n\nconst UserTag = withUser(({user, role})=>{\n  const r = role || user.getRole();\n  \n  console.log(r);\n  if(r === \"CEO\"){\n    return <CEOTag/>\n  }\n  if(r === \"admin\"){\n    return <DevTag/>\n  }\n  if(r === \"ebet\"){\n    return <BetaTag/>\n  }\n  if(r === \"prem\"){\n    return <PremiumTag/>\n  }\n  return null;\n})\n\nconst UserTagAnimate = ()=>\n<span className=\"animate-tag\">\n  <UserTag/>\n</span>\n\nexport default UserTag\n\nexport {\n  DevTag,\n  BetaTag,\n  PremiumTag,\n  CEOTag,\n  UserTagAnimate\n}","import React, {useEffect} from \"react\";\nimport Picture from \"./Picture\";\nimport { CloudinaryContext } from \"cloudinary-react\";\n\nconst Avatar = ({avatar}) =>{\n\n  useEffect(()=>{\n    const da = document.getElementById(\"avatar-background\")\n    const rand = Math.round(Math.random(16) * 20) \n    let color = `hsl(${rand}, 100%, 75%)`;\n    da.style.fill = color;\n  },[avatar])\n\n  const DefaultAvatar = ()=>(\n    <svg viewBox=\"0 0 500 500\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g id=\"default-avatar\" clip-path=\"url(#clip0)\">\n        <g id=\"background\">\n          <rect id=\"avatar-background\" width=\"500\" height=\"500\" rx=\"36\"/>\n        </g>\n        <g id=\"person\">\n          <circle id=\"avatar-head\" cx=\"250\" cy=\"167\" r=\"115\" fill=\"white\"/>\n          <path id=\"avatar-body\" d=\"M475 445C475 414.5 451.295 385.249 409.099 363.683C366.903 342.116 309.674 330 250 330C190.326 330 133.097 342.116 90.901 363.683C48.7053 385.249 25 414.5 25 445L250 445H475Z\" fill=\"white\"/>\n        </g>\n      </g>\n      <defs>\n        <clipPath id=\"clip0\">\n          <rect width=\"500\" height=\"500\" fill=\"white\"/>\n        </clipPath>\n      </defs>\n    </svg>\n  )\n\n  return (\n    avatar ? (\n    <CloudinaryContext cloudName={\"dpjlvg7ql\"} secure={false} upload_preset=\"avatar_images\">\n          <Picture id={avatar} preset=\"avatar_images\"/>\n      </CloudinaryContext>\n      ):\n      <DefaultAvatar/>\n    \n  )\n\n}\n\nexport default Avatar;","import React, {useState, useEffect} from 'react'\r\nimport { withUser } from '../User'\r\nimport axios from 'axios';\r\nimport Picture from '../Components/Picture';\r\nimport {Link} from 'react-router-dom';\r\nimport { CloudinaryContext} from 'cloudinary-react'\r\nimport UserTag from \"../Components/UserTag\";\r\nimport Avatar from '../Components/Avatar';\r\n\r\nconst Profile = withUser(({user}) => {\r\n    \r\n   \r\n    const [locals, setLocals] = useState([]);\r\n    // const [loading, setLoading] = useState(true)\r\n    const [offset, setOffset] = useState(null);\r\n    const [limit] = useState(10);\r\n\r\n    const getLocals = async ()=>{\r\n        await axios.get(`/api/v1/users/locals?id=${user.getID()}&limit=${limit}${offset ? `&offset=${offset}` : ''}`)\r\n        .then(({data:{data, after}})=>{\r\n           \r\n            setLocals(currentItems=>[...currentItems, ...data] || null)\r\n            setOffset(after)\r\n        })\r\n        .catch(err=>{\r\n            console.error(err)\r\n            setLocals([{\r\n                message : \"Unable to connect\"\r\n            }])\r\n        })\r\n\r\n        // setLoading(false);\r\n    }\r\n    useEffect(()=>{\r\n        console.log(\"In user profile: \");\r\n        \r\n        getLocals();\r\n    },[user])\r\n\r\n    \r\n    const DisplayLocals = () =>{\r\n        return locals ? locals.map(pub=>\r\n\r\n            <li className=\"box\">\r\n                <h1 className=\"title\">{pub.name}</h1>\r\n                { \r\n                    pub.images && pub.images.data[0]?\r\n                    <CloudinaryContext cloudName={\"dpjlvg7ql\"} secure={false} upload_preset=\"local_images\">\r\n                        <Picture id={pub.images.data[0].url} preset=\"local_images\"/>\r\n                    </CloudinaryContext> :\r\n                    null\r\n                }\r\n                <article className=\"content\">{pub.description}</article>\r\n                <Link to={`local?id=${pub._id}`}>Go to Local</Link>\r\n            </li>\r\n            \r\n            ) : <h1>Loading...</h1>\r\n    }\r\n    const onClickShowMore = e =>{\r\n        e.preventDefault();\r\n        getLocals();\r\n    }\r\n    const formatLocal = ()=>{\r\n        let [state, city] = user.getLocalTo().split(':');\r\n        return city && state ? `${city.charAt(0).toUpperCase() + city.slice(1)}, ${state.toUpperCase()}` : \"unavailable\"\r\n    }\r\n    \r\n    return (\r\n        <main id=\"profile-page\" className=\"section container\">\r\n            \r\n                <article className=\"columns\">\r\n                <section id=\"profile-details\" className=\"column\">\r\n                    <div className=\"media\">\r\n                        <figure className=\"media-left\">\r\n                            <div className=\"image is-128x128\">\r\n                                <Link to={`/dashboard/edit`}>\r\n                                <div className=\"profile-avatar\">\r\n                                    \r\n                                        <Avatar avatar={user.getAvatar()}/>\r\n                                    \r\n                                    <div className=\"edit-avatar\">edit</div>\r\n                                </div>\r\n                                </Link>\r\n                            </div>\r\n                        </figure>\r\n                        <div className=\"media-content\">\r\n                            <h1 className=\"title my-0 py-0\">{user.getName()} <span></span>\r\n                            <UserTag/>\r\n                            </h1>\r\n                            \r\n                            <h2 className=\"subtitle mt-0 pt-0\">@{user.getHandler()}</h2>\r\n                            \r\n                            <p>Email: {user.getEmail()}</p>\r\n                            <p>Local: {formatLocal()}</p>\r\n                        </div>\r\n                    </div>\r\n                   \r\n                    \r\n                </section>\r\n                <section className=\"column level\">\r\n                    <div className=\"level-right\">\r\n                    <Link className=\"button pt-1 level-item\" to={`/dashboard/edit`}>Edit Profile</Link>\r\n                    </div>\r\n                </section>\r\n                \r\n            </article>     \r\n            <section className=\"my-4 profile-local-section\">\r\n                <h1 className=\"title\">Locals</h1>\r\n                <ul className=\"is-flex is-flex-direction-column is-flex-shrink-4\">\r\n                    <DisplayLocals/> \r\n                    {offset && <div className=\"text-has-line my-5 is-clickable\" onClick={onClickShowMore}><span>show more</span></div>}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    )\r\n})\r\n\r\nexport default Profile;\r\n"],"sourceRoot":""}